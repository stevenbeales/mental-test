<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Concurrent::TimerSet - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="RubyExecutorService.html">Concurrent::RubyExecutorService</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li class="calls-super" ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-kill">#kill</a>
    
    <li ><a href="#method-i-post">#post</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Concurrent::TimerSet">
  <h1 id="class-Concurrent::TimerSet" class="class">
    class Concurrent::TimerSet
  </h1>

  <section class="description">
    
<p>Executes a collection of tasks, each after a given delay. A master task
monitors the set and schedules each task for execution at the appropriate
time. Tasks are run on the global thread pool or on the supplied executor.
Each task is represented as a `ScheduledTask`.</p>

<p>@see <a href="ScheduledTask.html">Concurrent::ScheduledTask</a></p>

<p>@!macro monotonic_clock_warning</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(opts = {})</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Create a new set of timed tasks.</p>

<p>@!macro [attach] executor_options</p>

<pre>@param [Hash] opts the options used to specify the executor on which to perform actions
@option opts [Executor] :executor when set use the given `Executor` instance.
  Three special values are also supported: `:task` returns the global task pool,
  `:operation` returns the global operation pool, and `:immediate` returns a new
  `ImmediateExecutor` object.</pre>
          
          
            <div class="method-calls-super">
              Calls superclass method
              <a href="RubyExecutorService.html#method-c-new">Concurrent::RubyExecutorService.new</a>
            </div>
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/timer_set.rb, line 30</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">opts</span> = {})
  <span class="ruby-keyword">super</span>(<span class="ruby-identifier">opts</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-kill" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">kill</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Begin an immediate shutdown. In-progress tasks will be allowed to complete
but enqueued tasks will be dismissed and no new tasks will be accepted. Has
no additional effect if the thread pool is not running.</p>
          
          

          
          <div class="method-source-code" id="kill-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/timer_set.rb, line 64</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">kill</span>
  <span class="ruby-identifier">shutdown</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-post" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">post</span><span
            class="method-args">(delay, *args, &task)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Post a task to be execute run after a given delay (in seconds). If the
delay is less than 1/100th of a second the task will be immediately post to
the executor.</p>

<p>@param [Float] delay the number of seconds to wait for before executing the
task. @param [Array&lt;Object&gt;] args the arguments passed to the task on
execution.</p>

<p>@yield the task to be performed.</p>

<p>@return [Concurrent::ScheduledTask, false] <a href="IVar.html">IVar</a>
representing the task if the post</p>

<pre>is successful; false after shutdown.</pre>

<p>@raise [ArgumentError] if the intended execution time is not in the future.
@raise [ArgumentError] if no block is given.</p>
          
          

          
          <div class="method-source-code" id="post-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/concurrent-ruby-1.0.5/lib/concurrent/executor/timer_set.rb, line 48</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">post</span>(<span class="ruby-identifier">delay</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">task</span>)
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;no block given&#39;</span>) <span class="ruby-keyword">unless</span> <span class="ruby-identifier">block_given?</span>
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">running?</span>
  <span class="ruby-identifier">opts</span> = {
    <span class="ruby-identifier">executor</span><span class="ruby-operator">:</span> <span class="ruby-ivar">@task_executor</span>,
    <span class="ruby-identifier">args</span><span class="ruby-operator">:</span> <span class="ruby-identifier">args</span>,
    <span class="ruby-identifier">timer_set</span><span class="ruby-operator">:</span> <span class="ruby-keyword">self</span>
  }
  <span class="ruby-identifier">task</span> = <span class="ruby-constant">ScheduledTask</span>.<span class="ruby-identifier">execute</span>(<span class="ruby-identifier">delay</span>, <span class="ruby-identifier">opts</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">task</span>) <span class="ruby-comment"># may raise exception</span>
  <span class="ruby-identifier">task</span>.<span class="ruby-identifier">unscheduled?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">false</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">task</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

