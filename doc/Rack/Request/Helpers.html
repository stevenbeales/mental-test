<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>module Rack::Request::Helpers - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
  var index_rel_prefix = "../../";
</script>

<script src="../../js/jquery.js"></script>
<script src="../../js/darkfish.js"></script>

<link href="../../css/fonts.css" rel="stylesheet">
<link href="../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="module">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../table_of_contents.html#pages">Pages</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    
    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-GET">#GET</a>
    
    <li ><a href="#method-i-POST">#POST</a>
    
    <li ><a href="#method-i-5B-5D">#[]</a>
    
    <li ><a href="#method-i-5B-5D-3D">#[]=</a>
    
    <li ><a href="#method-i-accept_encoding">#accept_encoding</a>
    
    <li ><a href="#method-i-accept_language">#accept_language</a>
    
    <li ><a href="#method-i-authority">#authority</a>
    
    <li ><a href="#method-i-base_url">#base_url</a>
    
    <li ><a href="#method-i-body">#body</a>
    
    <li ><a href="#method-i-content_charset">#content_charset</a>
    
    <li ><a href="#method-i-content_length">#content_length</a>
    
    <li ><a href="#method-i-content_type">#content_type</a>
    
    <li ><a href="#method-i-cookies">#cookies</a>
    
    <li ><a href="#method-i-delete-3F">#delete?</a>
    
    <li ><a href="#method-i-delete_param">#delete_param</a>
    
    <li ><a href="#method-i-form_data-3F">#form_data?</a>
    
    <li ><a href="#method-i-fullpath">#fullpath</a>
    
    <li ><a href="#method-i-get-3F">#get?</a>
    
    <li ><a href="#method-i-head-3F">#head?</a>
    
    <li ><a href="#method-i-host">#host</a>
    
    <li ><a href="#method-i-host_with_port">#host_with_port</a>
    
    <li ><a href="#method-i-ip">#ip</a>
    
    <li ><a href="#method-i-link-3F">#link?</a>
    
    <li ><a href="#method-i-logger">#logger</a>
    
    <li ><a href="#method-i-media_type">#media_type</a>
    
    <li ><a href="#method-i-media_type_params">#media_type_params</a>
    
    <li ><a href="#method-i-multithread-3F">#multithread?</a>
    
    <li ><a href="#method-i-options-3F">#options?</a>
    
    <li ><a href="#method-i-params">#params</a>
    
    <li ><a href="#method-i-parseable_data-3F">#parseable_data?</a>
    
    <li ><a href="#method-i-patch-3F">#patch?</a>
    
    <li ><a href="#method-i-path">#path</a>
    
    <li ><a href="#method-i-path_info">#path_info</a>
    
    <li ><a href="#method-i-path_info-3D">#path_info=</a>
    
    <li ><a href="#method-i-port">#port</a>
    
    <li ><a href="#method-i-post-3F">#post?</a>
    
    <li ><a href="#method-i-put-3F">#put?</a>
    
    <li ><a href="#method-i-query_string">#query_string</a>
    
    <li ><a href="#method-i-referer">#referer</a>
    
    <li ><a href="#method-i-referrer">#referrer</a>
    
    <li ><a href="#method-i-request_method">#request_method</a>
    
    <li ><a href="#method-i-scheme">#scheme</a>
    
    <li ><a href="#method-i-script_name">#script_name</a>
    
    <li ><a href="#method-i-script_name-3D">#script_name=</a>
    
    <li ><a href="#method-i-session">#session</a>
    
    <li ><a href="#method-i-session_options">#session_options</a>
    
    <li ><a href="#method-i-ssl-3F">#ssl?</a>
    
    <li ><a href="#method-i-trace-3F">#trace?</a>
    
    <li ><a href="#method-i-trusted_proxy-3F">#trusted_proxy?</a>
    
    <li ><a href="#method-i-unlink-3F">#unlink?</a>
    
    <li ><a href="#method-i-update_param">#update_param</a>
    
    <li ><a href="#method-i-url">#url</a>
    
    <li ><a href="#method-i-user_agent">#user_agent</a>
    
    <li ><a href="#method-i-values_at">#values_at</a>
    
    <li ><a href="#method-i-xhr-3F">#xhr?</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="module-Rack::Request::Helpers">
  <h1 id="module-Rack::Request::Helpers" class="module">
    module Rack::Request::Helpers
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="DEFAULT_PORTS">DEFAULT_PORTS
        
        <dd><p>Default ports depending on scheme. Used to decide whether or not to include
the port in a generated URI.</p>
        
      
        <dt id="FORM_DATA_MEDIA_TYPES">FORM_DATA_MEDIA_TYPES
        
        <dd><p>The set of form-data media-types. Requests that do not indicate one of the
media types presents in this list will not be eligible for form-data /
param parsing.</p>
        
      
        <dt id="HTTP_X_FORWARDED_HOST">HTTP_X_FORWARDED_HOST
        
        <dd>
        
      
        <dt id="HTTP_X_FORWARDED_PORT">HTTP_X_FORWARDED_PORT
        
        <dd>
        
      
        <dt id="HTTP_X_FORWARDED_PROTO">HTTP_X_FORWARDED_PROTO
        
        <dd>
        
      
        <dt id="HTTP_X_FORWARDED_SCHEME">HTTP_X_FORWARDED_SCHEME
        
        <dd>
        
      
        <dt id="HTTP_X_FORWARDED_SSL">HTTP_X_FORWARDED_SSL
        
        <dd>
        
      
        <dt id="PARSEABLE_DATA_MEDIA_TYPES">PARSEABLE_DATA_MEDIA_TYPES
        
        <dd><p>The set of media-types. Requests that do not indicate one of the media
types presents in this list will not be eligible for param parsing like
soap attachments or generic multiparts</p>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-GET" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">GET</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the data received in the query string.</p>
          
          

          
          <div class="method-source-code" id="GET-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 315</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">GET</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_REQUEST_QUERY_STRING</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">query_string</span>
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_REQUEST_QUERY_HASH</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">query_hash</span> = <span class="ruby-identifier">parse_query</span>(<span class="ruby-identifier">query_string</span>, <span class="ruby-string">&#39;&amp;;&#39;</span>)
    <span class="ruby-identifier">set_header</span>(<span class="ruby-constant">RACK_REQUEST_QUERY_STRING</span>, <span class="ruby-identifier">query_string</span>)
    <span class="ruby-identifier">set_header</span>(<span class="ruby-constant">RACK_REQUEST_QUERY_HASH</span>, <span class="ruby-identifier">query_hash</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-POST" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">POST</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the data received in the request body.</p>

<p>This method support both application/x-www-form-urlencoded and
multipart/form-data.</p>
          
          

          
          <div class="method-source-code" id="POST-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 329</span>
<span class="ruby-keyword">def</span> <span class="ruby-constant">POST</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_INPUT</span>).<span class="ruby-identifier">nil?</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-string">&quot;Missing rack.input&quot;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_REQUEST_FORM_INPUT</span>) <span class="ruby-operator">==</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_INPUT</span>)
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_REQUEST_FORM_HASH</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">form_data?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">parseable_data?</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">set_header</span>(<span class="ruby-constant">RACK_REQUEST_FORM_HASH</span>, <span class="ruby-identifier">parse_multipart</span>)
      <span class="ruby-identifier">form_vars</span> = <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_INPUT</span>).<span class="ruby-identifier">read</span>

      <span class="ruby-comment"># Fix for Safari Ajax postings that always append \0</span>
      <span class="ruby-comment"># form_vars.sub!(/\0\z/, &#39;&#39;) # performance replacement:</span>
      <span class="ruby-identifier">form_vars</span>.<span class="ruby-identifier">slice!</span>(<span class="ruby-value">-1</span>) <span class="ruby-keyword">if</span> <span class="ruby-identifier">form_vars</span>[<span class="ruby-value">-1</span>] <span class="ruby-operator">==</span> <span class="ruby-value">?\</span><span class="ruby-value">0</span>

      <span class="ruby-identifier">set_header</span> <span class="ruby-constant">RACK_REQUEST_FORM_VARS</span>, <span class="ruby-identifier">form_vars</span>
      <span class="ruby-identifier">set_header</span> <span class="ruby-constant">RACK_REQUEST_FORM_HASH</span>, <span class="ruby-identifier">parse_query</span>(<span class="ruby-identifier">form_vars</span>, <span class="ruby-string">&#39;&amp;&#39;</span>)

      <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_INPUT</span>).<span class="ruby-identifier">rewind</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">set_header</span> <span class="ruby-constant">RACK_REQUEST_FORM_INPUT</span>, <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_INPUT</span>)
    <span class="ruby-identifier">get_header</span> <span class="ruby-constant">RACK_REQUEST_FORM_HASH</span>
  <span class="ruby-keyword">else</span>
    {}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-5B-5D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">[]</span><span
            class="method-args">(key)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>shortcut for <code>request.params[key]</code></p>
          
          

          
          <div class="method-source-code" id="5B-5D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 424</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">key</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
    <span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;Request#[] is deprecated and will be removed in a future version of Rack. Please use request.params[] instead&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-5B-5D-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">[]=</span><span
            class="method-args">(key, value)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>shortcut for <code>request.params[key] = value</code></p>

<p>Note that modifications will not be persisted in the env. Use <a
href="Helpers.html#method-i-update_param">#update_param</a> or <a
href="Helpers.html#method-i-delete_param">#delete_param</a> if you want to
destructively modify params.</p>
          
          

          
          <div class="method-source-code" id="5B-5D-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 435</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">$VERBOSE</span>
    <span class="ruby-identifier">warn</span>(<span class="ruby-node">&quot;Request#[]= is deprecated and will be removed in a future version of Rack. Please use request.params[]= instead&quot;</span>)
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span>] = <span class="ruby-identifier">value</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-accept_encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">accept_encoding</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="accept_encoding-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 411</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accept_encoding</span>
  <span class="ruby-identifier">parse_http_accept_header</span>(<span class="ruby-identifier">get_header</span>(<span class="ruby-string">&quot;HTTP_ACCEPT_ENCODING&quot;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-accept_language" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">accept_language</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="accept_language-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 415</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">accept_language</span>
  <span class="ruby-identifier">parse_http_accept_header</span>(<span class="ruby-identifier">get_header</span>(<span class="ruby-string">&quot;HTTP_ACCEPT_LANGUAGE&quot;</span>))
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-authority" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">authority</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="authority-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 200</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">authority</span>
  <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">SERVER_NAME</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;:&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">SERVER_PORT</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-base_url" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">base_url</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="base_url-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 392</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">base_url</span>
  <span class="ruby-identifier">url</span> = <span class="ruby-node">&quot;#{scheme}://#{host}&quot;</span>
  <span class="ruby-identifier">url</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;:#{port}&quot;</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">port</span> <span class="ruby-operator">!=</span> <span class="ruby-constant">DEFAULT_PORTS</span>[<span class="ruby-identifier">scheme</span>]
  <span class="ruby-identifier">url</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-body" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">body</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="body-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 126</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">body</span>;            <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_INPUT</span>)                         <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_charset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_charset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The character set of the request body if a “charset” media type parameter
was given, or nil if no “charset” was specified. Note that, per RFC2616,
text/* media types that specify no explicit charset are to be considered
ISO-8859-1.</p>
          
          

          
          <div class="method-source-code" id="content_charset-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 290</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_charset</span>
  <span class="ruby-identifier">media_type_params</span>[<span class="ruby-string">&#39;charset&#39;</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_length" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_length</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="content_length-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 135</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_length</span>;  <span class="ruby-identifier">get_header</span>(<span class="ruby-string">&#39;CONTENT_LENGTH&#39;</span>)                   <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-content_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">content_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="content_type-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 216</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">content_type</span>
  <span class="ruby-identifier">content_type</span> = <span class="ruby-identifier">get_header</span>(<span class="ruby-string">&#39;CONTENT_TYPE&#39;</span>)
  <span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">content_type</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-keyword">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">content_type</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-cookies" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">cookies</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="cookies-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">cookies</span>
  <span class="ruby-identifier">hash</span> = <span class="ruby-identifier">fetch_header</span>(<span class="ruby-constant">RACK_REQUEST_COOKIE_HASH</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set_header</span>(<span class="ruby-identifier">k</span>, {})
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">string</span> = <span class="ruby-identifier">get_header</span> <span class="ruby-constant">HTTP_COOKIE</span>

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">hash</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">string</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_REQUEST_COOKIE_STRING</span>)
  <span class="ruby-identifier">hash</span>.<span class="ruby-identifier">replace</span> <span class="ruby-constant">Utils</span>.<span class="ruby-identifier">parse_cookies_header</span> <span class="ruby-identifier">get_header</span> <span class="ruby-constant">HTTP_COOKIE</span>
  <span class="ruby-identifier">set_header</span>(<span class="ruby-constant">RACK_REQUEST_COOKIE_STRING</span>, <span class="ruby-identifier">string</span>)
  <span class="ruby-identifier">hash</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type DELETE</p>
          
          

          
          <div class="method-source-code" id="delete-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 157</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete?</span>;  <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">DELETE</span>  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-delete_param" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">delete_param</span><span
            class="method-args">(k)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively delete a parameter, whether it&#39;s in <a
href="Helpers.html#method-i-GET">#GET</a> or <a
href="Helpers.html#method-i-POST">#POST</a>. Returns the value of the
deleted parameter.</p>

<p>If the parameter is in both <a href="Helpers.html#method-i-GET">#GET</a>
and <a href="Helpers.html#method-i-POST">#POST</a>, the <a
href="Helpers.html#method-i-POST">#POST</a> value takes precedence since
that&#39;s how <a href="Helpers.html#method-i-params">params</a> works.</p>

<p><code>env['rack.input']</code> is not touched.</p>
          
          

          
          <div class="method-source-code" id="delete_param-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 388</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">delete_param</span>(<span class="ruby-identifier">k</span>)
  [ <span class="ruby-keyword">self</span>.<span class="ruby-constant">POST</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">k</span>), <span class="ruby-keyword">self</span>.<span class="ruby-constant">GET</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">k</span>) ].<span class="ruby-identifier">compact</span>.<span class="ruby-identifier">first</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-form_data-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">form_data?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Determine whether the request body contains form-data by checking the
request Content-Type for one of the media-types:
“application/x-www-form-urlencoded” or “multipart/form-data”. The list of
form-data media types can be modified through the
<code>FORM_DATA_MEDIA_TYPES</code> array.</p>

<p>A request body is also assumed to contain form-data when no Content-Type
header is provided and the <a
href="Helpers.html#method-i-request_method">#request_method</a> is <a
href="Helpers.html#method-i-POST">#POST</a>.</p>
          
          

          
          <div class="method-source-code" id="form_data-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 302</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">form_data?</span>
  <span class="ruby-identifier">type</span> = <span class="ruby-identifier">media_type</span>
  <span class="ruby-identifier">meth</span> = <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_METHODOVERRIDE_ORIGINAL_METHOD</span>) <span class="ruby-operator">||</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">REQUEST_METHOD</span>)
  (<span class="ruby-identifier">meth</span> <span class="ruby-operator">==</span> <span class="ruby-constant">POST</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">type</span>.<span class="ruby-identifier">nil?</span>) <span class="ruby-operator">||</span> <span class="ruby-constant">FORM_DATA_MEDIA_TYPES</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">type</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-fullpath" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">fullpath</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="fullpath-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 407</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">fullpath</span>
  <span class="ruby-identifier">query_string</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">path</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;#{path}?#{query_string}&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-get-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">get?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type <a
href="Helpers.html#method-i-GET">#GET</a></p>
          
          

          
          <div class="method-source-code" id="get-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 160</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">get?</span>;     <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">GET</span>       <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-head-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">head?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type HEAD</p>
          
          

          
          <div class="method-source-code" id="head-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 163</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">head?</span>;    <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">HEAD</span>      <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-host" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">host</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="host-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 233</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">host</span>
  <span class="ruby-comment"># Remove port number.</span>
  <span class="ruby-identifier">host_with_port</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/:\d+\z/</span>, <span class="ruby-string">&#39;&#39;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-host_with_port" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">host_with_port</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="host_with_port-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 225</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">host_with_port</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">forwarded</span> = <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_HOST</span>)
    <span class="ruby-identifier">forwarded</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/,\s?/</span>).<span class="ruby-identifier">last</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_HOST</span>) <span class="ruby-operator">||</span> <span class="ruby-node">&quot;#{get_header(SERVER_NAME) || get_header(SERVER_ADDR)}:#{get_header(SERVER_PORT)}&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ip" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ip</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ip-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ip</span>
  <span class="ruby-identifier">remote_addrs</span> = <span class="ruby-identifier">split_ip_addresses</span>(<span class="ruby-identifier">get_header</span>(<span class="ruby-string">&#39;REMOTE_ADDR&#39;</span>))
  <span class="ruby-identifier">remote_addrs</span> = <span class="ruby-identifier">reject_trusted_ip_addresses</span>(<span class="ruby-identifier">remote_addrs</span>)

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">remote_addrs</span>.<span class="ruby-identifier">first</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">remote_addrs</span>.<span class="ruby-identifier">any?</span>

  <span class="ruby-identifier">forwarded_ips</span> = <span class="ruby-identifier">split_ip_addresses</span>(<span class="ruby-identifier">get_header</span>(<span class="ruby-string">&#39;HTTP_X_FORWARDED_FOR&#39;</span>))

  <span class="ruby-keyword">return</span> <span class="ruby-identifier">reject_trusted_ip_addresses</span>(<span class="ruby-identifier">forwarded_ips</span>).<span class="ruby-identifier">last</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-string">&quot;REMOTE_ADDR&quot;</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-link-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">link?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type LINK</p>
          
          

          
          <div class="method-source-code" id="link-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 169</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">link?</span>;    <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">LINK</span>    <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-logger" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">logger</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="logger-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 136</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">logger</span>;          <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_LOGGER</span>)                        <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-media_type" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">media_type</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The media type (type/subtype) portion of the CONTENT_TYPE header without
any media type parameters. e.g., when CONTENT_TYPE is
“text/plain;charset=utf-8”, the media-type is “text/plain”.</p>

<p>For more information on the use of media types in HTTP, see: <a
href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7">www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.7</a></p>
          
          

          
          <div class="method-source-code" id="media_type-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 273</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">media_type</span>
  <span class="ruby-constant">MediaType</span>.<span class="ruby-identifier">type</span>(<span class="ruby-identifier">content_type</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-media_type_params" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">media_type_params</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The media type parameters provided in CONTENT_TYPE as a <a
href="../../Hash.html">Hash</a>, or an empty <a
href="../../Hash.html">Hash</a> if no CONTENT_TYPE or media-type parameters
were provided.  e.g., when the CONTENT_TYPE is “text/plain;charset=utf-8”,
this method responds with the following Hash:</p>

<pre class="ruby">{ <span class="ruby-string">&#39;charset&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;utf-8&#39;</span> }
</pre>
          
          

          
          <div class="method-source-code" id="media_type_params-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 282</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">media_type_params</span>
  <span class="ruby-constant">MediaType</span>.<span class="ruby-identifier">params</span>(<span class="ruby-identifier">content_type</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-multithread-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">multithread?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="multithread-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">multithread?</span>;    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_MULTITHREAD</span>)                   <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-options-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">options?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type OPTIONS</p>
          
          

          
          <div class="method-source-code" id="options-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 166</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">options?</span>; <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">OPTIONS</span> <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-params" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">params</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>The union of <a href="Helpers.html#method-i-GET">#GET</a> and <a
href="Helpers.html#method-i-POST">#POST</a> data.</p>

<p>Note that modifications will not be persisted in the env. Use <a
href="Helpers.html#method-i-update_param">#update_param</a> or <a
href="Helpers.html#method-i-delete_param">#delete_param</a> if you want to
destructively modify params.</p>
          
          

          
          <div class="method-source-code" id="params-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 357</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">params</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-constant">GET</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-keyword">self</span>.<span class="ruby-constant">POST</span>)
<span class="ruby-keyword">rescue</span> <span class="ruby-constant">EOFError</span>
  <span class="ruby-keyword">self</span>.<span class="ruby-constant">GET</span>.<span class="ruby-identifier">dup</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-parseable_data-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">parseable_data?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Determine whether the request body contains data by checking the request <a
href="Helpers.html#method-i-media_type">#media_type</a> against registered
parse-data media-types</p>
          
          

          
          <div class="method-source-code" id="parseable_data-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">parseable_data?</span>
  <span class="ruby-constant">PARSEABLE_DATA_MEDIA_TYPES</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">media_type</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-patch-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">patch?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type PATCH</p>
          
          

          
          <div class="method-source-code" id="patch-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 172</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">patch?</span>;   <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">PATCH</span>   <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-path" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">path</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="path-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 403</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path</span>
  <span class="ruby-identifier">script_name</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">path_info</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-path_info" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">path_info</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="path_info-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 130</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path_info</span>;       <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">PATH_INFO</span>).<span class="ruby-identifier">to_s</span>                     <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-path_info-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">path_info=</span><span
            class="method-args">(s)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="path_info-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">path_info=</span>(<span class="ruby-identifier">s</span>);   <span class="ruby-identifier">set_header</span>(<span class="ruby-constant">PATH_INFO</span>, <span class="ruby-identifier">s</span>.<span class="ruby-identifier">to_s</span>)                  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-port" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">port</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="port-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 238</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">port</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">port</span> = <span class="ruby-identifier">host_with_port</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp">/:/</span>)[<span class="ruby-value">1</span>]
    <span class="ruby-identifier">port</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">port</span> = <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_PORT</span>)
    <span class="ruby-identifier">port</span>.<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">has_header?</span>(<span class="ruby-constant">HTTP_X_FORWARDED_HOST</span>)
    <span class="ruby-constant">DEFAULT_PORTS</span>[<span class="ruby-identifier">scheme</span>]
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">has_header?</span>(<span class="ruby-constant">HTTP_X_FORWARDED_PROTO</span>)
    <span class="ruby-constant">DEFAULT_PORTS</span>[<span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_PROTO</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;,&#39;</span>)[<span class="ruby-value">0</span>]]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">SERVER_PORT</span>).<span class="ruby-identifier">to_i</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-post-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">post?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type <a
href="Helpers.html#method-i-POST">#POST</a></p>
          
          

          
          <div class="method-source-code" id="post-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 175</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">post?</span>;    <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">POST</span>    <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-put-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">put?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type PUT</p>
          
          

          
          <div class="method-source-code" id="put-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 178</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">put?</span>;     <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">PUT</span>     <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-query_string" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">query_string</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="query_string-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 134</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">query_string</span>;    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">QUERY_STRING</span>).<span class="ruby-identifier">to_s</span>                  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-referer" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">referer</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>the referer of the client</p>
          
          

          
          <div class="method-source-code" id="referer-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 141</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">referer</span>;         <span class="ruby-identifier">get_header</span>(<span class="ruby-string">&#39;HTTP_REFERER&#39;</span>)                     <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Helpers.html#method-i-referrer">referrer</a>
        </div>
        

        
      </div>

    
      <div id="method-i-referrer" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">referrer</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Helpers.html#method-i-referer">referer</a>
        </div>
        
      </div>

    
      <div id="method-i-request_method" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">request_method</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="request_method-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 133</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">request_method</span>;  <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">REQUEST_METHOD</span>)                     <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-scheme" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scheme</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="scheme-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 186</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scheme</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTPS</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&#39;on&#39;</span>
    <span class="ruby-string">&#39;https&#39;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_SSL</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&#39;on&#39;</span>
    <span class="ruby-string">&#39;https&#39;</span>
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_SCHEME</span>)
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_SCHEME</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_PROTO</span>)
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">HTTP_X_FORWARDED_PROTO</span>).<span class="ruby-identifier">split</span>(<span class="ruby-string">&#39;,&#39;</span>)[<span class="ruby-value">0</span>]
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">RACK_URL_SCHEME</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-script_name" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">script_name</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="script_name-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 127</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">script_name</span>;     <span class="ruby-identifier">get_header</span>(<span class="ruby-constant">SCRIPT_NAME</span>).<span class="ruby-identifier">to_s</span>                   <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-script_name-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">script_name=</span><span
            class="method-args">(s)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="script_name-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 128</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">script_name=</span>(<span class="ruby-identifier">s</span>); <span class="ruby-identifier">set_header</span>(<span class="ruby-constant">SCRIPT_NAME</span>, <span class="ruby-identifier">s</span>.<span class="ruby-identifier">to_s</span>)                <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-session" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">session</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="session-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 144</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">session</span>
  <span class="ruby-identifier">fetch_header</span>(<span class="ruby-constant">RACK_SESSION</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set_header</span> <span class="ruby-constant">RACK_SESSION</span>, <span class="ruby-identifier">default_session</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-session_options" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">session_options</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="session_options-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 150</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">session_options</span>
  <span class="ruby-identifier">fetch_header</span>(<span class="ruby-constant">RACK_SESSION_OPTIONS</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">k</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">set_header</span> <span class="ruby-constant">RACK_SESSION_OPTIONS</span>, {}
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-ssl-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">ssl?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="ssl-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 252</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">ssl?</span>
  <span class="ruby-identifier">scheme</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;https&#39;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-trace-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">trace?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type TRACE</p>
          
          

          
          <div class="method-source-code" id="trace-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 181</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">trace?</span>;   <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">TRACE</span>   <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-trusted_proxy-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">trusted_proxy?</span><span
            class="method-args">(ip)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="trusted_proxy-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 419</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">trusted_proxy?</span>(<span class="ruby-identifier">ip</span>)
  <span class="ruby-identifier">ip</span> <span class="ruby-operator">=~</span> <span class="ruby-regexp">/\A127\.0\.0\.1\Z|\A(10|172\.(1[6-9]|2[0-9]|30|31)|192\.168)\.|\A::1\Z|\Afd[0-9a-f]{2}:.+|\Alocalhost\Z|\Aunix\Z|\Aunix:/i</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-unlink-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">unlink?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Checks the HTTP request method (or verb) to see if it was of type UNLINK</p>
          
          

          
          <div class="method-source-code" id="unlink-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 184</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">unlink?</span>;  <span class="ruby-identifier">request_method</span> <span class="ruby-operator">==</span> <span class="ruby-constant">UNLINK</span>  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-update_param" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">update_param</span><span
            class="method-args">(k, v)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Destructively update a parameter, whether it&#39;s in <a
href="Helpers.html#method-i-GET">#GET</a> and/or <a
href="Helpers.html#method-i-POST">#POST</a>. Returns nil.</p>

<p>The parameter is updated wherever it was previous defined, so <a
href="Helpers.html#method-i-GET">#GET</a>, <a
href="Helpers.html#method-i-POST">#POST</a>, or both. If it wasn&#39;t
previously defined, it&#39;s inserted into <a
href="Helpers.html#method-i-GET">#GET</a>.</p>

<p><code>env['rack.input']</code> is not touched.</p>
          
          

          
          <div class="method-source-code" id="update_param-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 368</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">update_param</span>(<span class="ruby-identifier">k</span>, <span class="ruby-identifier">v</span>)
  <span class="ruby-identifier">found</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-constant">GET</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">k</span>)
    <span class="ruby-identifier">found</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-constant">GET</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-keyword">self</span>.<span class="ruby-constant">POST</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">k</span>)
    <span class="ruby-identifier">found</span> = <span class="ruby-keyword">true</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-constant">POST</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">found</span>
    <span class="ruby-keyword">self</span>.<span class="ruby-constant">GET</span>[<span class="ruby-identifier">k</span>] = <span class="ruby-identifier">v</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-url" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">url</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Tries to return a remake of the original request URL as a string.</p>
          
          

          
          <div class="method-source-code" id="url-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 399</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">url</span>
  <span class="ruby-identifier">base_url</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">fullpath</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-user_agent" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">user_agent</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="user_agent-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 137</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">user_agent</span>;      <span class="ruby-identifier">get_header</span>(<span class="ruby-string">&#39;HTTP_USER_AGENT&#39;</span>)                  <span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-values_at" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">values_at</span><span
            class="method-args">(*keys)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>like Hash#values_at</p>
          
          

          
          <div class="method-source-code" id="values_at-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 444</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">keys</span>)
  <span class="ruby-identifier">keys</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span><span class="ruby-operator">|</span> <span class="ruby-identifier">params</span>[<span class="ruby-identifier">key</span>] }
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-xhr-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">xhr?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="xhr-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/rack-2.0.4/lib/rack/request.rb, line 221</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">xhr?</span>
  <span class="ruby-identifier">get_header</span>(<span class="ruby-string">&quot;HTTP_X_REQUESTED_WITH&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-string">&quot;XMLHttpRequest&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

