<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class Logging::Appender - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../";
  var index_rel_prefix = "../";
</script>

<script src="../js/jquery.js"></script>
<script src="../js/darkfish.js"></script>

<link href="../css/fonts.css" rel="stylesheet">
<link href="../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../table_of_contents.html#pages">Pages</a>
    <a href="../table_of_contents.html#classes">Classes</a>
    <a href="../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="../Object.html">Object</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-c-new">::new</a>
    
    <li ><a href="#method-i-3C-3C">#&lt;&lt;</a>
    
    <li ><a href="#method-i-_to_s">#_to_s</a>
    
    <li ><a href="#method-i-add_filters">#add_filters</a>
    
    <li ><a href="#method-i-allow">#allow</a>
    
    <li ><a href="#method-i-append">#append</a>
    
    <li ><a href="#method-i-close">#close</a>
    
    <li ><a href="#method-i-closed-3F">#closed?</a>
    
    <li ><a href="#method-i-encoding">#encoding</a>
    
    <li ><a href="#method-i-encoding-3D">#encoding=</a>
    
    <li ><a href="#method-i-filters-3D">#filters=</a>
    
    <li ><a href="#method-i-flush">#flush</a>
    
    <li ><a href="#method-i-layout-3D">#layout=</a>
    
    <li ><a href="#method-i-level-3D">#level=</a>
    
    <li ><a href="#method-i-off-3F">#off?</a>
    
    <li ><a href="#method-i-reopen">#reopen</a>
    
    <li ><a href="#method-i-to_s">#to_s</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-Logging::Appender">
  <h1 id="class-Logging::Appender" class="class">
    class Logging::Appender
  </h1>

  <section class="description">
    
<p>The <code>Appender</code> class is provides methods for appending log
events to a logging destination. The log events are formatted into strings
using a <a href="Layout.html">Layout</a>.</p>

<p>All other <a href="Appenders.html">Appenders</a> inherit from this class
which provides stub methods. Each subclass should provide a
<code>write</code> method that will write log messages to the logging
destination.</p>

<p>A private <code>sync</code> method is provided for use by subclasses. It is
used to synchronize writes to the logging destination, and can be used by
subclasses to synchronize the closing or flushing of the logging
destination.</p>

  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    
    <section class="attribute-method-details" class="method-section">
      <header>
        <h3>Attributes</h3>
      </header>

      
      <div id="attribute-i-filters" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">filters</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-layout" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">layout</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-level" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">level</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
      <div id="attribute-i-name" class="method-detail">
        <div class="method-heading attribute-method-heading">
          <span class="method-name">name</span><span
            class="attribute-access-type">[R]</span>
        </div>

        <div class="method-description">
        
        
        
        </div>
      </div>
      
    </section>
    

    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Class Methods</h3>
       </header>

    
      <div id="method-c-new" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            new( name )
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        <div class="method-heading">
          <span class="method-callseq">
            new( name, :layout &rarr; layout )
          </span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Creates a new appender using the given name. If no <a
href="Layout.html">Layout</a> is specified, then a Basic layout will be
used. Any logging header supplied by the layout will be written to the
logging destination when the <a href="Appender.html">Appender</a> is
created.</p>

<p>Options:</p>

<pre>:layout   =&gt; the layout to use when formatting log events
:level    =&gt; the level at which to log
:encoding =&gt; encoding to use when writing messages (defaults to UTF-8)
:filters  =&gt; filters to apply to events before processing</pre>
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 37</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>( <span class="ruby-identifier">name</span>, <span class="ruby-identifier">opts</span> = {} )
  <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span>.<span class="ruby-identifier">init</span> <span class="ruby-keyword">unless</span> <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span>.<span class="ruby-identifier">initialized?</span>

  <span class="ruby-ivar">@name</span>    = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>
  <span class="ruby-ivar">@closed</span>  = <span class="ruby-keyword">false</span>
  <span class="ruby-ivar">@filters</span> = []
  <span class="ruby-ivar">@mutex</span>   = <span class="ruby-constant">ReentrantMutex</span>.<span class="ruby-identifier">new</span>

  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">layout</span>   = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:layout</span>, <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Layouts</span><span class="ruby-operator">::</span><span class="ruby-constant">Basic</span>.<span class="ruby-identifier">new</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">level</span>    = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:level</span>, <span class="ruby-keyword">nil</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">encoding</span> = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:encoding</span>, <span class="ruby-keyword">self</span>.<span class="ruby-identifier">encoding</span>)
  <span class="ruby-keyword">self</span>.<span class="ruby-identifier">filters</span>  = <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:filters</span>, <span class="ruby-keyword">nil</span>)

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">opts</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-value">:header</span>, <span class="ruby-keyword">true</span>)
    <span class="ruby-identifier">header</span> = <span class="ruby-ivar">@layout</span>.<span class="ruby-identifier">header</span>

    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">header</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">header</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">write</span>(<span class="ruby-identifier">header</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
        <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span>.<span class="ruby-identifier">log_internal_error</span>(<span class="ruby-identifier">err</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Appenders</span>[<span class="ruby-ivar">@name</span>] = <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-3C-3C" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            appender &lt;&lt; string
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Write the given <em>string</em> to the logging destination “as is” – no
layout formatting will be performed.</p>
          
          

          
          <div class="method-source-code" id="3C-3C-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-operator">&lt;&lt;</span>( <span class="ruby-identifier">str</span> )
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@closed</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>,
          <span class="ruby-node">&quot;appender &#39;&lt;#{self.class.name}: #{@name}&gt;&#39; is closed&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">off?</span>
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">write</span>(<span class="ruby-identifier">str</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
      <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span>.<span class="ruby-identifier">log_internal_error</span>(<span class="ruby-identifier">err</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-_to_s" class="method-detail method-alias">
        
        <div class="method-heading">
          <span class="method-name">_to_s</span><span
            class="method-args">()</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Save off the original `to_s` for use in tests</p>
          
          

          
        </div>

        

        
        <div class="aliases">
          Alias for: <a href="Appender.html#method-i-to_s">to_s</a>
        </div>
        
      </div>

    
      <div id="method-i-add_filters" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">add_filters</span><span
            class="method-args">( *args )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the filter(s) to be used by this appender. The filters will be applied
in the order that they are added to the appender.</p>

<p>Examples</p>

<pre class="ruby"><span class="ruby-identifier">add_filters</span>(<span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Filters</span><span class="ruby-operator">::</span><span class="ruby-constant">Level</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">warn</span>, :<span class="ruby-identifier">error</span>))
</pre>

<p>Returns this appender instance.</p>
          
          

          
          <div class="method-source-code" id="add_filters-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 185</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">add_filters</span>( <span class="ruby-operator">*</span><span class="ruby-identifier">args</span> )
  <span class="ruby-identifier">args</span>.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">filter</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">next</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">filter</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">filter</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Filter</span>)
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;#{filter.inspect} is not a kind of &#39;Logging::Filter&#39;&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-ivar">@filters</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">filter</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-allow" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">allow</span><span
            class="method-args">( event )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Check to see if the event should be processed by the appender. An event
will be rejected if the event level is lower than the configured level for
the appender. Or it will be rejected if one of the filters rejects the
event.</p>

<p>event - The <a href="LogEvent.html">LogEvent</a> to check</p>

<p>Returns the event if it is allowed; returns `nil` if it is not allowed.</p>
          
          

          
          <div class="method-source-code" id="allow-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 298</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">allow</span>( <span class="ruby-identifier">event</span> )
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">nil</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@level</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">event</span>.<span class="ruby-identifier">level</span>
  <span class="ruby-ivar">@filters</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">filter</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">break</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">event</span> = <span class="ruby-identifier">filter</span>.<span class="ruby-identifier">allow</span>(<span class="ruby-identifier">event</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-identifier">event</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-append" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            append( event )
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Write the given <em>event</em> to the logging destination. The log event
will be processed through the <a href="Layout.html">Layout</a> associated
with the <a href="Appender.html">Appender</a>.</p>
          
          

          
          <div class="method-source-code" id="append-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 71</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">append</span>( <span class="ruby-identifier">event</span> )
  <span class="ruby-keyword">if</span> <span class="ruby-ivar">@closed</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">RuntimeError</span>,
          <span class="ruby-node">&quot;appender &#39;&lt;#{self.class.name}: #{@name}&gt;&#39; is closed&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># only append if the event level is less than or equal to the configured</span>
  <span class="ruby-comment"># appender level and the filter does not disallow it</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">event</span> = <span class="ruby-identifier">allow</span>(<span class="ruby-identifier">event</span>)
    <span class="ruby-keyword">begin</span>
      <span class="ruby-identifier">write</span>(<span class="ruby-identifier">event</span>)
    <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
      <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span>.<span class="ruby-identifier">log_internal_error</span>(<span class="ruby-identifier">err</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-close" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            close( footer = true )
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Close the appender and writes the layout footer to the logging destination
if the <em>footer</em> flag is set to <code>true</code>. Log events will no
longer be written to the logging destination after the appender is closed.</p>
          
          

          
          <div class="method-source-code" id="close-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 204</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">close</span>( <span class="ruby-identifier">footer</span> = <span class="ruby-keyword">true</span> )
  <span class="ruby-keyword">return</span> <span class="ruby-keyword">self</span> <span class="ruby-keyword">if</span> <span class="ruby-ivar">@closed</span>
  <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Appenders</span>.<span class="ruby-identifier">remove</span>(<span class="ruby-ivar">@name</span>)
  <span class="ruby-ivar">@closed</span> = <span class="ruby-keyword">true</span>

  <span class="ruby-identifier">flush</span>

  <span class="ruby-keyword">if</span> <span class="ruby-identifier">footer</span>
    <span class="ruby-identifier">footer</span> = <span class="ruby-ivar">@layout</span>.<span class="ruby-identifier">footer</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">footer</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">footer</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-keyword">begin</span>
        <span class="ruby-identifier">write</span>(<span class="ruby-identifier">footer</span>)
      <span class="ruby-keyword">rescue</span> <span class="ruby-constant">StandardError</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">err</span>
        <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span>.<span class="ruby-identifier">log_internal_error</span>(<span class="ruby-identifier">err</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-closed-3F" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            closed?
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns <code>true</code> if the appender has been closed; returns
<code>false</code> otherwise. When an appender is closed, no more log
events can be written to the logging destination.</p>
          
          

          
          <div class="method-source-code" id="closed-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">closed?</span>
  <span class="ruby-ivar">@closed</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">encoding</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns the current <a href="../Encoding.html">Encoding</a> for the
appender or nil if an encoding has not been set.</p>
          
          

          
          <div class="method-source-code" id="encoding-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 269</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">encoding</span>
  <span class="ruby-keyword">return</span> <span class="ruby-ivar">@encoding</span> <span class="ruby-keyword">if</span> <span class="ruby-keyword">defined?</span> <span class="ruby-ivar">@encoding</span>
  <span class="ruby-ivar">@encoding</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Encoding</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">default_external</span> <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-encoding-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">encoding=</span><span
            class="method-args">( value )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Set the appender encoding to the given value. The value can either be an <a
href="../Encoding.html">Encoding</a> instance or a <a
href="../String.html">String</a> or <a href="../Symbol.html">Symbol</a>
referring to a valid encoding.</p>

<p>This method only applies to Ruby 1.9 or later. The encoding will always be
nil for older Rubies.</p>

<p>value - The encoding as a <a href="../String.html">String</a>, <a
href="../Symbol.html">Symbol</a>, or <a
href="../Encoding.html">Encoding</a> instance.</p>

<p>Raises ArgumentError if the value is not a valid encoding.</p>
          
          

          
          <div class="method-source-code" id="encoding-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 283</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">encoding=</span>( <span class="ruby-identifier">value</span> )
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">nil?</span>
    <span class="ruby-ivar">@encoding</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-ivar">@encoding</span> = <span class="ruby-constant">Object</span>.<span class="ruby-identifier">const_defined?</span>(<span class="ruby-value">:Encoding</span>) <span class="ruby-operator">?</span> <span class="ruby-constant">Encoding</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword">nil</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-filters-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">filters=</span><span
            class="method-args">( args )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Sets the filter(s) to be used by this appender. This method will clear the
current filter set and add those passed to this setter method.</p>

<p>Examples</p>

<pre class="ruby"><span class="ruby-identifier">appender</span>.<span class="ruby-identifier">filters</span> = <span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Filters</span><span class="ruby-operator">::</span><span class="ruby-constant">Level</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">warn</span>, :<span class="ruby-identifier">error</span>)
</pre>
          
          

          
          <div class="method-source-code" id="filters-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 173</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">filters=</span>( <span class="ruby-identifier">args</span> )
  <span class="ruby-ivar">@filters</span>.<span class="ruby-identifier">clear</span>
  <span class="ruby-identifier">add_filters</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-flush" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            flush
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Call <code>flush</code> to force an appender to write out any buffered log
events. Similar to IO#flush, so use in a similar fashion.</p>
          
          

          
          <div class="method-source-code" id="flush-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 250</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">flush</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-layout-3D" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">layout=</span><span
            class="method-args">( layout )</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>call-seq</p>

<pre class="ruby"><span class="ruby-identifier">appender</span>.<span class="ruby-identifier">layout</span> = <span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Layouts</span><span class="ruby-operator">::</span><span class="ruby-constant">Basic</span>.<span class="ruby-identifier">new</span>
</pre>

<p>Sets the layout to be used by this appender.</p>
          
          

          
          <div class="method-source-code" id="layout-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 159</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">layout=</span>( <span class="ruby-identifier">layout</span> )
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">layout</span>.<span class="ruby-identifier">kind_of?</span> <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">Layout</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,
          <span class="ruby-node">&quot;#{layout.inspect} is not a kind of &#39;Logging::Layout&#39;&quot;</span>
  <span class="ruby-keyword">end</span>
  <span class="ruby-ivar">@layout</span> = <span class="ruby-identifier">layout</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-level-3D" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            level = :all
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Set the level for this appender; log events below this level will be
ignored by this appender. The level can be either a <code>String</code>, a
<code>Symbol</code>, or an <code>Integer</code>. An
<code>ArgumentError</code> is raised if this is not the case.</p>

<p>There are two special levels – “all” and “off”. The former will enable
recording of all log events. The latter will disable the recording of all
events.</p>

<p>Example:</p>

<pre class="ruby"><span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = :<span class="ruby-identifier">debug</span>
<span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = <span class="ruby-string">&quot;INFO&quot;</span>
<span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = <span class="ruby-value">4</span>
<span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = <span class="ruby-string">&#39;off&#39;</span>
<span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = :<span class="ruby-identifier">all</span>
</pre>

<p>These produce an <code>ArgumentError</code></p>

<pre class="ruby"><span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = <span class="ruby-constant">Object</span>
<span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = <span class="ruby-value">-1</span>
<span class="ruby-identifier">appender</span>.<span class="ruby-identifier">level</span> = <span class="ruby-value">1_000_000_000_000</span>
</pre>
          
          

          
          <div class="method-source-code" id="level-3D-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 138</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">level=</span>( <span class="ruby-identifier">level</span> )
  <span class="ruby-identifier">lvl</span> = <span class="ruby-keyword">case</span> <span class="ruby-identifier">level</span>
        <span class="ruby-keyword">when</span> <span class="ruby-constant">String</span>, <span class="ruby-constant">Symbol</span>; <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-identifier">level_num</span>(<span class="ruby-identifier">level</span>)
        <span class="ruby-keyword">when</span> <span class="ruby-constant">Integer</span>; <span class="ruby-identifier">level</span>
        <span class="ruby-keyword">when</span> <span class="ruby-keyword">nil</span>; <span class="ruby-value">0</span>
        <span class="ruby-keyword">else</span>
          <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,
                <span class="ruby-string">&quot;level must be a String, Symbol, or Integer&quot;</span>
        <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">lvl</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">lvl</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-keyword">or</span> <span class="ruby-identifier">lvl</span> <span class="ruby-operator">&gt;</span> <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">LEVELS</span>.<span class="ruby-identifier">length</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;unknown level was given &#39;#{level}&#39;&quot;</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-ivar">@level</span> = <span class="ruby-identifier">lvl</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-off-3F" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">off?</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Returns `true` if the appender has been turned off. This is useful for
appenders that write data to a remote location (such as syslog or email),
and that write encounters too many errors. The appender can turn itself off
to and log an error via the `Logging` logger.</p>

<p>Set the appender&#39;s level to a valid value to turn it back on.</p>
          
          

          
          <div class="method-source-code" id="off-3F-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 312</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">off?</span>
  <span class="ruby-ivar">@level</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-operator">::</span><span class="ruby-constant">Logging</span><span class="ruby-operator">::</span><span class="ruby-constant">LEVELS</span>.<span class="ruby-identifier">length</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-reopen" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">reopen</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          <p>Reopen the connection to the underlying logging destination. If the
connection is currently closed then it will be opened. If the connection is
currently open then it will be closed and immediately opened.</p>
          
          

          
          <div class="method-source-code" id="reopen-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 239</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">reopen</span>
  <span class="ruby-ivar">@closed</span> = <span class="ruby-keyword">false</span>
  <span class="ruby-keyword">self</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-to_s" class="method-detail ">
        
        
        <div class="method-heading">
          <span class="method-callseq">
            to_s &rarr; string
          </span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        
        

        <div class="method-description">
          
          <p>Returns a string representation of the appender.</p>
          
          

          
          <div class="method-source-code" id="to_s-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/logging-2.2.2/lib/logging/appender.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_s</span>
  <span class="ruby-string">&quot;&lt;%s name=\&quot;%s\&quot;&gt;&quot;</span> <span class="ruby-operator">%</span> [<span class="ruby-keyword">self</span>.<span class="ruby-identifier">class</span>.<span class="ruby-identifier">name</span>.<span class="ruby-identifier">sub</span>(<span class="ruby-regexp">/^Logging::/</span>, <span class="ruby-string">&#39;&#39;</span>), <span class="ruby-keyword">self</span>.<span class="ruby-identifier">name</span>]
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        
        <div class="aliases">
          Also aliased as: <a href="Appender.html#method-i-_to_s">_to_s</a>
        </div>
        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

