<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README.ru - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../../../../";
  var index_rel_prefix = "../../../../../../";
</script>

<script src="../../../../../../js/jquery.js"></script>
<script src="../../../../../../js/darkfish.js"></script>

<link href="../../../../../../css/fonts.css" rel="stylesheet">
<link href="../../../../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-Sinatra">Sinatra</a>
    <li><a href="#label-D0-A1-D0-BE-D0-B4-D0-B5-D1-80-D0-B6-D0-B0-D0-BD-D0-B8-D0-B5">Содержание</a>
    <li><a href="#label-D0-9C-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D1-8B">Маршруты</a>
    <li><a href="#label-D0-A3-D1-81-D0-BB-D0-BE-D0-B2-D0-B8-D1-8F">Условия</a>
    <li><a href="#label-D0-92-D0-BE-D0-B7-D0-B2-D1-80-D0-B0-D1-89-D0-B0-D0-B5-D0-BC-D1-8B-D0-B5+-D0-B7-D0-BD-D0-B0-D1-87-D0-B5-D0-BD-D0-B8-D1-8F">Возвращаемые значения</a>
    <li><a href="#label-D0-A1-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D1-8B-D0-B5+-D0-B4-D0-B5-D1-82-D0-B5-D0-BA-D1-82-D0-BE-D1-80-D1-8B+-D1-81-D0-BE-D0-B2-D0-BF-D0-B0-D0-B4-D0-B5-D0-BD-D0-B8-D0-B9+-D0-B4-D0-BB-D1-8F+-D0-BC-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D0-BE-D0-B2">Собственные детекторы совпадений для маршрутов</a>
    <li><a href="#label-D0-A1-D1-82-D0-B0-D1-82-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D0-B5+-D1-84-D0-B0-D0-B9-D0-BB-D1-8B">Статические файлы</a>
    <li><a href="#label-D0-9F-D1-80-D0-B5-D0-B4-D1-81-D1-82-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D1-8F+-2F+-D0-A8-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Представления / Шаблоны</a>
    <li><a href="#label-D0-91-D1-83-D0-BA-D0-B2-D0-B0-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Буквальные шаблоны</a>
    <li><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B8-D0-B7-D0-B0-D1-82-D0-BE-D1-80-D1-8B">Доступные шаблонизаторы</a>
    <li><a href="#label-Haml+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Haml шаблоны</a>
    <li><a href="#label-Erb+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Erb шаблоны</a>
    <li><a href="#label-Builder+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Builder шаблоны</a>
    <li><a href="#label-Nokogiri+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Nokogiri шаблоны</a>
    <li><a href="#label-Sass+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Sass шаблоны</a>
    <li><a href="#label-SCSS+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">SCSS шаблоны</a>
    <li><a href="#label-Less+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Less шаблоны</a>
    <li><a href="#label-Liquid+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Liquid шаблоны</a>
    <li><a href="#label-Markdown+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Markdown шаблоны</a>
    <li><a href="#label-Textile+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Textile шаблоны</a>
    <li><a href="#label-RDoc+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">RDoc шаблоны</a>
    <li><a href="#label-AsciiDoc+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">AsciiDoc шаблоны</a>
    <li><a href="#label-Radius+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Radius шаблоны</a>
    <li><a href="#label-Markaby+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Markaby шаблоны</a>
    <li><a href="#label-RABL+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">RABL шаблоны</a>
    <li><a href="#label-Slim+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Slim шаблоны</a>
    <li><a href="#label-Creole+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Creole шаблоны</a>
    <li><a href="#label-MediaWiki+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">MediaWiki шаблоны</a>
    <li><a href="#label-CoffeeScript+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">CoffeeScript шаблоны</a>
    <li><a href="#label-Stylus+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Stylus шаблоны</a>
    <li><a href="#label-Yajl+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Yajl шаблоны</a>
    <li><a href="#label-WLang+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">WLang шаблоны</a>
    <li><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF+-D0-BA+-D0-BF-D0-B5-D1-80-D0-B5-D0-BC-D0-B5-D0-BD-D0-BD-D1-8B-D0-BC+-D0-B2+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B0-D1-85">Доступ к переменным в шаблонах</a>
    <li><a href="#label-D0-A8-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B+-D1-81+yield+-D0-B8+-D0-B2-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-BD-D1-8B-D0-B5+-D1-80-D0-B0-D1-81-D0-BA-D0-BB-D0-B0-D0-B4-D0-BA-D0-B8+-28layout-29">Шаблоны с <code>yield</code> и вложенные раскладки (layout)</a>
    <li><a href="#label-D0-92-D0-BA-D0-BB-D1-8E-D1-87-D1-91-D0-BD-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Включённые шаблоны</a>
    <li><a href="#label-D0-98-D0-BC-D0-B5-D0-BD-D0-BE-D0-B2-D0-B0-D0-BD-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Именованные шаблоны</a>
    <li><a href="#label-D0-9F-D1-80-D0-B8-D0-B2-D1-8F-D0-B7-D0-BA-D0-B0+-D1-84-D0-B0-D0-B9-D0-BB-D0-BE-D0-B2-D1-8B-D1-85+-D1-80-D0-B0-D1-81-D1-88-D0-B8-D1-80-D0-B5-D0-BD-D0-B8-D0-B9">Привязка файловых расширений</a>
    <li><a href="#label-D0-94-D0-BE-D0-B1-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-D1-81-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D0-BE-D0-B3-D0-BE+-D0-B4-D0-B2-D0-B8-D0-B6-D0-BA-D0-B0+-D1-80-D0-B5-D0-BD-D0-B4-D0-B5-D1-80-D0-B8-D0-BD-D0-B3-D0-B0">Добавление собственного движка рендеринга</a>
    <li><a href="#label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D1-82-D0-B5-D0-BB-D1-8C-D1-81-D0-BA-D0-BE-D0-B9+-D0-BB-D0-BE-D0-B3-D0-B8-D0-BA-D0-B8+-D0-B4-D0-BB-D1-8F+-D0-BF-D0-BE-D0-B8-D1-81-D0-BA-D0-B0+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B0">Использование пользовательской логики для поиска шаблона</a>
    <li><a href="#label-D0-A4-D0-B8-D0-BB-D1-8C-D1-82-D1-80-D1-8B">Фильтры</a>
    <li><a href="#label-D0-9C-D0-B5-D1-82-D0-BE-D0-B4-D1-8B--D0-BF-D0-BE-D0-BC-D0-BE-D1-89-D0-BD-D0-B8-D0-BA-D0-B8">Методы-помощники</a>
    <li><a href="#label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B9">Использование сессий</a>
    <li><a href="#label-D0-A1-D0-B5-D0-BA-D1-80-D0-B5-D1-82-D0-BD-D0-B0-D1-8F+-D0-B1-D0-B5-D0-B7-D0-BE-D0-BF-D0-B0-D1-81-D0-BD-D0-BE-D1-81-D1-82-D1-8C+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">Секретная безопасность сессии</a>
    <li><a href="#label-D0-9A-D0-BE-D0-BD-D1-84-D0-B8-D0-B3-D1-83-D1-80-D0-B0-D1-86-D0-B8-D1-8F+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">Конфигурация сессии</a>
    <li><a href="#label-D0-92-D1-8B-D0-B1-D0-BE-D1-80+-D0-B2-D0-B0-D1-88-D0-B5-D0-B9+-D1-81-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D0-BE-D0-B9+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">Выбор вашей собственной “прослойки” сессии</a>
    <li><a href="#label-D0-9F-D1-80-D0-B5-D1-80-D1-8B-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">Прерывание</a>
    <li><a href="#label-D0-9F-D0-B5-D1-80-D0-B5-D0-B4-D0-B0-D1-87-D0-B0">Передача</a>
    <li><a href="#label-D0-92-D1-8B-D0-B7-D0-BE-D0-B2+-D0-B4-D1-80-D1-83-D0-B3-D0-BE-D0-B3-D0-BE+-D0-BC-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D0-B0">Вызов другого маршрута</a>
    <li><a href="#label-D0-97-D0-B0-D0-B4-D0-B0-D0-BD-D0-B8-D0-B5+-D1-82-D0-B5-D0-BB-D0-B0-2C+-D0-BA-D0-BE-D0-B4-D0-B0+-D0-B8+-D0-B7-D0-B0-D0-B3-D0-BE-D0-BB-D0-BE-D0-B2-D0-BA-D0-BE-D0-B2+-D0-BE-D1-82-D0-B2-D0-B5-D1-82-D0-B0">Задание тела, кода и заголовков ответа</a>
    <li><a href="#label-D0-A1-D1-82-D1-80-D0-B8-D0-BC-D0-B8-D0-BD-D0-B3+-D0-BE-D1-82-D0-B2-D0-B5-D1-82-D0-BE-D0-B2">Стриминг ответов</a>
    <li><a href="#label-D0-9B-D0-BE-D0-B3-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">Логирование</a>
    <li><a href="#label-Mime--D1-82-D0-B8-D0-BF-D1-8B">Mime-типы</a>
    <li><a href="#label-D0-93-D0-B5-D0-BD-D0-B5-D1-80-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+URL">Генерирование URL</a>
    <li><a href="#label-D0-9F-D0-B5-D1-80-D0-B5-D0-BD-D0-B0-D0-BF-D1-80-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-28-D1-80-D0-B5-D0-B4-D0-B8-D1-80-D0-B5-D0-BA-D1-82-29">Перенаправление (редирект)</a>
    <li><a href="#label-D0-A3-D0-BF-D1-80-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-D0-BA-D1-8D-D1-88-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5-D0-BC">Управление кэшированием</a>
    <li><a href="#label-D0-9E-D1-82-D0-BF-D1-80-D0-B0-D0-B2-D0-BA-D0-B0+-D1-84-D0-B0-D0-B9-D0-BB-D0-BE-D0-B2">Отправка файлов</a>
    <li><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF+-D0-BA+-D0-BE-D0-B1-D1-8A-D0-B5-D0-BA-D1-82-D1-83+-D0-B7-D0-B0-D0-BF-D1-80-D0-BE-D1-81-D0-B0">Доступ к объекту запроса</a>
    <li><a href="#label-D0-92-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F">Вложения</a>
    <li><a href="#label-D0-A0-D0-B0-D0-B1-D0-BE-D1-82-D0-B0+-D1-81-D0-BE+-D0-B2-D1-80-D0-B5-D0-BC-D0-B5-D0-BD-D0-B5-D0-BC+-D0-B8+-D0-B4-D0-B0-D1-82-D0-B0-D0-BC-D0-B8">Работа со временем и датами</a>
    <li><a href="#label-D0-9F-D0-BE-D0-B8-D1-81-D0-BA+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-BE-D0-B2">Поиск шаблонов</a>
    <li><a href="#label-D0-9A-D0-BE-D0-BD-D1-84-D0-B8-D0-B3-D1-83-D1-80-D0-B0-D1-86-D0-B8-D1-8F">Конфигурация</a>
    <li><a href="#label-D0-9D-D0-B0-D1-81-D1-82-D1-80-D0-BE-D0-B9-D0-BA-D0-B0+-D0-B7-D0-B0-D1-89-D0-B8-D1-82-D1-8B+-D0-BE-D1-82+-D0-B0-D1-82-D0-B0-D0-BA">Настройка защиты от атак</a>
    <li><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF-D0-BD-D1-8B-D0-B5+-D0-BD-D0-B0-D1-81-D1-82-D1-80-D0-BE-D0-B9-D0-BA-D0-B8">Доступные настройки</a>
    <li><a href="#label-D0-A0-D0-B5-D0-B6-D0-B8-D0-BC-2C+-D0-BE-D0-BA-D1-80-D1-83-D0-B6-D0-B5-D0-BD-D0-B8-D0-B5">Режим, окружение</a>
    <li><a href="#label-D0-9E-D0-B1-D1-80-D0-B0-D0-B1-D0-BE-D1-82-D0-BA-D0-B0+-D0-BE-D1-88-D0-B8-D0-B1-D0-BE-D0-BA">Обработка ошибок</a>
    <li><a href="#label-Not+Found">Not Found</a>
    <li><a href="#label-Error">Error</a>
    <li><a href="#label-Rack+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B0-22">Rack “прослойка”</a>
    <li><a href="#label-D0-A2-D0-B5-D1-81-D1-82-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">Тестирование</a>
    <li><a href="#label-Sinatra-3A-3ABase+-E2-80-94+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22-2C+-D0-B1-D0-B8-D0-B1-D0-BB-D0-B8-D0-BE-D1-82-D0-B5-D0-BA-D0-B8+-D0-B8+-D0-BC-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F">Sinatra::Base — “прослойки”, библиотеки и модульные приложения</a>
    <li><a href="#label-D0-9C-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F+-D0-BF-D1-80-D0-BE-D1-82-D0-B8-D0-B2+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D1-85">Модульные приложения против классических</a>
    <li><a href="#label-D0-97-D0-B0-D0-BF-D1-83-D1-81-D0-BA+-D0-BC-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D1-85+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9">Запуск модульных приложений</a>
    <li><a href="#label-D0-97-D0-B0-D0-BF-D1-83-D1-81-D0-BA+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D1-85+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9+-D1-81+config.ru">Запуск классических приложений с config.ru</a>
    <li><a href="#label-D0-9A-D0-BE-D0-B3-D0-B4-D0-B0+-D0-B8-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D1-82-D1-8C+config.ru-3F">Когда использовать config.ru?</a>
    <li><a href="#label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+Sinatra+-D0-B2+-D0-BA-D0-B0-D1-87-D0-B5-D1-81-D1-82-D0-B2-D0-B5+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22">Использование Sinatra в качестве “прослойки”</a>
    <li><a href="#label-D0-A1-D0-BE-D0-B7-D0-B4-D0-B0-D0-BD-D0-B8-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9+-22-D0-BD-D0-B0+-D0-BB-D0-B5-D1-82-D1-83-22">Создание приложений “на лету”</a>
    <li><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D0-B8+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B8+-D0-BF-D1-80-D0-B8-D0-B2-D1-8F-D0-B7-D0-BA-D0-B0">Области видимости и привязка</a>
    <li><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F+-2F+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B0">Область видимости приложения / класса</a>
    <li><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B7-D0-B0-D0-BF-D1-80-D0-BE-D1-81-D0-B0+-2F+-D1-8D-D0-BA-D0-B7-D0-B5-D0-BC-D0-BF-D0-BB-D1-8F-D1-80-D0-B0">Область видимости запроса / экземпляра</a>
    <li><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B4-D0-B5-D0-BB-D0-B5-D0-B3-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D1-8F">Область видимости делегирования</a>
    <li><a href="#label-D0-9A-D0-BE-D0-BC-D0-B0-D0-BD-D0-B4-D0-BD-D0-B0-D1-8F+-D1-81-D1-82-D1-80-D0-BE-D0-BA-D0-B0">Командная строка</a>
    <li><a href="#label-Multi-threading">Multi-threading</a>
    <li><a href="#label-D0-A1-D0-B8-D1-81-D1-82-D0-B5-D0-BC-D0-BD-D1-8B-D0-B5+-D1-82-D1-80-D0-B5-D0-B1-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D1-8F">Системные требования</a>
    <li><a href="#label-D0-9D-D0-B0+-D0-BE-D1-81-D1-82-D1-80-D0-B8-D0-B5">На острие</a>
    <li><a href="#label-D0-A1+-D0-BF-D0-BE-D0-BC-D0-BE-D1-89-D1-8C-D1-8E+Bundler">С помощью Bundler</a>
    <li><a href="#label-D0-92-D0-B5-D1-80-D1-81-D0-B8-D0-B8">Версии</a>
    <li><a href="#label-D0-94-D0-B0-D0-BB-D1-8C-D0-BD-D0-B5-D0-B9-D1-88-D0-B5-D0-B5+-D1-87-D1-82-D0-B5-D0-BD-D0-B8-D0-B5">Дальнейшее чтение</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../config_ru.html">config.ru</a>
  
    <li><a href="../../../../../../db/cesdr_json.html">cesdr.json</a>
  
    <li><a href="../../../../../../gitpush_bat.html">gitpush.bat</a>
  
    <li><a href="../../../../../../run_bat.html">run.bat</a>
  
    <li><a href="../../../../../../spec/examples_txt.html">examples</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/_guard-core.html">_guard-core</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/_guard-core_bat.html">_guard-core.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/coderay.html">coderay</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/coderay_bat.html">coderay.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/guard.html">guard</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/guard_bat.html">guard.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/htmldiff.html">htmldiff</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/htmldiff_bat.html">htmldiff.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/ldiff.html">ldiff</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/ldiff_bat.html">ldiff.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/listen.html">listen</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/listen_bat.html">listen.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/pry.html">pry</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/pry_bat.html">pry.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rackup.html">rackup</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rackup_bat.html">rackup.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rake.html">rake</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rake_bat.html">rake.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rerun.html">rerun</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rerun_bat.html">rerun.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rspec.html">rspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rspec_bat.html">rspec.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rubocop.html">rubocop</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/rubocop_bat.html">rubocop.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-parse.html">ruby-parse</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-parse_bat.html">ruby-parse.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-rewrite.html">ruby-rewrite</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-rewrite_bat.html">ruby-rewrite.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/thor.html">thor</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/thor_bat.html">thor.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/tilt.html">tilt</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/bin/tilt_bat.html">tilt.bat</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/oj-3_4_0/gem_build_complete.html">gem.build_complete</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/oj-3_4_0/gem_make_out.html">gem_make.out</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/rainbow-2_2_2/gem_build_complete.html">gem.build_complete</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/rainbow-2_2_2/gem_make_out.html">gem_make.out</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/wdm-0_1_1/gem_build_complete.html">gem.build_complete</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/wdm-0_1_1/gem_make_out.html">gem_make.out</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/wdm-0_1_1/mkmf_log.html">mkmf.log</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activemodel-5_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activemodel-5_1_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activemodel-5_1_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/lib/active_record/railties/databases_rake.html">databases.rake</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activesupport-5_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activesupport-5_1_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/activesupport-5_1_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/CODE_OF_CONDUCT_md.html">CODE_OF_CONDUCT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/alexa_verifier_gemspec.html">alexa_verifier.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/arel-8_0_0/History_txt.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/arel-8_0_0/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/arel-8_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/LICENSE_MIT.html">LICENSE.MIT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/README_YARD_md.html">README.YARD</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/ast_gemspec.html">ast.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/coderay-1_1_2/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/coderay-1_1_2/README_INDEX_rdoc.html">README_INDEX</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/concurrent-ruby-1_0_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/concurrent-ruby-1_0_5/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/concurrent-ruby-1_0_5/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/CONTRIBUTE_markdown.html">CONTRIBUTE.markdown</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/TODO.html">TODO</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/config/database_yml_example.html">database.yml.example</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/db/sqlite_databases_go_here.html">sqlite_databases_go_here</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/features/example_feature.html">example.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/features/example_multiple_db_feature.html">example_multiple_db.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/features/example_multiple_orm_feature.html">example_multiple_orm.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_feature.html">cleaning.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_default_strategy_feature.html">cleaning_default_strategy.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_multiple_dbs_feature.html">cleaning_multiple_dbs.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_multiple_orms_feature.html">cleaning_multiple_orms.feature</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/spec/rcov_opts.html">rcov.opts</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/CONTRIBUTE_markdown.html">CONTRIBUTE.markdown</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/TODO.html">TODO</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Code-of-Conduct_md.html">Code-of-Conduct</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Contributing_md.html">Contributing</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/History_md.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/License_md.html">License</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Manifest_txt.html">Manifest</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/bin/htmldiff.html">htmldiff</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/bin/ldiff.html">ldiff</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/docs/COPYING_txt.html">COPYING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/docs/artistic_txt.html">artistic</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/spec/fixtures/ds1_csv.html">ds1.csv</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/spec/fixtures/ds2_csv.html">ds2.csv</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/COPYING.html">COPYING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_libffi.html">ChangeLog.libffi</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_libffi-3_1.html">ChangeLog.libffi-3.1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_libgcj.html">ChangeLog.libgcj</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_v1.html">ChangeLog.v1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/README.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/acinclude_m4.html">acinclude.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autogen_sh.html">autogen.sh</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_0.html">output.0</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_1.html">output.1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_2.html">output.2</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_3.html">output.3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/requests.html">requests</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_0.html">traces.0</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_1.html">traces.1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_2.html">traces.2</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_3.html">traces.3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/compile.html">compile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/config_guess.html">config.guess</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/config_sub.html">config.sub</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/configure.html">configure</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/configure_ac.html">configure.ac</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/configure_host.html">configure.host</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/depcomp.html">depcomp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/mdate-sh.html">mdate-sh</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/texinfo_tex.html">texinfo.tex</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/version_texi.html">version.texi</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/fficonfig_h_in.html">fficonfig.h.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/fficonfig_h_in~.html">fficonfig.h.in~</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/generate-darwin-source-and-headers_py.html">generate-darwin-source-and-headers.py</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/include/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/include/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/install-sh.html">install-sh</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libffi_map_in.html">libffi.map.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libffi_pc_in.html">libffi.pc.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libffi_xcodeproj/project_pbxproj.html">project.pbxproj</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libtool-ldflags.html">libtool-ldflags</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libtool-version.html">libtool-version</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ltmain_sh.html">ltmain.sh</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/asmcfi_m4.html">asmcfi.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_append_flag_m4.html">ax_append_flag.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_cc_maxopt_m4.html">ax_cc_maxopt.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_cflags_warn_all_m4.html">ax_cflags_warn_all.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_check_compile_flag_m4.html">ax_check_compile_flag.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_compiler_vendor_m4.html">ax_compiler_vendor.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_configure_args_m4.html">ax_configure_args.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_enable_builddir_m4.html">ax_enable_builddir.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_gcc_archflag_m4.html">ax_gcc_archflag.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_gcc_x86_cpuid_m4.html">ax_gcc_x86_cpuid.m4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_3.html">ffi.3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_call_3.html">ffi_call.3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_prep_cif_3.html">ffi_prep_cif.3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_prep_cif_var_3.html">ffi_prep_cif_var.3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/missing.html">missing</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/msvcc_sh.html">msvcc.sh</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/aarch64/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/alpha/osf_S.html">osf.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/arc/arcompact_S.html">arcompact.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/arm/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/avr32/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/bfin/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/cris/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/frv/eabi_S.html">eabi.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/ia64/unix_S.html">unix.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/m32r/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/m68k/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/m88k/obsd_S.html">obsd.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/metag/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/microblaze/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/mips/n32_S.html">n32.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/mips/o32_S.html">o32.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/moxie/eabi_S.html">eabi.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/nios2/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/or1k/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/pa/hpux32_S.html">hpux32.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/pa/linux_S.html">linux.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/aix_S.html">aix.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/aix_closure_S.html">aix_closure.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/darwin_S.html">darwin.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/darwin_closure_S.html">darwin_closure.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/linux64_S.html">linux64.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/linux64_closure_S.html">linux64_closure.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/ppc_closure_S.html">ppc_closure.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/s390/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sh/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sh64/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sparc/v8_S.html">v8.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sparc/v9_S.html">v9.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/tile/tile_S.html">tile.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/vax/elfbsd_S.html">elfbsd.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/unix64_S.html">unix64.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/win64_S.html">win64.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/win64_intel_S.html">win64_intel.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/xtensa/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/stamp-h_in.html">stamp-h.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/config/default_exp.html">default.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/lib/libffi_exp.html">libffi.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/lib/target-libpath_exp.html">target-libpath.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/lib/wrapper_exp.html">wrapper.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/libffi_call/call_exp.html">call.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/libffi_complex/complex_exp.html">complex.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/libffi_go/go_exp.html">go.exp</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ffi_gemspec.html">ffi.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/gen/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/aarch64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/arm-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-cygwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-darwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-freebsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-gnu/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-netbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-openbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-windows/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/ia64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/mips-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/mips64el-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/mipsel-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc-aix/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc-darwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/s390-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/s390x-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparc-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparc-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparc64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparcv9-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-cygwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-darwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-freebsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-netbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-openbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-windows/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/libtest/GNUmakefile.html">GNUmakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/ffi/LICENSE_SPECS.html">LICENSE.SPECS</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/ffi/embed-test/ext/Makefile.html">Makefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/ffi/fixtures/GNUmakefile.html">GNUmakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/spec_opts.html">spec.opts</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/CONTRIBUTORS_md.html">CONTRIBUTORS</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/changelog_txt.html">changelog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/formatador_gemspec.html">formatador.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/lib/guard/templates/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/man/guard_1.html">guard.1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/man/guard_1_html.html">guard.1.html</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/guard-compat_gemspec.html">guard-compat.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/gemfiles/Gemfile_rspec-2_99.html">Gemfile.rspec-2.99</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/gemfiles/Gemfile_rspec-3_4.html">Gemfile.rspec-3.4</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/gemfiles/common.html">common</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/guard-rspec_gemspec.html">guard-rspec.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/lib/guard/rspec/templates/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-3_2_x.html">Gemfile.rails-3.2.x</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-4_0_x.html">Gemfile.rails-4.0.x</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-4_1_x.html">Gemfile.rails-4.1.x</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-4_2_x.html">Gemfile.rails-4.2.x</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-5_0_x.html">Gemfile.rails-5.0.x</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-5_1_x.html">Gemfile.rails-5.1.x</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-master.html">Gemfile.rails-master</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/test/test_data/locales/de_po.html">de.po</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/Appraisals.html">Appraisals</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/CODE_OF_CONDUCT_md.html">CODE_OF_CONDUCT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/UPGRADE_GUIDE_md.html">UPGRADE_GUIDE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_0_0_gemfile.html">activerecord_5.0.0.gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_0_0_gemfile_lock.html">activerecord_5.0.0.gemfile.lock</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_1_0_gemfile.html">activerecord_5.1.0.gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_1_0_gemfile_lock.html">activerecord_5.1.0.gemfile.lock</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/jsonb_accessor_gemspec.html">jsonb_accessor.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/little-plugger-1_1_4/History_txt.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/little-plugger-1_1_4/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/little-plugger-1_1_4/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/History_txt.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/logging_gemspec.html">logging.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/script/bootstrap.html">bootstrap</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/MIT_LICENSE.html">MIT_LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/VERSION.html">VERSION</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/method_source_gemspec.html">method_source.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/Manifest_txt.html">Manifest</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/mustermann-1_0_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/mustermann-1_0_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/mustermann-1_0_2/mustermann_gemspec.html">mustermann.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/nenv-0_3_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/nenv-0_3_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/nenv-0_3_0/nenv_gemspec.html">nenv.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/notiffany-0_1_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/notiffany-0_1_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/ext/oj/Makefile.html">Makefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/ext/oj/oj-x64-mingw32_def.html">oj-x64-mingw32.def</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Advanced_md.html">Advanced</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Compatibility_md.html">Compatibility</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Custom_md.html">Custom</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Encoding_md.html">Encoding</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/JsonGem_md.html">JsonGem</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Modes_md.html">Modes</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Options_md.html">Options</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Rails_md.html">Rails</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Security_md.html">Security</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/WAB_md.html">WAB</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parallel-1_12_1/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/AST_FORMAT_md.html">AST_FORMAT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/CUSTOMIZATION_md.html">CUSTOMIZATION</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/INTERNALS_md.html">INTERNALS</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/lib/parser/lexer_rl.html">lexer.rl</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/parser_gemspec.html">parser.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/AST_FORMAT_md.html">AST_FORMAT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/CUSTOMIZATION_md.html">CUSTOMIZATION</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/INTERNALS_md.html">INTERNALS</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/lib/parser/lexer_rl.html">lexer.rl</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/parser_gemspec.html">parser.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/AST_FORMAT_md.html">AST_FORMAT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/CUSTOMIZATION_md.html">CUSTOMIZATION</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/INTERNALS_md.html">INTERNALS</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/lib/parser/lexer_rl.html">lexer.rl</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/parser_gemspec.html">parser.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/BSDL.html">BSDL</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ChangeLog.html">ChangeLog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Contributors_rdoc.html">Contributors</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Manifest_txt.html">Manifest</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/POSTGRES.html">POSTGRES</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README-OS_X_rdoc.html">README-OS_X</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README-Windows_rdoc.html">README-Windows</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README_ja_rdoc.html">README.ja</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Rakefile_cross.html">Rakefile.cross</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/errorcodes_def.html">errorcodes.def</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/errorcodes_txt.html">errorcodes</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/vc/pg_sln.html">pg.sln</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/vc/pg_18/pg_vcproj.html">pg.vcproj</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/vc/pg_19/pg_19_vcproj.html">pg_19.vcproj</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/spec/data/expected_trace_out.html">expected_trace.out</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/powerpack_gemspec.html">powerpack.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/lib/pry/slop/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/COPYING.html">COPYING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/SPEC.html">SPEC</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/contrib/rdoc_css.html">rdoc.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/example/lobster_ru.html">lobster.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/example/protectedlobster_ru.html">protectedlobster.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/rack_gemspec.html">rack.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/comment_ru.html">comment.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/end_ru.html">end.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/line_ru.html">line.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/options_ru.html">options.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/folder/test_js.html">test.js</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/fonts/font_eot.html">font.eot</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/images/image_png.html">image.png</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/index_html.html">index.html</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/javascripts/app_js.html">app.js</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/stylesheets/app_css.html">app.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/lighttpd_conf.html">lighttpd.conf</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/test+directory/test+file.html">test+file</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/test_fcgi.html">test.fcgi</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/test_ru.html">test.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/bad_robots.html">bad_robots</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/content_type_and_no_filename.html">content_type_and_no_filename</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/empty.html">empty</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/fail_16384_nofile.html">fail_16384_nofile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/file1_txt.html">file1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_and_modification_param.html">filename_and_modification_param</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_and_no_name.html">filename_and_no_name</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_encoded_words.html">filename_with_encoded_words</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_escaped_quotes.html">filename_with_escaped_quotes</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_escaped_quotes_and_modification_param.html">filename_with_escaped_quotes_and_modification_param</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_null_byte.html">filename_with_null_byte</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_percent_escaped_quotes.html">filename_with_percent_escaped_quotes</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_single_quote.html">filename_with_single_quote</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_percentages.html">filename_with_unescaped_percentages</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_percentages2.html">filename_with_unescaped_percentages2</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_percentages3.html">filename_with_unescaped_percentages3</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_quotes.html">filename_with_unescaped_quotes</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/ie.html">ie</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/mixed_files.html">mixed_files</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/nested.html">nested</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/none.html">none</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/quoted.html">quoted</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/semicolon.html">semicolon</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/text.html">text</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/three_files_three_fields.html">three_files_three_fields</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/unity3d_wwwform.html">unity3d_wwwform</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/webkit.html">webkit</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/rackup/config_ru.html">config.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/static/another/index_html.html">index.html</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/static/foo_html.html">foo.html</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/static/index_html.html">index.html</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/License.html">License</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/rack-protection_gemspec.html">rack-protection.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-test-0_8_2/History_md.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-test-0_8_2/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-test-0_8_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/rainbow_gemspec.html">rainbow.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/CONTRIBUTING_rdoc.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/command_line_usage_rdoc.html">command_line_usage</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/example/Rakefile1.html">Rakefile1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/example/Rakefile2.html">Rakefile2</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/glossary_rdoc.html">glossary</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/proto_rake_rdoc.html">proto_rake</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/rake_1.html">rake.1</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/rakefile_rdoc.html">rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/rational_rdoc.html">rational</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/rake_gemspec.html">rake.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/CODE_OF_CONDUCT_md.html">CODE_OF_CONDUCT</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/ralyxa_gemspec.html">ralyxa.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/ext/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/rb-fsevent_gemspec.html">rb-fsevent.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/rb-inotify_gemspec.html">rb-inotify.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/rerun_gemspec.html">rerun.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-3_7_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-3_7_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-core-3_7_1/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-core-3_7_1/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-core-3_7_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-expectations-3_7_0/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-expectations-3_7_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-expectations-3_7_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-mocks-3_7_0/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-mocks-3_7_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-mocks-3_7_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-support-3_7_1/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-support-3_7_1/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-support-3_7_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rubocop-0_52_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/rubocop-0_52_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby-progressbar-1_9_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby-progressbar-1_9_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby-progressbar-1_9_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby_dep-1_5_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby_dep-1_5_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/shellany_gemspec.html">shellany.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/AUTHORS_md.html">AUTHORS</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/MAINTENANCE_md.html">MAINTENANCE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_de_md.html">README.de</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_es_md.html">README.es</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_fr_md.html">README.fr</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_hu_md.html">README.hu</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_ja_md.html">README.ja</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_ko_md.html">README.ko</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_pt-br_md.html">README.pt-br</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_pt-pt_md.html">README.pt-pt</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_ru_md.html">README.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_zh_md.html">README.zh</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/SECURITY_md.html">SECURITY</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/VERSION.html">VERSION</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/examples/stream_ru.html">stream.ru</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/sinatra_gemspec.html">sinatra.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-activerecord-2_0_13/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-activerecord-2_0_13/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-activerecord-2_0_13/lib/sinatra/activerecord/tasks_rake.html">tasks.rake</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thor-0_20_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/JRubyCacheBackendLibrary_java.html">JRubyCacheBackendLibrary.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/ConcurrentHashMap_java.html">ConcurrentHashMap.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/ConcurrentHashMapV8_java.html">ConcurrentHashMapV8.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/LongAdder_java.html">LongAdder.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/Striped64_java.html">Striped64.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/nounsafe/ConcurrentHashMapV8_java.html">ConcurrentHashMapV8.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/nounsafe/LongAdder_java.html">LongAdder.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/nounsafe/Striped64_java.html">Striped64.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166y/ThreadLocalRandom_java.html">ThreadLocalRandom.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/thread_safe/JrubyCacheBackendService_java.html">JrubyCacheBackendService.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/spec/src/thread_safe/SecurityManager_java.html">SecurityManager.java</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/tasks/update_doc_rake.html">update_doc.rake</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/thread_safe_gemspec.html">thread_safe.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/yard-template/default/fulldoc/html/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/COPYING.html">COPYING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/HACKING.html">HACKING</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/docs/TEMPLATES_md.html">TEMPLATES</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/docs/common_css.html">common.css</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/man/index_txt.html">index</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/man/tilt_1_ronn.html">tilt.1.ronn</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/locals_mab.html">locals.mab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/markaby_mab.html">markaby.mab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/markaby_other_static_mab.html">markaby_other_static.mab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/render_twice_mab.html">render_twice.mab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/scope_mab.html">scope.mab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/yielding_mab.html">yielding.mab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/tilt_lesstemplate_test_less.html">tilt_lesstemplate_test.less</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/tilt_prawntemplate_prawn.html">tilt_prawntemplate.prawn</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/tilt_gemspec.html">tilt.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/CHANGES_md.html">CHANGES</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/iso3166_tab.html">iso3166.tab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/leapseconds.html">leapseconds</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/zone_tab.html">zone.tab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/zone1970_tab.html">zone1970.tab</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/tzinfo_gemspec.html">tzinfo.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/unicode-display_width_gemspec.html">unicode-display_width.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/README_md.html">README</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/Makefile.html">Makefile</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_sln.html">wdm.sln</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_vcxproj.html">wdm.vcxproj</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_vcxproj_filters.html">wdm.vcxproj.filters</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_ext-x64-mingw32_def.html">wdm_ext-x64-mingw32.def</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/activemodel-5_1_5_gemspec.html">activemodel-5.1.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/activerecord-5_1_5_gemspec.html">activerecord-5.1.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/activesupport-5_1_5_gemspec.html">activesupport-5.1.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/alexa_verifier-1_0_0_gemspec.html">alexa_verifier-1.0.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/arel-8_0_0_gemspec.html">arel-8.0.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/ast-2_4_0_gemspec.html">ast-2.4.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/coderay-1_1_2_gemspec.html">coderay-1.1.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/concurrent-ruby-1_0_5_gemspec.html">concurrent-ruby-1.0.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/database_cleaner-1_6_1_gemspec.html">database_cleaner-1.6.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/diff-lcs-1_3_gemspec.html">diff-lcs-1.3.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/ffi-1_9_21-x64-mingw32_gemspec.html">ffi-1.9.21-x64-mingw32.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/formatador-0_2_5_gemspec.html">formatador-0.2.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/guard-2_14_2_gemspec.html">guard-2.14.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/guard-compat-1_2_1_gemspec.html">guard-compat-1.2.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/guard-rspec-4_7_3_gemspec.html">guard-rspec-4.7.3.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/i18n-0_9_5_gemspec.html">i18n-0.9.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/jsonb_accessor-1_0_0_gemspec.html">jsonb_accessor-1.0.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/listen-3_1_5_gemspec.html">listen-3.1.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/little-plugger-1_1_4_gemspec.html">little-plugger-1.1.4.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/logging-2_2_2_gemspec.html">logging-2.2.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/lumberjack-1_0_12_gemspec.html">lumberjack-1.0.12.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/method_source-0_9_0_gemspec.html">method_source-0.9.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/minitest-5_11_3_gemspec.html">minitest-5.11.3.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/multi_json-1_13_1_gemspec.html">multi_json-1.13.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/mustermann-1_0_2_gemspec.html">mustermann-1.0.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/nenv-0_3_0_gemspec.html">nenv-0.3.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/notiffany-0_1_1_gemspec.html">notiffany-0.1.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/oj-3_4_0_gemspec.html">oj-3.4.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/parallel-1_12_1_gemspec.html">parallel-1.12.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/parser-2_5_0_0_gemspec.html">parser-2.5.0.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/parser-2_5_0_1_gemspec.html">parser-2.5.0.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/parser-2_5_0_2_gemspec.html">parser-2.5.0.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/pg-1_0_0-x64-mingw32_gemspec.html">pg-1.0.0-x64-mingw32.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/powerpack-0_1_1_gemspec.html">powerpack-0.1.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/pry-0_11_3_gemspec.html">pry-0.11.3.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rack-2_0_4_gemspec.html">rack-2.0.4.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rack-protection-2_0_1_gemspec.html">rack-protection-2.0.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rack-test-0_8_2_gemspec.html">rack-test-0.8.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rainbow-3_0_0_gemspec.html">rainbow-3.0.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rake-12_3_0_gemspec.html">rake-12.3.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/ralyxa-1_6_2_gemspec.html">ralyxa-1.6.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rb-fsevent-0_10_2_gemspec.html">rb-fsevent-0.10.2.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rb-inotify-0_9_10_gemspec.html">rb-inotify-0.9.10.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rerun-0_13_0_gemspec.html">rerun-0.13.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-3_7_0_gemspec.html">rspec-3.7.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-core-3_7_1_gemspec.html">rspec-core-3.7.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-expectations-3_7_0_gemspec.html">rspec-expectations-3.7.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-mocks-3_7_0_gemspec.html">rspec-mocks-3.7.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-support-3_7_1_gemspec.html">rspec-support-3.7.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/rubocop-0_52_1_gemspec.html">rubocop-0.52.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/ruby-progressbar-1_9_0_gemspec.html">ruby-progressbar-1.9.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/ruby_dep-1_5_0_gemspec.html">ruby_dep-1.5.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/shellany-0_0_1_gemspec.html">shellany-0.0.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/sinatra-2_0_1_gemspec.html">sinatra-2.0.1.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/sinatra-activerecord-2_0_13_gemspec.html">sinatra-activerecord-2.0.13.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/thor-0_20_0_gemspec.html">thor-0.20.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/thread_safe-0_3_6_gemspec.html">thread_safe-0.3.6.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/tilt-2_0_8_gemspec.html">tilt-2.0.8.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/tzinfo-1_2_5_gemspec.html">tzinfo-1.2.5.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/unicode-display_width-1_3_0_gemspec.html">unicode-display_width-1.3.0.gemspec</a>
  
    <li><a href="../../../../../../vendor/bundle/ruby/2_4_0/specifications/wdm-0_1_1_gemspec.html">wdm-0.1.1.gemspec</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page vendor/bundle/ruby/2.4.0/gems/sinatra-2.0.1/README.ru.md">

<h1 id="label-Sinatra"><a href="../../../../../../Sinatra.html">Sinatra</a><span><a href="#label-Sinatra">&para;</a> <a href="#top">&uarr;</a></span></h1>

<p><a href="http://travis-ci.org/sinatra/sinatra"><img
src="https://secure.travis-ci.org/sinatra/sinatra.svg"></a></p>

<p>Внимание: Этот документ является переводом английской версии и может быть
устаревшим*</p>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> — это
предметно-ориентированный каркас (<a
href="https://ru.wikipedia.org/wiki/Предметно-ориентированный_язык">DSL</a>)
для быстрого создания функциональных веб-приложений на Ruby с минимумом
усилий:</p>

<pre class="ruby"><span class="ruby-comment"># myapp.rb</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;Hello world!&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Установите gem:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">sinatra</span>
</pre>

<p>и запустите приложение с помощью:</p>

<pre class="ruby"><span class="ruby-identifier">ruby</span> <span class="ruby-identifier">myapp</span>.<span class="ruby-identifier">rb</span>
</pre>

<p>Оцените результат: <a href="http://localhost:4567">localhost:4567</a></p>

<p>Рекомендуется также установить <a
href="../../../../../../Thin.html">Thin</a>, сделать это можно командой:
<code>gem install thin</code>. <a
href="../../../../../../Thin.html">Thin</a> — это более производительный и
функциональный сервер для разработки приложений на <a
href="../../../../../../Sinatra.html">Sinatra</a>.</p>

<h2 id="label-D0-A1-D0-BE-D0-B4-D0-B5-D1-80-D0-B6-D0-B0-D0-BD-D0-B8-D0-B5">Содержание<span><a href="#label-D0-A1-D0-BE-D0-B4-D0-B5-D1-80-D0-B6-D0-B0-D0-BD-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="#sinatra">Sinatra</a>  <a href="#Содержание">Содержание</a>  <a
href="#Маршруты">Маршруты</a>  <a href="#Условия">Условия</a>  <a
href="#Возвращаемые-значения">Возвращаемые значения</a>  <a
href="#Собственные-детекторы-совпадений-для-маршрутов">Собственные
детекторы совпадений для маршрутов</a>  <a
href="#Статические-файлы">Статические файлы</a>  <a
href="#Представления--Шаблоны">Представления / Шаблоны</a>  <a
href="#Буквальные-шаблоны">Буквальные шаблоны</a>  <a
href="#Доступные-шаблонизаторы">Доступные шаблонизаторы</a>  <a
href="#haml-шаблоны">Haml шаблоны</a>  <a href="#erb-шаблоны">Erb
шаблоны</a>  <a href="#builder-шаблоны">Builder шаблоны</a>  <a
href="#nokogiri-шаблоны">Nokogiri шаблоны</a>  <a href="#sass-шаблоны">Sass
шаблоны</a>  <a href="#scss-шаблоны">SCSS шаблоны</a>  <a
href="#less-шаблоны">Less шаблоны</a>  <a href="#liquid-шаблоны">Liquid
шаблоны</a>  <a href="#markdown-шаблоны">Markdown шаблоны</a>  <a
href="#textile-шаблоны">Textile шаблоны</a>  <a href="#rdoc-шаблоны">RDoc
шаблоны</a>  <a href="#asciidoc-шаблоны">AsciiDoc шаблоны</a>  <a
href="#radius-шаблоны">Radius шаблоны</a>  <a
href="#markaby-шаблоны">Markaby шаблоны</a>  <a href="#rabl-шаблоны">RABL
шаблоны</a>  <a href="#slim-шаблоны">Slim шаблоны</a>  <a
href="#creole-шаблоны">Creole шаблоны</a>  <a
href="#mediawiki-шаблоны">MediaWiki шаблоны</a>  <a
href="#coffeescript-шаблоны">CoffeeScript шаблоны</a>  <a
href="#stylus-шаблоны">Stylus шаблоны</a>  <a href="#yajl-шаблоны">Yajl
шаблоны</a>  <a href="#wlang-шаблоны">WLang шаблоны</a>  <a
href="#Доступ-к-переменным-в-шаблонах">Доступ к переменным в шаблонах</a> 
<a href="#Шаблоны-с-yield-и-вложенные-раскладки-layout">Шаблоны с yield и
вложенные раскладки (layout)</a>  <a href="#Включённые-шаблоны">Включённые
шаблоны</a>  <a href="#Именованные-шаблоны">Именованные шаблоны</a>  <a
href="#Привязка-файловых-расширений">Привязка файловых расширений</a>  <a
href="#Добавление-собственного-движка-рендеринга">Добавление собственного
движка рендеринга</a>  <a
href="#Использование-пользовательской-логики-для-поиска-шаблона">Использование
пользовательской логики для поиска шаблона</a>  <a
href="#Фильтры">Фильтры</a>  <a
href="#Методы-помощники">Методы-помощники</a>  <a
href="#Использование-сессий">Использование сессий</a>  <a
href="#Секретная-безопасность-сессии">Секретная безопасность сессии</a>  <a
href="#Конфигурация-сессии">Конфигурация сессии</a>  <a
href="#Выбор-вашей-собственной-прослойки-сессий">Выбор вашей собственной
“прослойки” сессии</a>  <a href="#Прерывание">Прерывание</a>  <a
href="#Передача">Передача</a>  <a href="#Вызов-другого-маршрута">Вызов
другого маршрута</a>  <a
href="#Задание-тела-статуса-кода-и-заголовков-ответа">Задание тела, статус
кода и заголовков ответа</a>  <a href="#Стриминг-ответов">Стриминг
ответов</a>  <a href="#Логирование">Логирование</a>  <a
href="#mime-типы">Mime-типы</a>  <a href="#Генерирование-url">Генерирование
URL</a>  <a href="#Перенаправление-редирект">Перенаправление (редирект)</a>
<a href="#Управление-кэшированием">Управление кэшированием</a>  <a
href="#Отправка-файлов">Отправка файлов</a>  <a
href="#Доступ-к-объекту-запроса">Доступ к объекту запроса</a>  <a
href="#Вложения">Вложения</a>  <a
href="#Работа-со-временем-и-датами">Работа со временем и датами</a>  <a
href="#Поиск-шаблонов">Поиск шаблонов</a>  <a
href="#Конфигурация">Конфигурация</a>  <a
href="#Настройка-защиты-от-атак">Настройка защиты от атак</a>  <a
href="#Доступные-настройки">Доступные настройки</a>  <a
href="#Режим-окружение">Режим, окружение</a>  <a
href="#Обработка-ошибок">Обработка ошибок</a>  <a href="#not-found">Not
Found</a>  <a href="#error">Error</a>  <a href="#rack-прослойки">Rack
“прослойки”</a>  <a href="#Тестирование">Тестирование</a>  <a
href="#sinatrabase--прослойки-библиотеки-и-модульные-приложения">Sinatra::Base
— “прослойки”, библиотеки и модульные приложения</a>  <a
href="#Модульные-приложения-против-классических">Модульные приложения
против классических</a>  <a href="#Запуск-модульных-приложений">Запуск
модульных приложений</a>  <a
href="#Запуск-классических-приложений-с-configru">Запуск классических
приложений с config.ru</a>  <a href="#Когда-использовать-configru">Когда
использовать config.ru?</a>  <a
href="#Использование-sinatra-в-качестве-прослойки">Использование Sinatra в
качестве “прослойки”</a>  <a href="#Создание-приложений-на-лету">Создание
приложений “на лету”</a>  <a href="#Области-видимости-и-привязка">Области
видимости и привязка</a>  <a
href="#Область-видимости-приложения--класса">Область видимости приложения /
класса</a>  <a href="#Область-видимости-запроса--экземпляра">Область
видимости запроса / экземпляра</a>  <a
href="#Область-видимости-делегирования">Область видимости делегирования</a>
<a href="#Командная-строка">Командная строка</a>  <a
href="#Многопоточность">Многопоточность</a>  <a
href="#Системные-требования">Системные требования</a>  <a
href="#На-острие">На острие</a>  <a href="#С-помощью-bundler">С помощью
Bundler</a>  <a href="#Версии">Версии</a>  <a
href="#Дальнейшее-чтение">Дальнейшее чтение</a></p>

<h2 id="label-D0-9C-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D1-8B">Маршруты<span><a href="#label-D0-9C-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>В <a href="../../../../../../Sinatra.html">Sinatra</a> маршрут — это пара:
&lt;HTTP метод&gt; и &lt;шаблон URL&gt;. Каждый маршрут связан с блоком
кода:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то показать ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">post</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то создать ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">put</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то заменить ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">patch</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то изменить ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">delete</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то удалить ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">options</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то ответить ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">link</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то подключить ..</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">unlink</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># .. что-то отключить ..</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Маршруты сверяются с запросом в порядке очередности их записи в файле
приложения. Первый же совпавший с запросом маршрут и будет вызван.</p>

<p>Маршруты с конечным слэшем отличаются от маршрутов без него:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># не соответствует &quot;GET /foo/&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Шаблоны маршрутов могут включать в себя именованные параметры, доступные в
xэше <code>params</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/hello/:name&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># соответствует &quot;GET /hello/foo&quot; и &quot;GET /hello/bar&quot;,</span>
  <span class="ruby-comment"># где params[&#39;name&#39;] - это &#39;foo&#39; или &#39;bar&#39;</span>
  <span class="ruby-node">&quot;Hello #{params[&#39;name&#39;]}!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Также можно получить доступ к именованным параметрам через параметры блока:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/hello/:name&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">n</span><span class="ruby-operator">|</span>
  <span class="ruby-comment"># соответствует &quot;GET /hello/foo&quot; и &quot;GET /hello/bar&quot;,</span>
  <span class="ruby-comment"># где params[&#39;name&#39;] - это &#39;foo&#39; или &#39;bar&#39;</span>
  <span class="ruby-comment"># n хранит params[&#39;name&#39;]</span>
  <span class="ruby-node">&quot;Hello #{n}!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Шаблоны маршрутов также могут включать в себя splat (или &#39;*&#39; маску,
обозначающую любой символ) параметры, доступные в массиве
<code>params['splat']</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/say  /to/*&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># соответствует /say/hello/to/world</span>
  <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;splat&#39;</span>] <span class="ruby-comment"># =&gt; [&quot;hello&quot;, &quot;world&quot;]</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/download/*.*&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># соответствует /download/path/to/file.xml</span>
  <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;splat&#39;</span>] <span class="ruby-comment"># =&gt; [&quot;path/to/file&quot;, &quot;xml&quot;]</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Или с параметрами блока:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/download/*.*&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">ext</span><span class="ruby-operator">|</span>
  [<span class="ruby-identifier">path</span>, <span class="ruby-identifier">ext</span>] <span class="ruby-comment"># =&gt; [&quot;path/to/file&quot;, &quot;xml&quot;]</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Регулярные выражения в качестве шаблонов маршрутов:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-regexp">/\/hello\/([\w]+)/</span> <span class="ruby-keyword">do</span>
  <span class="ruby-node">&quot;Hello, #{params[&#39;captures&#39;].first}!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Или с параметром блока:</p>

<pre class="ruby"><span class="ruby-comment"># Соответствует &quot;GET /meta/hello/world&quot;, &quot;GET /hello/world/1234&quot; и т.д.</span>
<span class="ruby-identifier">get</span> <span class="ruby-regexp">%r{/hello/([\w]+)}</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">c</span><span class="ruby-operator">|</span>
  <span class="ruby-node">&quot;Hello, #{c}!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Шаблоны маршрутов могут иметь необязательные параметры:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/posts/:format?&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># соответствует &quot;GET /posts/&quot;, &quot;GET /posts/json&quot;, &quot;GET /posts/xml&quot; и т.д.</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Маршруты также могут использовать параметры запроса:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/posts&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># соответствует &quot;GET /posts?title=foo&amp;author=bar&quot;</span>
  <span class="ruby-identifier">title</span> = <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;title&#39;</span>]
  <span class="ruby-identifier">author</span> = <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;author&#39;</span>]
  <span class="ruby-comment"># используются переменные title и author; запрос не обязателен для маршрута /posts</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Кстати, если вы не отключите защиту от обратного пути в директориях (path
traversal, см. ниже), путь запроса может быть изменен до начала поиска
подходящего маршрута.</p>

<p>Вы можете настроить <a
href="../../../../../../Mustermann.html">Mustermann</a> опции, используемые
для данного маршрута, путём передачи в <code>:mustermann_opts</code> хэш:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;\A/posts\z&#39;</span>, :<span class="ruby-identifier">mustermann_opts</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">regexp</span>, :<span class="ruby-identifier">check_anchors</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> } <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># в точности соответствует /posts, с явной привязкой</span>
  <span class="ruby-string">&quot;If you match an anchored pattern clap your hands!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Это похоже на <a href="#Условия">условие</a>, но это не так! Эти опции
будут объеденины в глобальный <code>:mustermann_opts</code> хэш, описанный
<a href="#Доступные-настройки">ниже</a>.</p>

<h3 id="label-D0-A3-D1-81-D0-BB-D0-BE-D0-B2-D0-B8-D1-8F">Условия<span><a href="#label-D0-A3-D1-81-D0-BB-D0-BE-D0-B2-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Маршруты могут включать различные условия совпадений, например, клиентское
приложение (user agent):</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span>, :<span class="ruby-identifier">agent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/Songbird (\d\.\d)[\d\/]*?/</span> <span class="ruby-keyword">do</span>
  <span class="ruby-node">&quot;You&#39;re using Songbird version #{params[&#39;agent&#39;][0]}&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># соответствует не-songbird браузерам</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Другими доступными условиями являются <code>host_name</code> и
<code>provides</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>, :<span class="ruby-identifier">host_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/^admin\./</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;Admin Area, Access denied!&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>, :<span class="ruby-identifier">provides</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;html&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>, :<span class="ruby-identifier">provides</span> =<span class="ruby-operator">&gt;</span> [<span class="ruby-string">&#39;rss&#39;</span>, <span class="ruby-string">&#39;atom&#39;</span>, <span class="ruby-string">&#39;xml&#39;</span>] <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">builder</span> :<span class="ruby-identifier">feed</span>
<span class="ruby-keyword">end</span>
</pre>

<p><code>provides</code> ищет заголовок запроса <code>Accept</code>.</p>

<p>Вы можете задать собственные условия:</p>

<pre class="ruby"><span class="ruby-identifier">set</span>(:<span class="ruby-identifier">probability</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">condition</span> { <span class="ruby-identifier">rand</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-identifier">value</span> } }

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/win_a_car&#39;</span>, :<span class="ruby-identifier">probability</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0.1</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;You won!&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/win_a_car&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;Sorry, you lost.&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Для условия, которое принимает несколько параметров, используйте звездочку:</p>

<pre class="ruby"><span class="ruby-identifier">set</span>(:<span class="ruby-identifier">auth</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-operator">*</span><span class="ruby-identifier">roles</span><span class="ruby-operator">|</span>   <span class="ruby-comment"># &lt;- обратите внимание на звездочку</span>
  <span class="ruby-identifier">condition</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">logged_in?</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">roles</span>.<span class="ruby-identifier">any?</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">role</span><span class="ruby-operator">|</span> <span class="ruby-identifier">current_user</span>.<span class="ruby-identifier">in_role?</span> <span class="ruby-identifier">role</span> }
      <span class="ruby-identifier">redirect</span> <span class="ruby-string">&quot;/login/&quot;</span>, <span class="ruby-value">303</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/my/account/&quot;</span>, :<span class="ruby-identifier">auth</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">user</span>, :<span class="ruby-identifier">admin</span>] <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;Your Account Details&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/only/admin/&quot;</span>, :<span class="ruby-identifier">auth</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">admin</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;Only admins are allowed here!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-92-D0-BE-D0-B7-D0-B2-D1-80-D0-B0-D1-89-D0-B0-D0-B5-D0-BC-D1-8B-D0-B5+-D0-B7-D0-BD-D0-B0-D1-87-D0-B5-D0-BD-D0-B8-D1-8F">Возвращаемые значения<span><a href="#label-D0-92-D0-BE-D0-B7-D0-B2-D1-80-D0-B0-D1-89-D0-B0-D0-B5-D0-BC-D1-8B-D0-B5+-D0-B7-D0-BD-D0-B0-D1-87-D0-B5-D0-BD-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Возвращаемое значение блока маршрута ограничивается телом ответа, которое
будет передано HTTP клиенту, или следующей “прослойкой” (middleware) в <a
href="../../../../../../Rack.html">Rack</a> стеке. Чаще всего это строка,
как в примерах выше. Но также приемлемы и другие значения.</p>

<p>Вы можете вернуть любой объект, который будет либо корректным <a
href="../../../../../../Rack.html">Rack</a> ответом, либо объектом <a
href="../../../../../../Rack.html">Rack</a> body, либо кодом состояния
HTTP:</p>

<p>массив с тремя переменными: <code>[код (Fixnum), заголовки (Hash), тело
ответа   (должно отвечать на #each)]</code>;  массив с двумя переменными:
<code>[код (Fixnum), тело ответа (должно отвечать   на #each)]</code>; 
объект, отвечающий на <code>#each</code>, который передает только строковые
типы  данных в этот блок;  Fixnum, представляющий код состояния HTTP.</p>

<p>Таким образом, легко можно реализовать, например, поточный пример:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">Stream</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">each</span>
    <span class="ruby-value">100</span>.<span class="ruby-identifier">times</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-keyword">yield</span> <span class="ruby-node">&quot;#{i}\n&quot;</span> }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-constant">Stream</span>.<span class="ruby-identifier">new</span> }
</pre>

<p>Вы также можете использовать метод <code>stream</code> (описываемый ниже),
чтобы уменьшить количество шаблонного кода и встраивать поточную логику
прямо в маршрут.</p>

<h3 id="label-D0-A1-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D1-8B-D0-B5+-D0-B4-D0-B5-D1-82-D0-B5-D0-BA-D1-82-D0-BE-D1-80-D1-8B+-D1-81-D0-BE-D0-B2-D0-BF-D0-B0-D0-B4-D0-B5-D0-BD-D0-B8-D0-B9+-D0-B4-D0-BB-D1-8F+-D0-BC-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D0-BE-D0-B2">Собственные детекторы совпадений для маршрутов<span><a href="#label-D0-A1-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D1-8B-D0-B5+-D0-B4-D0-B5-D1-82-D0-B5-D0-BA-D1-82-D0-BE-D1-80-D1-8B+-D1-81-D0-BE-D0-B2-D0-BF-D0-B0-D0-B4-D0-B5-D0-BD-D0-B8-D0-B9+-D0-B4-D0-BB-D1-8F+-D0-BC-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D0-BE-D0-B2">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Как показано выше, <a href="../../../../../../Sinatra.html">Sinatra</a>
поставляется со встроенной поддержкой строк и регулярных выражений в
качестве шаблонов URL. Но и это еще не все. Вы можете легко определить свои
собственные детекторы совпадений (matchers) для маршрутов:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">AllButPattern</span>
  <span class="ruby-constant">Match</span> = <span class="ruby-constant">Struct</span>.<span class="ruby-identifier">new</span>(:<span class="ruby-identifier">captures</span>)

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">except</span>)
    <span class="ruby-ivar">@except</span>   = <span class="ruby-identifier">except</span>
    <span class="ruby-ivar">@captures</span> = <span class="ruby-constant">Match</span>.<span class="ruby-identifier">new</span>([])
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">match</span>(<span class="ruby-identifier">str</span>)
    <span class="ruby-ivar">@captures</span> <span class="ruby-keyword">unless</span> <span class="ruby-ivar">@except</span> <span class="ruby-operator">===</span> <span class="ruby-identifier">str</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">def</span> <span class="ruby-identifier">all_but</span>(<span class="ruby-identifier">pattern</span>)
  <span class="ruby-constant">AllButPattern</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">pattern</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-identifier">all_but</span>(<span class="ruby-string">&quot;/index&quot;</span>) <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Заметьте, что предыдущий пример, возможно, чересчур усложнен, потому что он
может быть реализован так:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-regexp">//</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">pass</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_info</span> <span class="ruby-operator">==</span> <span class="ruby-string">&quot;/index&quot;</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Или с использованием негативного просмотра вперед:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-regexp">%r{(?!/index)}</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="label-D0-A1-D1-82-D0-B0-D1-82-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D0-B5+-D1-84-D0-B0-D0-B9-D0-BB-D1-8B">Статические файлы<span><a href="#label-D0-A1-D1-82-D0-B0-D1-82-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D0-B5+-D1-84-D0-B0-D0-B9-D0-BB-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Статические файлы отдаются из <code>./public</code> директории. Вы можете
указать другое место, используя опцию <code>:public_folder</code>:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">public_folder</span>, <span class="ruby-constant">File</span>.<span class="ruby-identifier">dirname</span>(<span class="ruby-keyword">__FILE__</span>) <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/static&#39;</span>
</pre>

<p>Учтите, что имя директории со статическими файлами не включено в URL.
Например, файл <code>./public/css/style.css</code> будет доступен как
<code>http://example.com/css/style.css</code>.</p>

<p>Используйте опцию <code>:static_cache_control</code> (см. ниже), чтобы
добавить заголовок <code>Cache-Control</code>.</p>

<h2 id="label-D0-9F-D1-80-D0-B5-D0-B4-D1-81-D1-82-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D1-8F+-2F+-D0-A8-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Представления / Шаблоны<span><a href="#label-D0-9F-D1-80-D0-B5-D0-B4-D1-81-D1-82-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D1-8F+-2F+-D0-A8-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Каждый шаблонизатор представлен своим собственным методом. Эти методы
попросту возвращают строку:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Отобразит <code>views/index.erb</code>.</p>

<p>Вместо имени шаблона вы так же можете передавать непосредственно само
содержимое шаблона:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">code</span> = <span class="ruby-string">&quot;&lt;%= Time.now %&gt;&quot;</span>
  <span class="ruby-identifier">erb</span> <span class="ruby-identifier">code</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Эти методы принимают второй аргумент, хеш с опциями:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">index</span>, :<span class="ruby-identifier">layout</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">post</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Отобразит <code>views/index.erb</code>, вложенным в
<code>views/post.erb</code> (по умолчанию: <code>views/layout.erb</code>,
если существует).</p>

<p>Любые опции, не понимаемые <a
href="../../../../../../Sinatra.html">Sinatra</a>, будут переданы в
шаблонизатор:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>, :<span class="ruby-identifier">format</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">html5</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Вы также можете задавать опции для шаблонизаторов в общем:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">haml</span>, :<span class="ruby-identifier">format</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">html5</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Опции, переданные в метод, переопределяют опции, заданные с помощью
<code>set</code>.</p>

<p>Доступные опции:</p>
<dl>
  <dt>locals</dt>
  <dd>
    Список локальных переменных, передаваемых в документ.
    Например: <tt>erb "<%= foo %>", :locals => {:foo => "bar"}</tt>
  </dd>

  <dt>default_encoding</dt>
  <dd>
    Кодировка, которую следует использовать, если не удалось определить
    оригинальную. По умолчанию: <tt>settings.default_encoding</tt>.
  </dd>

  <dt>views</dt>
  <dd>
    Директория с шаблонами. По умолчанию: <tt>settings.views</tt>.
  </dd>

  <dt>layout</dt>
  <dd>
    Использовать или нет лэйаут (<tt>true</tt> или <tt>false</tt>). Если же значение Symbol,
    то указывает, какой шаблон использовать в качестве лэйаута. Например:
    <tt>erb :index, :layout => !request.xhr?</tt>
  </dd>

  <dt>content_type</dt>
  <dd>
    Content-Type отображенного шаблона. По умолчанию: задается шаблонизатором.
  </dd>

  <dt>scope</dt>
  <dd>
    Область видимости, в которой рендерятся шаблоны. По умолчанию: экземпляр
    приложения. Если вы измените эту опцию, то переменные экземпляра и
    методы-помощники станут недоступными в ваших шаблонах.
  </dd>

  <dt>layout_engine</dt>
  <dd>
    Шаблонизатор, который следует использовать для отображения лэйаута.
    Полезная опция для шаблонизаторов, в которых нет никакой поддержки
    лэйаутов. По умолчанию: тот же шаблонизатор, что используется и для самого
    шаблона. Пример: <tt>set :rdoc, :layout_engine => :erb</tt>
  </dd>

  <dt>layout_options</dt>
  <dd>
    Специальные опции, используемые только для рендеринга лэйаута. Например:
    <tt>set :rdoc, :layout_options => { :views => 'views/layouts' }</tt>
  </dd>
</dl>
<p>По умолчанию считается, что шаблоны находятся в директории
<code>./views</code>. Чтобы использовать другую директорию с шаблонами:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">views</span>, <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">root</span> <span class="ruby-operator">+</span> <span class="ruby-string">&#39;/templates&#39;</span>
</pre>

<p>Важное замечание: вы всегда должны ссылаться на шаблоны с помощью символов
(Symbol), даже когда они в поддиректории (в этом случае используйте
<code>:&#39;subdir/template&#39;</code>). Вы должны использовать символы,
потому что иначе шаблонизаторы попросту отображают любые строки, переданные
им.</p>

<h3 id="label-D0-91-D1-83-D0-BA-D0-B2-D0-B0-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Буквальные шаблоны<span><a href="#label-D0-91-D1-83-D0-BA-D0-B2-D0-B0-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h3>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%div.title Hello World&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Отобразит шаблон, переданный строкой. Опционально, можно задать
<code>:path</code> и <code>:line</code> для более понятного бэктрейса, в
случае, если существует путь к файловой системе и линия, которые
ассоциируются с этой строкой:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%div.title Hello World&#39;</span>, :<span class="ruby-identifier">path</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;examples/file.haml&#39;</span>, :<span class="ruby-identifier">line</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B8-D0-B7-D0-B0-D1-82-D0-BE-D1-80-D1-8B">Доступные шаблонизаторы<span><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B8-D0-B7-D0-B0-D1-82-D0-BE-D1-80-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Некоторые языки шаблонов имеют несколько реализаций. Чтобы указать, какую
реализацию использовать, вам следует просто подключить нужную библиотеку:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rdiscount&#39;</span> <span class="ruby-comment"># или require &#39;bluecloth&#39;</span>
<span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-identifier">markdown</span> :<span class="ruby-identifier">index</span> }
</pre>

<h4 id="label-Haml+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Haml шаблоны<span><a href="#label-Haml+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://haml.info/" title="haml">haml</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.haml</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>haml :index, :format => :html5</tt></td>
  </tr>
</table>
<h4 id="label-Erb+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Erb шаблоны<span><a href="#label-Erb+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td>
      <a href="http://www.kuwata-lab.com/erubis/" title="erubis">erubis</a>
      или erb (включен в Ruby)
    </td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.erb</tt>, <tt>.rhtml</tt> or <tt>.erubis</tt> (только Erubis)</td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>erb :index</tt></td>
  </tr>
</table>
<h4 id="label-Builder+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Builder шаблоны<span><a href="#label-Builder+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td>
      <a href="https://github.com/jimweirich/builder" title="builder">builder</a>
    </td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.builder</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>builder { |xml| xml.em "hi" }</tt></td>
  </tr>
</table>
<p>Блок также используется и для встроенных шаблонов (см. пример).</p>

<h4 id="label-Nokogiri+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Nokogiri шаблоны<span><a href="#label-Nokogiri+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://www.nokogiri.org/" title="nokogiri">nokogiri</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.nokogiri</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>nokogiri { |xml| xml.em "hi" }</tt></td>
  </tr>
</table>
<p>Блок также используется и для встроенных шаблонов (см. пример).</p>

<h4 id="label-Sass+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Sass шаблоны<span><a href="#label-Sass+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://sass-lang.com/" title="sass">sass</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.sass</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>sass :stylesheet, :style => :expanded</tt></td>
  </tr>
</table>
<h4 id="label-SCSS+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">SCSS шаблоны<span><a href="#label-SCSS+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://sass-lang.com/" title="sass">sass</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.scss</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>scss :stylesheet, :style => :expanded</tt></td>
  </tr>
</table>
<h4 id="label-Less+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Less шаблоны<span><a href="#label-Less+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://lesscss.org/" title="less">less</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.less</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>less :stylesheet</tt></td>
  </tr>
</table>
<h4 id="label-Liquid+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Liquid шаблоны<span><a href="#label-Liquid+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://liquidmarkup.org/" title="liquid">liquid</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.liquid</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>liquid :index, :locals => { :key => 'value' }</tt></td>
  </tr>
</table>
<p>Так как в Liquid шаблонах невозможно вызывать методы из Ruby (кроме
<code>yield</code>), то вы почти всегда будете передавать в шаблон
локальные переменные.</p>

<h4 id="label-Markdown+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Markdown шаблоны<span><a href="#label-Markdown+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td>
      Любая из библиотек:
        <a href="https://github.com/davidfstr/rdiscount" title="RDiscount">RDiscount</a>,
        <a href="https://github.com/vmg/redcarpet" title="RedCarpet">RedCarpet</a>,
        <a href="http://deveiate.org/projects/BlueCloth" title="BlueCloth">BlueCloth</a>,
        <a href="http://kramdown.gettalong.org/" title="kramdown">kramdown</a>,
        <a href="https://github.com/bhollis/maruku" title="maruku">maruku</a>
    </td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.markdown</tt>, <tt>.mkd</tt> and <tt>.md</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>markdown :index, :layout_engine => :erb</tt></td>
  </tr>
</table>
<p>В Markdown невозможно вызывать методы или передавать локальные переменные.
Следовательно, вам, скорее всего, придется использовать этот шаблон
совместно с другим шаблонизатором:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">overview</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">markdown</span>(:<span class="ruby-identifier">introduction</span>) }
</pre>

<p>Заметьте, что вы можете вызывать метод <code>markdown</code> из других
шаблонов:</p>

<pre class="ruby"><span class="ruby-operator">%</span><span class="ruby-value">1</span> <span class="ruby-constant">Hello</span> <span class="ruby-constant">From</span> <span class="ruby-constant">Haml!</span>
<span class="ruby-operator">%</span>= <span class="ruby-identifier">markdown</span>(:<span class="ruby-identifier">greetings</span>)
</pre>

<p>Вы не можете вызывать Ruby из Markdown, соответственно, вы не можете
использовать лэйауты на Markdown. Тем не менее, есть возможность
использовать один шаблонизатор для отображения шаблона, а другой для
лэйаута с помощью опции <code>:layout_engine</code>.</p>

<h4 id="label-Textile+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Textile шаблоны<span><a href="#label-Textile+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://redcloth.org/" title="RedCloth">RedCloth</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.textile</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>textile :index, :layout_engine => :erb</tt></td>
  </tr>
</table>
<p>В Textile невозможно вызывать методы или передавать локальные переменные.
Следовательно, вам, скорее всего, придется использовать этот шаблон
совместно с другим шаблонизатором:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">overview</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">textile</span>(:<span class="ruby-identifier">introduction</span>) }
</pre>

<p>Заметьте, что вы можете вызывать метод <code>textile</code> из других
шаблонов:</p>

<pre class="ruby"><span class="ruby-operator">%</span><span class="ruby-value">1</span> <span class="ruby-constant">Hello</span> <span class="ruby-constant">From</span> <span class="ruby-constant">Haml!</span>
<span class="ruby-operator">%</span>= <span class="ruby-identifier">textile</span>(:<span class="ruby-identifier">greetings</span>)
</pre>

<p>Вы не можете вызывать Ruby из Textile, соответственно, вы не можете
использовать лэйауты на Textile. Тем не менее, есть возможность
использовать один шаблонизатор для отображения шаблона, а другой для
лэйаута с помощью опции <code>:layout_engine</code>.</p>

<h4 id="label-RDoc+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B"><a href="../../../../../../RDoc.html">RDoc</a> шаблоны<span><a href="#label-RDoc+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://rdoc.sourceforge.net/" title="RDoc">RDoc</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.rdoc</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>rdoc :README, :layout_engine => :erb</tt></td>
  </tr>
</table>
<p>В <a href="../../../../../../RDoc.html">RDoc</a> невозможно вызывать методы
или передавать локальные переменные. Следовательно, вам, скорее всего,
придется использовать этот шаблон совместно с другим шаблонизатором:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">overview</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">rdoc</span>(:<span class="ruby-identifier">introduction</span>) }
</pre>

<p>Заметьте, что вы можете вызывать метод <code>rdoc</code> из других
шаблонов:</p>

<pre class="ruby"><span class="ruby-operator">%</span><span class="ruby-value">1</span> <span class="ruby-constant">Hello</span> <span class="ruby-constant">From</span> <span class="ruby-constant">Haml!</span>
<span class="ruby-operator">%</span>= <span class="ruby-identifier">rdoc</span>(:<span class="ruby-identifier">greetings</span>)
</pre>

<p>Вы не можете вызывать Ruby из <a
href="../../../../../../RDoc.html">RDoc</a>, соответственно, вы не можете
использовать лэйауты на <a href="../../../../../../RDoc.html">RDoc</a>. Тем
не менее, есть возможность использовать один шаблонизатор для отображения
шаблона, а другой для лэйаута с помощью опции <code>:layout_engine</code>.</p>

<h4 id="label-AsciiDoc+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">AsciiDoc шаблоны<span><a href="#label-AsciiDoc+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://asciidoctor.org/" title="Asciidoctor">Asciidoctor</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.asciidoc</tt>, <tt>.adoc</tt> и <tt>.ad</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>asciidoc :README, :layout_engine => :erb</tt></td>
  </tr>
</table>
<p>Так как в AsciiDoc шаблонах невозможно вызывать методы из Ruby напрямую, то
вы почти всегда будете передавать в шаблон локальные переменные.</p>

<h4 id="label-Radius+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Radius шаблоны<span><a href="#label-Radius+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="https://github.com/jlong/radius" title="Radius">Radius</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.radius</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>radius :index, :locals => { :key => 'value' }</tt></td>
  </tr>
</table>
<p>Так как в Radius шаблонах невозможно вызывать методы из Ruby напрямую, то
вы почти всегда будете передавать в шаблон локальные переменные.</p>

<h4 id="label-Markaby+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Markaby шаблоны<span><a href="#label-Markaby+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://markaby.github.io/" title="Markaby">Markaby</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.mab</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>markaby { h1 "Welcome!" }</tt></td>
  </tr>
</table>
<p>Блок также используется и для встроенных шаблонов (см. пример).</p>

<h4 id="label-RABL+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">RABL шаблоны<span><a href="#label-RABL+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="https://github.com/nesquena/rabl" title="Rabl">Rabl</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.rabl</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>rabl :index</tt></td>
  </tr>
</table>
<h4 id="label-Slim+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Slim шаблоны<span><a href="#label-Slim+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="http://slim-lang.com/" title="Slim Lang">Slim Lang</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.slim</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>slim :index</tt></td>
  </tr>
</table>
<h4 id="label-Creole+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Creole шаблоны<span><a href="#label-Creole+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="https://github.com/minad/creole" title="Creole">Creole</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.creole</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>creole :wiki, :layout_engine => :erb</tt></td>
  </tr>
</table>
<p>В Creole невозможно вызывать методы или передавать локальные переменные.
Следовательно, вам, скорее всего, придется использовать этот шаблон
совместно с другим шаблонизатором:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">overview</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">creole</span>(:<span class="ruby-identifier">introduction</span>) }
</pre>

<p>Заметьте, что вы можете вызывать метод <code>creole</code> из других
шаблонов:</p>

<pre class="ruby"><span class="ruby-operator">%</span><span class="ruby-value">1</span> <span class="ruby-constant">Hello</span> <span class="ruby-constant">From</span> <span class="ruby-constant">Haml!</span>
<span class="ruby-operator">%</span>= <span class="ruby-identifier">creole</span>(:<span class="ruby-identifier">greetings</span>)
</pre>

<p>Вы не можете вызывать Ruby из Creole, соответственно, вы не можете
использовать лэйауты на Creole. Тем не менее, есть возможность использовать
один шаблонизатор для отображения шаблона, а другой для лэйаута с помощью
опции <code>:layout_engine</code>.</p>

<h4 id="label-MediaWiki+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">MediaWiki шаблоны<span><a href="#label-MediaWiki+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="https://github.com/nricciar/wikicloth" title="WikiCloth">WikiCloth</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.mediawiki</tt> и <tt>.mw</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>mediawiki :wiki, :layout_engine => :erb</tt></td>
  </tr>
</table>
<p>В разметке MediaWiki невозможно вызывать методы или передавать локальные
переменные. Следовательно, вам, скорее всего, придется использовать этот
шаблон совместно с другим шаблонизатором:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">overview</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">text</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">mediawiki</span>(:<span class="ruby-identifier">introduction</span>) }
</pre>

<p>Заметьте, что вы можете вызывать метод <code>mediawiki</code> из других
шаблонов:</p>

<pre class="ruby"><span class="ruby-operator">%</span><span class="ruby-value">1</span> <span class="ruby-constant">Hello</span> <span class="ruby-constant">From</span> <span class="ruby-constant">Haml!</span>
<span class="ruby-operator">%</span>= <span class="ruby-identifier">mediawiki</span>(:<span class="ruby-identifier">greetings</span>)
</pre>

<p>Вы не можете вызывать Ruby из MediaWiki, соответственно, вы не можете
использовать лэйауты на MediaWiki. Тем не менее, есть возможность
использовать один шаблонизатор для отображения шаблона, а другой для
лэйаута с помощью опции <code>:layout_engine</code>.</p>

<h4 id="label-CoffeeScript+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">CoffeeScript шаблоны<span><a href="#label-CoffeeScript+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td>
      <a href="https://github.com/josh/ruby-coffee-script" title="Ruby CoffeeScript">
        CoffeeScript
      </a> и
      <a href="https://github.com/sstephenson/execjs/blob/master/README.md#readme" title="ExecJS">
        способ запускать JavaScript
      </a>
    </td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.coffee</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>coffee :index</tt></td>
  </tr>
</table>
<h4 id="label-Stylus+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Stylus шаблоны<span><a href="#label-Stylus+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td>
      <a href="https://github.com/forgecrafted/ruby-stylus" title="Ruby Stylus">
        Stylus
      </a> и
      <a href="https://github.com/sstephenson/execjs/blob/master/README.md#readme" title="ExecJS">
        способ запускать JavaScript
      </a>
    </td>
  </tr>
  <tr>
    <td>Расширение файла</td>
    <td><tt>.styl</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>stylus :index</tt></td>
  </tr>
</table>
<p>Перед тем, как использовать шаблоны стилус, загрузите <code>stylus</code> и
<code>stylus/tilt</code>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;stylus&#39;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;stylus/tilt&#39;</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">stylus</span> :<span class="ruby-identifier">example</span>
<span class="ruby-keyword">end</span>
</pre>

<h4 id="label-Yajl+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B"><a href="../../../../../../Yajl.html">Yajl</a> шаблоны<span><a href="#label-Yajl+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="https://github.com/brianmario/yajl-ruby" title="yajl-ruby">yajl-ruby</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.yajl</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td>
      <tt>
        yajl :index,
             :locals => { :key => 'qux' },
             :callback => 'present',
             :variable => 'resource'
      </tt>
    </td>
  </tr>
</table>
<p>Содержимое шаблона интерпретируется как код на Ruby, а результирующая
переменная json затем конвертируется с помощью <code>#to_json</code>.</p>

<pre class="ruby"><span class="ruby-identifier">json</span> = { :<span class="ruby-identifier">foo</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;bar&#39;</span> }
<span class="ruby-identifier">json</span>[:<span class="ruby-identifier">baz</span>] = <span class="ruby-identifier">key</span>
</pre>

<p>Опции <code>:callback</code> и <code>:variable</code> используются для
“декорирования” итогового объекта.</p>

<pre class="ruby"><span class="ruby-identifier">var</span> <span class="ruby-identifier">resource</span> = {<span class="ruby-string">&quot;foo&quot;</span><span class="ruby-operator">:</span><span class="ruby-string">&quot;bar&quot;</span>,<span class="ruby-string">&quot;baz&quot;</span><span class="ruby-operator">:</span><span class="ruby-string">&quot;qux&quot;</span>}; <span class="ruby-identifier">present</span>(<span class="ruby-identifier">resource</span>);
</pre>

<h4 id="label-WLang+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">WLang шаблоны<span><a href="#label-WLang+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h4>
<table>
  <tr>
    <td>Зависимости</td>
    <td><a href="https://github.com/blambeau/wlang/" title="wlang">wlang</a></td>
  </tr>
  <tr>
    <td>Расширения файлов</td>
    <td><tt>.wlang</tt></td>
  </tr>
  <tr>
    <td>Пример</td>
    <td><tt>wlang :index, :locals => { :key => 'value' }</tt></td>
  </tr>
</table>
<p>Так как в WLang шаблонах невозможно вызывать методы из Ruby напрямую (за
исключением <code>yield</code>), то вы почти всегда будете передавать в
шаблон локальные переменные.</p>

<h3 id="label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF+-D0-BA+-D0-BF-D0-B5-D1-80-D0-B5-D0-BC-D0-B5-D0-BD-D0-BD-D1-8B-D0-BC+-D0-B2+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B0-D1-85">Доступ к переменным в шаблонах<span><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF+-D0-BA+-D0-BF-D0-B5-D1-80-D0-B5-D0-BC-D0-B5-D0-BD-D0-BD-D1-8B-D0-BC+-D0-B2+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B0-D1-85">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Шаблоны интерпретируются в том же контексте, что и обработчики маршрутов.
Переменные экземпляра, установленные в процессе обработки маршрутов, будут
доступны напрямую в шаблонах:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:id&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-ivar">@foo</span> = <span class="ruby-constant">Foo</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;id&#39;</span>])
  <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%h1= @foo.name&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Либо установите их через хеш локальных переменных:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:id&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">foo</span> = <span class="ruby-constant">Foo</span>.<span class="ruby-identifier">find</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;id&#39;</span>])
  <span class="ruby-identifier">haml</span> <span class="ruby-string">&#39;%h1= bar.name&#39;</span>, :<span class="ruby-identifier">locals</span> =<span class="ruby-operator">&gt;</span> { :<span class="ruby-identifier">bar</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">foo</span> }
<span class="ruby-keyword">end</span>
</pre>

<p>Это обычный подход, когда шаблоны рендерятся как части других шаблонов.</p>

<h3 id="label-D0-A8-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B+-D1-81+yield+-D0-B8+-D0-B2-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-BD-D1-8B-D0-B5+-D1-80-D0-B0-D1-81-D0-BA-D0-BB-D0-B0-D0-B4-D0-BA-D0-B8+-28layout-29">Шаблоны с <code>yield</code> и вложенные раскладки (layout)<span><a href="#label-D0-A8-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B+-D1-81+yield+-D0-B8+-D0-B2-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-BD-D1-8B-D0-B5+-D1-80-D0-B0-D1-81-D0-BA-D0-BB-D0-B0-D0-B4-D0-BA-D0-B8+-28layout-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Раскладка (layout) обычно представляет собой шаблон, который исполняет
<code>yield</code>. Такой шаблон может быть либо использован с помощью
опции <code>:template</code>, как описано выше, либо он может быть дополнен
блоком:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">post</span>, :<span class="ruby-identifier">layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Эти инструкции в основном эквивалентны <code>erb :index, :layout =&gt;
:post</code>.</p>

<p>Передача блоков интерпретирующим шаблоны методам наиболее полезна для
создания вложенных раскладок:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">main_layout</span>, :<span class="ruby-identifier">layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">admin_layout</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">user</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Это же самое может быть сделано короче:</p>

<pre class="ruby"><span class="ruby-identifier">erb</span> :<span class="ruby-identifier">admin_layout</span>, :<span class="ruby-identifier">layout</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">main_layout</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">user</span>
<span class="ruby-keyword">end</span>
</pre>

<p>В настоящее время, следующие интерпретирующие шаблоны методы принимают
блок: <code>erb</code>, <code>haml</code>, <code>liquid</code>,
<code>slim</code>, <code>wlang</code>. Общий метод заполнения шаблонов
<code>render</code> также принимает блок.</p>

<h3 id="label-D0-92-D0-BA-D0-BB-D1-8E-D1-87-D1-91-D0-BD-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Включённые шаблоны<span><a href="#label-D0-92-D0-BA-D0-BB-D1-8E-D1-87-D1-91-D0-BD-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Шаблоны также могут быть определены в конце исходного файла:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>

__END__

<span class="ruby-identifier">@@</span> <span class="ruby-identifier">layout</span>
<span class="ruby-operator">%</span><span class="ruby-identifier">tml</span>
  = <span class="ruby-keyword">yield</span>

<span class="ruby-identifier">@@</span> <span class="ruby-identifier">index</span>
<span class="ruby-operator">%</span><span class="ruby-identifier">iv</span>.<span class="ruby-identifier">title</span> <span class="ruby-constant">Hello</span> <span class="ruby-identifier">world</span>.
</pre>

<p>Заметьте: включённые шаблоны, определенные в исходном файле, который
подключил <a href="../../../../../../Sinatra.html">Sinatra</a>, будут
загружены автоматически. Вызовите <code>enable :inline_templates</code>
напрямую, если используете включённые шаблоны в других файлах.</p>

<h3 id="label-D0-98-D0-BC-D0-B5-D0-BD-D0-BE-D0-B2-D0-B0-D0-BD-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">Именованные шаблоны<span><a href="#label-D0-98-D0-BC-D0-B5-D0-BD-D0-BE-D0-B2-D0-B0-D0-BD-D0-BD-D1-8B-D0-B5+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Шаблоны также могут быть определены при помощи <code>template</code>
метода:</p>

<pre class="ruby"><span class="ruby-identifier">template</span> :<span class="ruby-identifier">layout</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;%html\n  =yield\n&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">template</span> :<span class="ruby-identifier">index</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;%div.title Hello World!&#39;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Если шаблон с именем “layout” существует, то он будет использоваться каждый
раз при рендеринге. Вы можете отключать лэйаут в каждом конкретном случае с
помощью <code>:layout =&gt; false</code> или отключить его для всего
приложения: <code>set :haml, :layout =&gt; false</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">index</span>, :<span class="ruby-identifier">layout</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-operator">!</span><span class="ruby-identifier">request</span>.<span class="ruby-identifier">xhr?</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-9F-D1-80-D0-B8-D0-B2-D1-8F-D0-B7-D0-BA-D0-B0+-D1-84-D0-B0-D0-B9-D0-BB-D0-BE-D0-B2-D1-8B-D1-85+-D1-80-D0-B0-D1-81-D1-88-D0-B8-D1-80-D0-B5-D0-BD-D0-B8-D0-B9">Привязка файловых расширений<span><a href="#label-D0-9F-D1-80-D0-B8-D0-B2-D1-8F-D0-B7-D0-BA-D0-B0+-D1-84-D0-B0-D0-B9-D0-BB-D0-BE-D0-B2-D1-8B-D1-85+-D1-80-D0-B0-D1-81-D1-88-D0-B8-D1-80-D0-B5-D0-BD-D0-B8-D0-B9">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Чтобы связать расширение файла с движком рендеринга, используйте
<code>Tilt.register</code>. Например, если вы хотите использовать
расширение <code>tt</code> для шаблонов Textile:</p>

<pre class="ruby"><span class="ruby-constant">Tilt</span>.<span class="ruby-identifier">register</span> :<span class="ruby-identifier">tt</span>, <span class="ruby-constant">Tilt</span>[:<span class="ruby-identifier">textile</span>]
</pre>

<h3 id="label-D0-94-D0-BE-D0-B1-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-D1-81-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D0-BE-D0-B3-D0-BE+-D0-B4-D0-B2-D0-B8-D0-B6-D0-BA-D0-B0+-D1-80-D0-B5-D0-BD-D0-B4-D0-B5-D1-80-D0-B8-D0-BD-D0-B3-D0-B0">Добавление собственного движка рендеринга<span><a href="#label-D0-94-D0-BE-D0-B1-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-D1-81-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D0-BE-D0-B3-D0-BE+-D0-B4-D0-B2-D0-B8-D0-B6-D0-BA-D0-B0+-D1-80-D0-B5-D0-BD-D0-B4-D0-B5-D1-80-D0-B8-D0-BD-D0-B3-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Сначала зарегистрируйте свой движок в <a
href="../../../../../../Tilt.html">Tilt</a>, а затем создайте метод,
отвечающий за рендеринг:</p>

<pre class="ruby"><span class="ruby-constant">Tilt</span>.<span class="ruby-identifier">register</span> :<span class="ruby-identifier">myat</span>, <span class="ruby-constant">MyAwesomeTemplateEngine</span>

<span class="ruby-identifier">helpers</span> <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">myat</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-identifier">render</span>(:<span class="ruby-identifier">myat</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>) <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">myat</span> :<span class="ruby-identifier">index</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Отобразит <code>./views/index.myat</code>. Чтобы узнать больше о <a
href="../../../../../../Tilt.html">Tilt</a>, смотрите <a
href="https://github.com/rtomayko/tilt">github.com/rtomayko/tilt</a></p>

<h3 id="label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D1-82-D0-B5-D0-BB-D1-8C-D1-81-D0-BA-D0-BE-D0-B9+-D0-BB-D0-BE-D0-B3-D0-B8-D0-BA-D0-B8+-D0-B4-D0-BB-D1-8F+-D0-BF-D0-BE-D0-B8-D1-81-D0-BA-D0-B0+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B0">Использование пользовательской логики для поиска шаблона<span><a href="#label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D1-82-D0-B5-D0-BB-D1-8C-D1-81-D0-BA-D0-BE-D0-B9+-D0-BB-D0-BE-D0-B3-D0-B8-D0-BA-D0-B8+-D0-B4-D0-BB-D1-8F+-D0-BF-D0-BE-D0-B8-D1-81-D0-BA-D0-B0+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Для того, чтобы реализовать свой собственный механизм поиска шаблона,
необходимо написать свой собственный <code>#find_template</code> метод:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">views</span> [ <span class="ruby-string">&#39;./views/a&#39;</span>, <span class="ruby-string">&#39;./views/b&#39;</span> ]
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">def</span> <span class="ruby-identifier">find_template</span>(<span class="ruby-identifier">views</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">engine</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-constant">Array</span>(<span class="ruby-identifier">views</span>).<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">super</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">engine</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="label-D0-A4-D0-B8-D0-BB-D1-8C-D1-82-D1-80-D1-8B">Фильтры<span><a href="#label-D0-A4-D0-B8-D0-BB-D1-8C-D1-82-D1-80-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><code>before</code>-фильтры выполняются перед каждым запросом в том же
контексте, что и маршруты, и могут изменять как запрос, так и ответ на
него. Переменные экземпляра, установленные в фильтрах, доступны в маршрутах
и шаблонах:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> <span class="ruby-keyword">do</span>
  <span class="ruby-ivar">@note</span> = <span class="ruby-string">&#39;Hi!&#39;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_info</span> = <span class="ruby-string">&#39;/foo/bar/baz&#39;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo/*&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-ivar">@note</span> <span class="ruby-comment">#=&gt; &#39;Hi!&#39;</span>
  <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;splat&#39;</span>] <span class="ruby-comment">#=&gt; &#39;bar/baz&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p><code>after</code>-фильтры выполняются после каждого запроса в том же
контексте и могут изменять как запрос, так и ответ на него. Переменные
экземпляра, установленные в <code>before</code>-фильтрах и маршрутах, будут
доступны в <code>after</code>-фильтрах:</p>

<pre class="ruby"><span class="ruby-identifier">after</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">response</span>.<span class="ruby-identifier">status</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Заметьте: если вы используете метод <code>body</code>, а не просто
возвращаете строку из маршрута, то тело ответа не будет доступно в
<code>after</code>-фильтрах, так как оно будет сгенерировано позднее.</p>

<p>Фильтры могут использовать шаблоны URL и будут интерпретированы, только
если путь запроса совпадет с этим шаблоном:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> <span class="ruby-string">&#39;/protected/*&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">authenticate!</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">after</span> <span class="ruby-string">&#39;/create/:slug&#39;</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">slug</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">session</span>[:<span class="ruby-identifier">last_slug</span>] = <span class="ruby-identifier">slug</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Как и маршруты, фильтры могут использовать условия:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> :<span class="ruby-identifier">agent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-regexp">/Songbird/</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">after</span> <span class="ruby-string">&#39;/blog/*&#39;</span>, :<span class="ruby-identifier">host_name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;example.com&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="label-D0-9C-D0-B5-D1-82-D0-BE-D0-B4-D1-8B--D0-BF-D0-BE-D0-BC-D0-BE-D1-89-D0-BD-D0-B8-D0-BA-D0-B8">Методы-помощники<span><a href="#label-D0-9C-D0-B5-D1-82-D0-BE-D0-B4-D1-8B--D0-BF-D0-BE-D0-BC-D0-BE-D1-89-D0-BD-D0-B8-D0-BA-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Используйте высокоуровневый метод <code>helpers</code>, чтобы определить
методы-помощники для использования в обработчиках маршрутов и шаблонах:</p>

<pre class="ruby"><span class="ruby-identifier">helpers</span> <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">bar</span>(<span class="ruby-identifier">name</span>)
    <span class="ruby-node">&quot;#{name}bar&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:name&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">bar</span>(<span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;name&#39;</span>])
<span class="ruby-keyword">end</span>
</pre>

<p>Также методы-помощники могут быть заданы в отдельных модулях:</p>

<pre class="ruby"><span class="ruby-keyword">module</span> <span class="ruby-constant">FooUtils</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">foo</span>(<span class="ruby-identifier">name</span>) <span class="ruby-node">&quot;#{name}foo&quot;</span> <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">module</span> <span class="ruby-constant">BarUtils</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">bar</span>(<span class="ruby-identifier">name</span>) <span class="ruby-node">&quot;#{name}bar&quot;</span> <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">helpers</span> <span class="ruby-constant">FooUtils</span>, <span class="ruby-constant">BarUtils</span>
</pre>

<p>Эффект равносилен включению модулей в класс приложения.</p>

<h3 id="label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B9">Использование сессий<span><a href="#label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B9">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Сессия используется, чтобы сохранять состояние между запросами. Если эта
опция включена, то у вас будет один хеш сессии на одну пользовательскую
сессию:</p>

<pre class="ruby"><span class="ruby-identifier">enable</span> :<span class="ruby-identifier">sessions</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;value = &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">session</span>[:<span class="ruby-identifier">value</span>].<span class="ruby-identifier">inspect</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/:value&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">session</span>[<span class="ruby-string">&#39;value&#39;</span>] = <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;value&#39;</span>]
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-A1-D0-B5-D0-BA-D1-80-D0-B5-D1-82-D0-BD-D0-B0-D1-8F+-D0-B1-D0-B5-D0-B7-D0-BE-D0-BF-D0-B0-D1-81-D0-BD-D0-BE-D1-81-D1-82-D1-8C+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">Секретная безопасность сессии<span><a href="#label-D0-A1-D0-B5-D0-BA-D1-80-D0-B5-D1-82-D0-BD-D0-B0-D1-8F+-D0-B1-D0-B5-D0-B7-D0-BE-D0-BF-D0-B0-D1-81-D0-BD-D0-BE-D1-81-D1-82-D1-8C+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Чтобы повысить безопасность, данные сессии в файле &#39;cookie&#39;
подписываются ключом сессии с использованием <code>HMAC-SHA1</code>. Этот
ключ сессии должен быть оптимальным криптографическим &#39;secure
random&#39; значением соответствующей длины, которая для
<code>HMAC-SHA1</code> больше или равна 64 байтам (512 бит, 128
шестнадцатеричных символов). Не рекомендуется использовать ключ, длина
которого менее 32 байт (256 бит, 64 шестнадцатеричных символа). Поэтому 
<em>очень важно</em>*, чтобы вы не просто составили значение ключа, а
использовали генератор &#39;secure random&#39; чисел для его создания. Люди
очень плохо генерируют случайные значения.</p>

<p>По умолчанию, <a href="../../../../../../Sinatra.html">Sinatra</a> создаёт
для вас &#39;secure random&#39; ключ сессии из 32 байт, но он будет
меняться при каждом перезапуске приложения. Если у вас есть несколько
экземпляров вашего приложения, и вы позволяете чтобы <a
href="../../../../../../Sinatra.html">Sinatra</a> генерировала ключ, то
каждый экземпляр будет иметь отличный ключ сессии, который, вероятно, не
тот, который вы хотите.</p>

<p>Для лучшей безопасности и удобства использования <a
href="https://12factor.net/config">рекомендуется</a> генерировать
&#39;secure random&#39; ключ и хранить его в переменной среды на каждом
хосте, на котором запущено приложение, чтобы все экземпляры вашего
приложения использовали один и тот же ключ. Вы должны периодически менять
значение ключа сессии. Вот несколько примеров того, как вы можете создать
ключ на 64 байта и установить его:</p>

<p><em>Генерация ключа сессии</em>*</p>

<pre>$ ruby -e &quot;require &#39;securerandom&#39;; puts SecureRandom.hex(64)&quot;
99ae8af...snip...ec0f262ac</pre>

<p><em>Генерация ключа сессии (бонусные пункты)</em>*</p>

<p>Используйте <a href="https://github.com/cryptosphere/sysrandom">гем
‘sysrandom’</a> Предпочтительнее использовать системные средства RNG для
генерации случайных значений вместо пространства пользователя
<code>OpenSSL</code>, для которого в данный момент по умолчанию
используется MRI Ruby:</p>

<pre>$ gem install sysrandom
Создание собственных расширений. Это может занять некоторое время... 
Успешно установлен sysrandom-1.x
1 gem установлен

$ ruby -e &quot;require &#39;sysrandom/securerandom&#39;; puts SecureRandom.hex(64)&quot;
99ae8af...snip...ec0f262ac</pre>

<p><em>Переменная среды <code>SESSION_SECRET</em></code>*</p>

<p>Задайте переменной среды для <a
href="../../../../../../Sinatra.html">Sinatra</a>
<code>SESSION_SECRET</code> значение, которое вы сгенерировали. Сделайте
это значение постоянным при перезагрузке вашего хоста. Поскольку метод для
генерации будет различным в разных системах, то код ниже приведён только в
качестве примера:</p>

<pre class="ruby"><span class="ruby-comment"># echo &quot;export SESSION_SECRET=99ae8af...snip...ec0f262ac&quot; &gt;&gt; ~/.bashrc</span>
</pre>

<p><em>Конфигурация приложения</em>*</p>

<p>Настройте конфигурацию вашего приложения в безопасном режиме для
&#39;secure random&#39; ключа если переменная среды
<code>SESSION_SECRET</code> не доступна.</p>

<p>В качестве бонусных пунктов здесь тоже используйте <a
href="https://github.com/cryptosphere/sysrandom">гем ‘sysrandom’gem</a> :</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;securerandom&#39;</span>
<span class="ruby-comment"># -или- require &#39;sysrandom/securerandom&#39;</span>
<span class="ruby-identifier">set</span> :<span class="ruby-identifier">session_secret</span>, <span class="ruby-constant">ENV</span>.<span class="ruby-identifier">fetch</span>(<span class="ruby-string">&#39;SESSION_SECRET&#39;</span>) { <span class="ruby-constant">SecureRandom</span>.<span class="ruby-identifier">hex</span>(<span class="ruby-value">64</span>) }
</pre>

<h4 id="label-D0-9A-D0-BE-D0-BD-D1-84-D0-B8-D0-B3-D1-83-D1-80-D0-B0-D1-86-D0-B8-D1-8F+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">Конфигурация сессии<span><a href="#label-D0-9A-D0-BE-D0-BD-D1-84-D0-B8-D0-B3-D1-83-D1-80-D0-B0-D1-86-D0-B8-D1-8F+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Если вы хотите больше настроек для сессий, вы можете задать их, передав хеш
опций в параметр <code>sessions</code>:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">sessions</span>, :<span class="ruby-identifier">domain</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;foo.com&#39;</span>
</pre>

<p>Чтобы сделать сессию доступной другим приложениям, размещенным на
поддоменах foo.com, добавьте <em>.</em> перед доменом:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">sessions</span>, :<span class="ruby-identifier">domain</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;.foo.com&#39;</span>
</pre>

<h4 id="label-D0-92-D1-8B-D0-B1-D0-BE-D1-80+-D0-B2-D0-B0-D1-88-D0-B5-D0-B9+-D1-81-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D0-BE-D0-B9+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">Выбор вашей собственной “прослойки” сессии<span><a href="#label-D0-92-D1-8B-D0-B1-D0-BE-D1-80+-D0-B2-D0-B0-D1-88-D0-B5-D0-B9+-D1-81-D0-BE-D0-B1-D1-81-D1-82-D0-B2-D0-B5-D0-BD-D0-BD-D0-BE-D0-B9+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22+-D1-81-D0-B5-D1-81-D1-81-D0-B8-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h4>

<p>Заметьте, что при использовании <code>enable :sessions</code> все данные
сохраняются в куках (cookies). Это может быть не совсем то, что вы хотите
(например, сохранение больших объемов данных увеличит ваш трафик). В таком
случае вы можете использовать альтернативную <a
href="../../../../../../Rack.html">Rack</a> “прослойку” (middleware),
реализующую механизм сессий. Для этого используете один из способов ниже:</p>

<pre class="ruby"><span class="ruby-identifier">enable</span> :<span class="ruby-identifier">sessions</span>
<span class="ruby-identifier">set</span> :<span class="ruby-identifier">session_store</span>, <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span><span class="ruby-operator">::</span><span class="ruby-constant">Pool</span>
</pre>

<p>Или установите параметры сессии с помощью хеша опций:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">sessions</span>, :<span class="ruby-identifier">expire_after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2592000</span>
<span class="ruby-identifier">set</span> :<span class="ruby-identifier">session_store</span>, <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span><span class="ruby-operator">::</span><span class="ruby-constant">Pool</span>
</pre>

<p>Вы так же можете не вызывать <code>enable :sessions</code>, а вместо этого
вызывать необходимую вам прослойку так же, как вы это обычно делаете.</p>

<p>Очень важно обратить внимание на то, что когда вы используете этот метод,
основной способ защиты сессии <strong>не будет включен по
умолчанию</strong>.</p>

<p>Если вы хотите включить защиту, вам нужно добавить следующие строчки:</p>

<pre class="ruby"><span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Session</span><span class="ruby-operator">::</span><span class="ruby-constant">Pool</span>, :<span class="ruby-identifier">expire_after</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2592000</span>
<span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Protection</span><span class="ruby-operator">::</span><span class="ruby-constant">RemoteToken</span>
<span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Protection</span><span class="ruby-operator">::</span><span class="ruby-constant">SessionHijacking</span>
</pre>

<p>Смотрите секцию “Настройка защиты от атак” для более подробной информации.</p>

<h3 id="label-D0-9F-D1-80-D0-B5-D1-80-D1-8B-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">Прерывание<span><a href="#label-D0-9F-D1-80-D0-B5-D1-80-D1-8B-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Чтобы незамедлительно прервать обработку запроса внутри фильтра или
маршрута, используйте:</p>

<pre class="ruby"><span class="ruby-identifier">halt</span>
</pre>

<p>Можно также указать статус при прерывании:</p>

<pre class="ruby"><span class="ruby-identifier">halt</span> <span class="ruby-value">410</span>
</pre>

<p>Тело:</p>

<pre class="ruby"><span class="ruby-identifier">halt</span> <span class="ruby-string">&#39;this will be the body&#39;</span>
</pre>

<p>И то, и другое:</p>

<pre class="ruby"><span class="ruby-identifier">halt</span> <span class="ruby-value">401</span>, <span class="ruby-string">&#39;go away!&#39;</span>
</pre>

<p>Можно указать заголовки:</p>

<pre class="ruby"><span class="ruby-identifier">halt</span> <span class="ruby-value">402</span>, {<span class="ruby-string">&#39;Content-Type&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;text/plain&#39;</span>}, <span class="ruby-string">&#39;revenge&#39;</span>
</pre>

<p>И, конечно, можно использовать шаблоны с <code>halt</code>:</p>

<pre class="ruby"><span class="ruby-identifier">halt</span> <span class="ruby-identifier">erb</span>(:<span class="ruby-identifier">error</span>)
</pre>

<h3 id="label-D0-9F-D0-B5-D1-80-D0-B5-D0-B4-D0-B0-D1-87-D0-B0">Передача<span><a href="#label-D0-9F-D0-B5-D1-80-D0-B5-D0-B4-D0-B0-D1-87-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Маршрут может передать обработку запроса следующему совпадающему маршруту,
используя <code>pass</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/guess/:who&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">pass</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;who&#39;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;Frank&#39;</span>
  <span class="ruby-string">&#39;You got me!&#39;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/guess/*&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;You missed!&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Блок маршрута сразу же прерывается, и контроль переходит к следующему
совпадающему маршруту. Если соответствующий маршрут не найден, то ответом
на запрос будет 404.</p>

<h3 id="label-D0-92-D1-8B-D0-B7-D0-BE-D0-B2+-D0-B4-D1-80-D1-83-D0-B3-D0-BE-D0-B3-D0-BE+-D0-BC-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D0-B0">Вызов другого маршрута<span><a href="#label-D0-92-D1-8B-D0-B7-D0-BE-D0-B2+-D0-B4-D1-80-D1-83-D0-B3-D0-BE-D0-B3-D0-BE+-D0-BC-D0-B0-D1-80-D1-88-D1-80-D1-83-D1-82-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Иногда <code>pass</code> не подходит, например, если вы хотите получить
результат вызова другого обработчика маршрута. В таком случае просто
используйте <code>call</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">status</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-identifier">body</span> = <span class="ruby-identifier">call</span> <span class="ruby-identifier">env</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-string">&quot;PATH_INFO&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;/bar&#39;</span>)
  [<span class="ruby-identifier">status</span>, <span class="ruby-identifier">headers</span>, <span class="ruby-identifier">body</span>.<span class="ruby-identifier">map</span>(<span class="ruby-operator">&amp;</span>:<span class="ruby-identifier">upcase</span>)]
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/bar&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;bar&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Заметьте, что в предыдущем примере можно облегчить тестирование и повысить
производительность, перенеся <code>&quot;bar&quot;</code> в метод-помощник,
используемый и в <code>/foo</code>, и в <code>/bar</code>.</p>

<p>Если вы хотите, чтобы запрос был отправлен в тот же экземпляр приложения, а
не в его копию, используйте <code>call!</code> вместо <code>call</code>.</p>

<p>Если хотите узнать больше о <code>call</code>, смотрите спецификацию <a
href="../../../../../../Rack.html">Rack</a>.</p>

<h3 id="label-D0-97-D0-B0-D0-B4-D0-B0-D0-BD-D0-B8-D0-B5+-D1-82-D0-B5-D0-BB-D0-B0-2C+-D0-BA-D0-BE-D0-B4-D0-B0+-D0-B8+-D0-B7-D0-B0-D0-B3-D0-BE-D0-BB-D0-BE-D0-B2-D0-BA-D0-BE-D0-B2+-D0-BE-D1-82-D0-B2-D0-B5-D1-82-D0-B0">Задание тела, кода и заголовков ответа<span><a href="#label-D0-97-D0-B0-D0-B4-D0-B0-D0-BD-D0-B8-D0-B5+-D1-82-D0-B5-D0-BB-D0-B0-2C+-D0-BA-D0-BE-D0-B4-D0-B0+-D0-B8+-D0-B7-D0-B0-D0-B3-D0-BE-D0-BB-D0-BE-D0-B2-D0-BA-D0-BE-D0-B2+-D0-BE-D1-82-D0-B2-D0-B5-D1-82-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Хорошим тоном является установка кода состояния HTTP и тела ответа в
возвращаемом значении обработчика маршрута. Тем не менее, в некоторых
ситуациях вам, возможно, понадобится задать тело ответа в произвольной
точке потока исполнения. Вы можете сделать это с помощью метода-помощника
<code>body</code>. Если вы задействуете метод <code>body</code>, то вы
можете использовать его и в дальнейшем, чтобы получить доступ к телу
ответа.</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">body</span> <span class="ruby-string">&quot;bar&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">after</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-identifier">body</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Также можно передать блок в метод <code>body</code>, который затем будет
вызван обработчиком <a href="../../../../../../Rack.html">Rack</a> (такой
подход может быть использован для реализации поточного ответа, см.
“Возвращаемые значения”).</p>

<p>Аналогично вы можете установить код ответа и его заголовки:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">status</span> <span class="ruby-value">418</span>
  <span class="ruby-identifier">headers</span>      <span class="ruby-string">&quot;Allow&quot;</span>   =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;BREW, POST, GET, PROPFIND, WHEN&quot;</span>,
    <span class="ruby-string">&quot;Refresh&quot;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&quot;Refresh: 20; http://www.ietf.org/rfc/rfc2324.txt&quot;</span>
  <span class="ruby-identifier">body</span> <span class="ruby-string">&quot;I&#39;m a tea pot!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Как и <code>body</code>, методы <code>headers</code> и <code>status</code>,
вызванные без аргументов, возвращают свои текущие значения.</p>

<h3 id="label-D0-A1-D1-82-D1-80-D0-B8-D0-BC-D0-B8-D0-BD-D0-B3+-D0-BE-D1-82-D0-B2-D0-B5-D1-82-D0-BE-D0-B2">Стриминг ответов<span><a href="#label-D0-A1-D1-82-D1-80-D0-B8-D0-BC-D0-B8-D0-BD-D0-B3+-D0-BE-D1-82-D0-B2-D0-B5-D1-82-D0-BE-D0-B2">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Иногда требуется начать отправлять данные клиенту прямо в процессе
генерирования частей этих данных. В особых случаях требуется постоянно
отправлять данные до тех пор, пока клиент не закроет соединение. Вы можете
использовать метод <code>stream</code> вместо написания собственных
“оберток”.</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">stream</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">out</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;It&#39;s gonna be legen -\n&quot;</span>
    <span class="ruby-identifier">sleep</span> <span class="ruby-value">0.5</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot; (wait for it) \n&quot;</span>
    <span class="ruby-identifier">sleep</span> <span class="ruby-value">1</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;- dary!\n&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Что позволяет вам реализовать стриминговые API, <a
href="https://w3c.github.io/eventsource/">Server Sent Events</a>, и может
служить основой для <a
href="https://en.wikipedia.org/wiki/WebSocket">WebSockets</a>. Также такой
подход можно использовать для увеличения производительности в случае, когда
какая-то часть контента зависит от медленного ресурса.</p>

<p>Заметьте, что возможности стриминга, особенно количество одновременно
обслуживаемых запросов, очень сильно зависят от используемого веб-сервера.
Некоторые серверы могут и вовсе не поддерживать стриминг. Если сервер не
поддерживает стриминг, то все данные будут отправлены за один раз сразу
после того, как блок, переданный в <code>stream</code>, завершится.
Стриминг вообще не работает при использовании Shotgun.</p>

<p>Если метод используется с параметром <code>keep_open</code>, то он не будет
вызывать <code>close</code> у объекта потока, что позволит вам закрыть его
позже в любом другом месте. Это работает только с событийными серверами,
например, с <a href="../../../../../../Thin.html">Thin</a> и Rainbows.
Другие же серверы все равно будут закрывать поток:</p>

<pre class="ruby"><span class="ruby-comment"># long polling</span>

<span class="ruby-identifier">set</span> :<span class="ruby-identifier">server</span>, :<span class="ruby-identifier">thin</span>
<span class="ruby-identifier">connections</span> = []

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/subscribe&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># регистрация клиента в событиях сервера</span>
  <span class="ruby-identifier">stream</span>(:<span class="ruby-identifier">keep_open</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">out</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">connections</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">out</span>
    <span class="ruby-comment"># удаление &quot;мертвых клиентов&quot;</span>
    <span class="ruby-identifier">connections</span>.<span class="ruby-identifier">reject!</span>(<span class="ruby-operator">&amp;</span>:<span class="ruby-identifier">closed?</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">post</span> <span class="ruby-string">&#39;/:message&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">connections</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">out</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># уведомить клиента о новом сообщении</span>
    <span class="ruby-identifier">out</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;message&#39;</span>] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-string">&quot;\n&quot;</span>

    <span class="ruby-comment"># указать клиенту на необходимость снова соединиться</span>
    <span class="ruby-identifier">out</span>.<span class="ruby-identifier">close</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-comment"># допуск</span>
  <span class="ruby-string">&quot;message received&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Также клиент может закрыть соединение при попытке записи в сокет. В связи с
этим рекомендуется проверить <code>out.closed?</code> прежде, чем пытаться
записать.</p>

<h3 id="label-D0-9B-D0-BE-D0-B3-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">Логирование<span><a href="#label-D0-9B-D0-BE-D0-B3-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>В области видимости запроса метод <code>logger</code> предоставляет доступ
к экземпляру <code>Logger</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">logger</span>.<span class="ruby-identifier">info</span> <span class="ruby-string">&quot;loading data&quot;</span>
  <span class="ruby-comment"># ...</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Этот логер автоматически учитывает ваши настройки логирования в <a
href="../../../../../../Rack.html">Rack</a>. Если логирование выключено, то
этот метод вернет пустой (dummy) объект, поэтому вы можете смело
использовать его в маршрутах и фильтрах.</p>

<p>Заметьте, что логирование включено по умолчанию только для
<code>Sinatra::Application</code>, а если ваше приложение — подкласс
<code>Sinatra::Base</code>, то вы, наверное, захотите включить его вручную:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">configure</span> :<span class="ruby-identifier">production</span>, :<span class="ruby-identifier">development</span> <span class="ruby-keyword">do</span>
    <span class="ruby-identifier">enable</span> :<span class="ruby-identifier">logging</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Чтобы избежать использования любой логирующей “прослойки”, задайте опции
<code>logging</code> значение <code>nil</code>. Тем не менее, не забывайте,
что в такой ситуации <code>logger</code> вернет <code>nil</code>. Чаще
всего так делают, когда задают свой собственный логер. <a
href="../../../../../../Sinatra.html">Sinatra</a> будет использовать то,
что находится в <code>env['rack.logger']</code>.</p>

<h3 id="label-Mime--D1-82-D0-B8-D0-BF-D1-8B">Mime-типы<span><a href="#label-Mime--D1-82-D0-B8-D0-BF-D1-8B">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Когда вы используете <code>send_file</code> или статические файлы, у вас
могут быть mime-типы, которые <a
href="../../../../../../Sinatra.html">Sinatra</a> не понимает по умолчанию.
Используйте <code>mime_type</code> для их регистрации по расширению файла:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">mime_type</span> :<span class="ruby-identifier">foo</span>, <span class="ruby-string">&#39;text/foo&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Вы также можете использовать это в <code>content_type</code>
методе-помощнике:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">content_type</span> :<span class="ruby-identifier">foo</span>
  <span class="ruby-string">&quot;foo foo foo&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-93-D0-B5-D0-BD-D0-B5-D1-80-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+URL">Генерирование URL<span><a href="#label-D0-93-D0-B5-D0-BD-D0-B5-D1-80-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+URL">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Чтобы сформировать URL, вам следует использовать метод <code>url</code>,
например, в Haml:</p>

<pre class="ruby"><span class="ruby-operator">%</span>{:<span class="ruby-identifier">href</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">url</span>(<span class="ruby-string">&#39;/foo&#39;</span>)} <span class="ruby-identifier">foo</span>
</pre>

<p>Этот метод учитывает обратные прокси и маршрутизаторы <a
href="../../../../../../Rack.html">Rack</a>, если они присутствуют.</p>

<p>Наряду с <code>url</code> вы можете использовать <code>to</code> (смотрите
пример ниже).</p>

<h3 id="label-D0-9F-D0-B5-D1-80-D0-B5-D0-BD-D0-B0-D0-BF-D1-80-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-28-D1-80-D0-B5-D0-B4-D0-B8-D1-80-D0-B5-D0-BA-D1-82-29">Перенаправление (редирект)<span><a href="#label-D0-9F-D0-B5-D1-80-D0-B5-D0-BD-D0-B0-D0-BF-D1-80-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-28-D1-80-D0-B5-D0-B4-D0-B8-D1-80-D0-B5-D0-BA-D1-82-29">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Вы можете перенаправить браузер пользователя с помощью метода
<code>redirect</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">redirect</span> <span class="ruby-identifier">to</span>(<span class="ruby-string">&#39;/bar&#39;</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>Любые дополнительные параметры используются по аналогии с аргументами
метода <code>halt</code>:</p>

<pre class="ruby"><span class="ruby-identifier">redirect</span> <span class="ruby-identifier">to</span>(<span class="ruby-string">&#39;/bar&#39;</span>), <span class="ruby-value">303</span>
<span class="ruby-identifier">redirect</span> <span class="ruby-string">&#39;http://www.google.com/&#39;</span>, <span class="ruby-string">&#39;wrong place, buddy&#39;</span>
</pre>

<p>Вы также можете перенаправить пользователя обратно на страницу, с которой
он пришел, с помощью <code>redirect back</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;&lt;a href=&#39;/bar&#39;&gt;do something&lt;/a&gt;&quot;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/bar&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">do_something</span>
  <span class="ruby-identifier">redirect</span> <span class="ruby-identifier">back</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Чтобы передать какие-либо параметры вместе с перенаправлением, либо
добавьте их в строку запроса:</p>

<pre class="ruby"><span class="ruby-identifier">redirect</span> <span class="ruby-identifier">to</span>(<span class="ruby-string">&#39;/bar?sum=42&#39;</span>)
</pre>

<p>либо используйте сессию:</p>

<pre class="ruby"><span class="ruby-identifier">enable</span> :<span class="ruby-identifier">sessions</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">session</span>[:<span class="ruby-identifier">secret</span>] = <span class="ruby-string">&#39;foo&#39;</span>
  <span class="ruby-identifier">redirect</span> <span class="ruby-identifier">to</span>(<span class="ruby-string">&#39;/bar&#39;</span>)
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/bar&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">session</span>[:<span class="ruby-identifier">secret</span>]
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-A3-D0-BF-D1-80-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-D0-BA-D1-8D-D1-88-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5-D0-BC">Управление кэшированием<span><a href="#label-D0-A3-D0-BF-D1-80-D0-B0-D0-B2-D0-BB-D0-B5-D0-BD-D0-B8-D0-B5+-D0-BA-D1-8D-D1-88-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5-D0-BC">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Установка корректных заголовков — основа правильного HTTP кэширования.</p>

<p>Вы можете легко выставить заголовок Cache-Control таким образом:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">cache_control</span> :<span class="ruby-identifier">public</span>
  <span class="ruby-string">&quot;cache it!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Совет: задавайте кэширование в <code>before</code>-фильтре:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">cache_control</span> :<span class="ruby-identifier">public</span>, :<span class="ruby-identifier">must_revalidate</span>, :<span class="ruby-identifier">max_age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">60</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Если вы используете метод <code>expires</code> для задания соответствующего
заголовка, то <code>Cache-Control</code> будет выставлен автоматически:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">expires</span> <span class="ruby-value">500</span>, :<span class="ruby-identifier">public</span>, :<span class="ruby-identifier">must_revalidate</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Чтобы как следует использовать кэширование, вам следует подумать об
использовании <code>etag</code> или <code>last_modified</code>.
Рекомендуется использовать эти методы-помощники <em>до</em> выполнения
ресурсоемких вычислений, так как они немедленно отправят ответ клиенту,
если текущая версия уже есть в их кэше:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/article/:id&quot;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-ivar">@article</span> = <span class="ruby-constant">Article</span>.<span class="ruby-identifier">find</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;id&#39;</span>]
  <span class="ruby-identifier">last_modified</span> <span class="ruby-ivar">@article</span>.<span class="ruby-identifier">updated_at</span>
  <span class="ruby-identifier">etag</span> <span class="ruby-ivar">@article</span>.<span class="ruby-identifier">sha1</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">article</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Также вы можете использовать <a
href="https://en.wikipedia.org/wiki/HTTP_ETag#Strong_and_weak_validation">weak
ETag</a>:</p>

<pre class="ruby"><span class="ruby-identifier">etag</span> <span class="ruby-ivar">@article</span>.<span class="ruby-identifier">sha1</span>, :<span class="ruby-identifier">weak</span>
</pre>

<p>Эти методы-помощники не станут ничего кэшировать для вас, но они дадут
необходимую информацию для вашего кэша. Если вы ищете легкое решение для
кэширования, попробуйте <a
href="https://github.com/rtomayko/rack-cache">rack-cache</a>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&quot;rack/cache&quot;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&quot;sinatra&quot;</span>

<span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Cache</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">cache_control</span> :<span class="ruby-identifier">public</span>, :<span class="ruby-identifier">max_age</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">36000</span>
  <span class="ruby-identifier">sleep</span> <span class="ruby-value">5</span>
  <span class="ruby-string">&quot;hello&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Используйте опцию <code>:static_cache_control</code> (см. ниже), чтобы
добавить заголовок <code>Cache-Control</code> к статическим файлам.</p>

<p>В соответствии с RFC 2616 ваше приложение должно вести себя по-разному,
когда заголовки If-Match или If-None-Match имеют значение <code>*</code>, в
зависимости от того, существует или нет запрашиваемый ресурс. <a
href="../../../../../../Sinatra.html">Sinatra</a> предполагает, что
ресурсы, к которым обращаются с помощью безопасных (GET) и идемпотентных
(PUT) методов, уже существуют, а остальные ресурсы (к которым обращаются,
например, с помощью POST) считает новыми. Вы можете изменить данное
поведение с помощью опции <code>:new_resource</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/create&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">etag</span> <span class="ruby-string">&#39;&#39;</span>, :<span class="ruby-identifier">new_resource</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
  <span class="ruby-constant">Article</span>.<span class="ruby-identifier">create</span>
  <span class="ruby-identifier">erb</span> :<span class="ruby-identifier">new_article</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Если вы хотите использовать weak ETag, задайте опцию <code>:kind</code>:</p>

<pre class="ruby"><span class="ruby-identifier">etag</span> <span class="ruby-string">&#39;&#39;</span>, :<span class="ruby-identifier">new_resource</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>, :<span class="ruby-identifier">kind</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">weak</span>
</pre>

<h3 id="label-D0-9E-D1-82-D0-BF-D1-80-D0-B0-D0-B2-D0-BA-D0-B0+-D1-84-D0-B0-D0-B9-D0-BB-D0-BE-D0-B2">Отправка файлов<span><a href="#label-D0-9E-D1-82-D0-BF-D1-80-D0-B0-D0-B2-D0-BA-D0-B0+-D1-84-D0-B0-D0-B9-D0-BB-D0-BE-D0-B2">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Для отправки файлов пользователю вы можете использовать метод
<code>send_file</code>:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">send_file</span> <span class="ruby-string">&#39;foo.png&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Этот метод имеет несколько опций:</p>

<pre class="ruby"><span class="ruby-identifier">send_file</span> <span class="ruby-string">&#39;foo.png&#39;</span>, :<span class="ruby-identifier">type</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">jpg</span>
</pre>

<p>Возможные опции:</p>
<dl>
  <dt>filename</dt>
    <dd>имя файла, по умолчанию: реальное имя файла.</dd>

  <dt>last_modified</dt>
    <dd>значение для заголовка Last-Modified, по умолчанию: mtime (время
        изменения) файла.</dd>

  <dt>type</dt>
    <dd>тип файла, по умолчанию: определяется по расширению файла.</dd>

  <dt>disposition</dt>
    <dd>
    используется для заголовка Content-Disposition, возможные значения: <tt>nil</tt>
      (по умолчанию), <tt>:attachment</tt> и <tt>:inline</tt>
    </dd>

  <dt>length</dt>
    <dd>значения для заголовка Content-Length, по умолчанию: размер файла.</dd>

  <dt>status</dt>
    <dd>
    Код ответа. Полезно, когда отсылается статический файл в качестве страницы с
      сообщением об ошибке. Если поддерживается обработчик Rack, будут использоваться 
    другие средства, кроме потоковой передачи из процесса Ruby. Если вы используете 
    этот вспомогательный метод, Sinatra автоматически обрабатывает запросы диапазона.
    </dd>
</dl>
<h3 id="label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF+-D0-BA+-D0-BE-D0-B1-D1-8A-D0-B5-D0-BA-D1-82-D1-83+-D0-B7-D0-B0-D0-BF-D1-80-D0-BE-D1-81-D0-B0">Доступ к объекту запроса<span><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF+-D0-BA+-D0-BE-D0-B1-D1-8A-D0-B5-D0-BA-D1-82-D1-83+-D0-B7-D0-B0-D0-BF-D1-80-D0-BE-D1-81-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Объект входящего запроса доступен на уровне обработки запроса (в фильтрах,
маршрутах, обработчиках ошибок) с помощью <code>request</code> метода:</p>

<pre class="ruby"><span class="ruby-comment"># приложение запущено на http://example.com/example</span>
<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">t</span> = <span class="ruby-node">%w[text/css text/html application/javascript]</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">accept</span>              <span class="ruby-comment"># [&#39;text/html&#39;, &#39;  *&#39;]</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">accept?</span> <span class="ruby-string">&#39;text/xml&#39;</span>  <span class="ruby-comment"># true</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">preferred_type</span>(<span class="ruby-identifier">t</span>)   <span class="ruby-comment"># &#39;text/html&#39;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">body</span>                <span class="ruby-comment"># тело запроса, посланное клиентом (см. ниже)</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">scheme</span>              <span class="ruby-comment"># &quot;http&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">script_name</span>         <span class="ruby-comment"># &quot;/example&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_info</span>           <span class="ruby-comment"># &quot;/foo&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">port</span>                <span class="ruby-comment"># 80</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">request_method</span>      <span class="ruby-comment"># &quot;GET&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">query_string</span>        <span class="ruby-comment"># &quot;&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">content_length</span>      <span class="ruby-comment"># длина тела запроса</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">media_type</span>          <span class="ruby-comment"># медиатип тела запроса</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">host</span>                <span class="ruby-comment"># &quot;example.com&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">get?</span>                <span class="ruby-comment"># true (есть аналоги для других методов HTTP)</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">form_data?</span>          <span class="ruby-comment"># false</span>
  <span class="ruby-identifier">request</span>[<span class="ruby-string">&quot;some_param&quot;</span>]       <span class="ruby-comment"># значение параметра some_param. Шорткат для хеша params</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">referrer</span>            <span class="ruby-comment"># источник запроса клиента либо &#39;/&#39;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">user_agent</span>          <span class="ruby-comment"># user agent (используется для :agent условия)</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">cookies</span>             <span class="ruby-comment"># хеш, содержащий cookies браузера</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">xhr?</span>                <span class="ruby-comment"># является ли запрос ajax запросом?</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">url</span>                 <span class="ruby-comment"># &quot;http://example.com/example/foo&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path</span>                <span class="ruby-comment"># &quot;/example/foo&quot;</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">ip</span>                  <span class="ruby-comment"># IP-адрес клиента</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">secure?</span>             <span class="ruby-comment"># false (true, если запрос сделан через SSL)</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">forwarded?</span>          <span class="ruby-comment"># true (если сервер работает за обратным прокси)</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">env</span>                 <span class="ruby-comment"># &quot;сырой&quot; env хеш, полученный Rack</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Некоторые опции, такие как <code>script_name</code> или
<code>path_info</code>, доступны для изменения:</p>

<pre class="ruby"><span class="ruby-identifier">before</span> { <span class="ruby-identifier">request</span>.<span class="ruby-identifier">path_info</span> = <span class="ruby-string">&quot;/&quot;</span> }

<span class="ruby-identifier">get</span> <span class="ruby-string">&quot;/&quot;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&quot;all requests end up here&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p><code>request.body</code> является IO или StringIO объектом:</p>

<pre class="ruby"><span class="ruby-identifier">post</span> <span class="ruby-string">&quot;/api&quot;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">request</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">rewind</span>  <span class="ruby-comment"># в случае, если кто-то уже прочитал тело запроса</span>
  <span class="ruby-identifier">data</span> = <span class="ruby-constant">JSON</span>.<span class="ruby-identifier">parse</span> <span class="ruby-identifier">request</span>.<span class="ruby-identifier">body</span>.<span class="ruby-identifier">read</span>
  <span class="ruby-node">&quot;Hello #{data[&#39;name&#39;]}!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-92-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F">Вложения<span><a href="#label-D0-92-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Вы можете использовать метод <code>attachment</code>, чтобы сказать
браузеру, что ответ сервера должен быть сохранен на диск, а не отображен:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">attachment</span>
  <span class="ruby-string">&quot;store it!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Вы также можете указать имя файла:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">attachment</span> <span class="ruby-string">&quot;info.txt&quot;</span>
  <span class="ruby-string">&quot;store it!&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-A0-D0-B0-D0-B1-D0-BE-D1-82-D0-B0+-D1-81-D0-BE+-D0-B2-D1-80-D0-B5-D0-BC-D0-B5-D0-BD-D0-B5-D0-BC+-D0-B8+-D0-B4-D0-B0-D1-82-D0-B0-D0-BC-D0-B8">Работа со временем и датами<span><a href="#label-D0-A0-D0-B0-D0-B1-D0-BE-D1-82-D0-B0+-D1-81-D0-BE+-D0-B2-D1-80-D0-B5-D0-BC-D0-B5-D0-BD-D0-B5-D0-BC+-D0-B8+-D0-B4-D0-B0-D1-82-D0-B0-D0-BC-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> предлагает
метод-помощник <code>time_for</code>, который из заданного значения создает
объект <a href="../../../../../../Time.html">Time</a>. Он также может
конвертировать <code>DateTime</code>, <code>Date</code> и подобные классы:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">pass</span> <span class="ruby-keyword">if</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">&gt;</span> <span class="ruby-identifier">time_for</span>(<span class="ruby-string">&#39;Dec 23, 2016&#39;</span>)
  <span class="ruby-string">&quot;still time&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Этот метод используется внутри <a
href="../../../../../../Sinatra.html">Sinatra</a> методами
<code>expires</code>, <code>last_modified</code> и им подобными. Поэтому вы
легко можете изменить и дополнить поведение этих методов, переопределив
<code>time_for</code> в своем приложении:</p>

<pre class="ruby"><span class="ruby-identifier">helpers</span> <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">time_for</span>(<span class="ruby-identifier">value</span>)
    <span class="ruby-keyword">case</span> <span class="ruby-identifier">value</span>
    <span class="ruby-keyword">when</span> :<span class="ruby-identifier">yesterday</span> <span class="ruby-keyword">then</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">-</span> <span class="ruby-value">24</span><span class="ruby-operator">*</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>
    <span class="ruby-keyword">when</span> :<span class="ruby-identifier">tomorrow</span>  <span class="ruby-keyword">then</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">now</span> <span class="ruby-operator">+</span> <span class="ruby-value">24</span><span class="ruby-operator">*</span><span class="ruby-value">60</span><span class="ruby-operator">*</span><span class="ruby-value">60</span>
    <span class="ruby-keyword">else</span> <span class="ruby-keyword">super</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">last_modified</span> :<span class="ruby-identifier">yesterday</span>
  <span class="ruby-identifier">expires</span> :<span class="ruby-identifier">tomorrow</span>
  <span class="ruby-string">&quot;hello&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-9F-D0-BE-D0-B8-D1-81-D0-BA+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-BE-D0-B2">Поиск шаблонов<span><a href="#label-D0-9F-D0-BE-D0-B8-D1-81-D0-BA+-D1-88-D0-B0-D0-B1-D0-BB-D0-BE-D0-BD-D0-BE-D0-B2">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Для поиска шаблонов и их последующего рендеринга используется метод
<code>find_template</code>:</p>

<pre class="ruby"><span class="ruby-identifier">find_template</span> <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">views</span>, <span class="ruby-string">&#39;foo&#39;</span>, <span class="ruby-constant">Tilt</span>[:<span class="ruby-identifier">haml</span>] <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;could be #{file}&quot;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Это не слишком полезный пример. Зато полезен тот факт, что вы можете
переопределить этот метод, чтобы использовать свой собственный механизм
поиска. Например, если вы хотите, чтобы можно было использовать несколько
директорий с шаблонами:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">views</span>, [<span class="ruby-string">&#39;views&#39;</span>, <span class="ruby-string">&#39;templates&#39;</span>]

<span class="ruby-identifier">helpers</span> <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">find_template</span>(<span class="ruby-identifier">views</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">engine</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-constant">Array</span>(<span class="ruby-identifier">views</span>).<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword">super</span>(<span class="ruby-identifier">v</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">engine</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) }
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Другой пример, в котором используются разные директории для движков
рендеринга:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">views</span>, :<span class="ruby-identifier">sass</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;views/sass&#39;</span>, :<span class="ruby-identifier">haml</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;templates&#39;</span>, :<span class="ruby-identifier">default</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;views&#39;</span>

<span class="ruby-identifier">helpers</span> <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">def</span> <span class="ruby-identifier">find_template</span>(<span class="ruby-identifier">views</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">engine</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
    <span class="ruby-identifier">_</span>, <span class="ruby-identifier">folder</span> = <span class="ruby-identifier">views</span>.<span class="ruby-identifier">detect</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">engine</span> <span class="ruby-operator">==</span> <span class="ruby-constant">Tilt</span>[<span class="ruby-identifier">k</span>] }
    <span class="ruby-identifier">folder</span> <span class="ruby-operator">||=</span> <span class="ruby-identifier">views</span>[:<span class="ruby-identifier">default</span>]
    <span class="ruby-keyword">super</span>(<span class="ruby-identifier">folder</span>, <span class="ruby-identifier">name</span>, <span class="ruby-identifier">engine</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Вы можете легко вынести этот код в расширение и поделиться им с остальными!</p>

<p>Заметьте, что <code>find_template</code> не проверяет, существует ли файл
на самом деле, а вызывает заданный блок для всех возможных путей. Дело тут
не в производительности, дело в том, что <code>render</code> вызовет
<code>break</code>, как только файл будет найден. Содержимое и
местонахождение шаблонов будет закэшировано, если приложение запущено не в
режиме разработки (<code>set :environment, :development</code>). Вы должны
помнить об этих нюансах, если пишите по-настоящему “сумасшедший” метод.</p>

<h2 id="label-D0-9A-D0-BE-D0-BD-D1-84-D0-B8-D0-B3-D1-83-D1-80-D0-B0-D1-86-D0-B8-D1-8F">Конфигурация<span><a href="#label-D0-9A-D0-BE-D0-BD-D1-84-D0-B8-D0-B3-D1-83-D1-80-D0-B0-D1-86-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Этот блок исполняется один раз при старте в любом окружении, режиме
(environment):</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span>
  <span class="ruby-comment"># задание одной опции</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">option</span>, <span class="ruby-string">&#39;value&#39;</span>

  <span class="ruby-comment"># устанавливаем несколько опций</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">a</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>, :<span class="ruby-identifier">b</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>

  <span class="ruby-comment"># то же самое, что и `set :option, true`</span>
  <span class="ruby-identifier">enable</span> :<span class="ruby-identifier">option</span>

  <span class="ruby-comment"># то же самое, что и `set :option, false`</span>
  <span class="ruby-identifier">disable</span> :<span class="ruby-identifier">option</span>

  <span class="ruby-comment"># у вас могут быть &quot;динамические&quot; опции с блоками</span>
  <span class="ruby-identifier">set</span>(:<span class="ruby-identifier">css_dir</span>) { <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-identifier">views</span>, <span class="ruby-string">&#39;css&#39;</span>) }
<span class="ruby-keyword">end</span>
</pre>

<p>Будет запущено, когда окружение (<code>APP_ENV</code> переменная)
<code>:production</code>:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> :<span class="ruby-identifier">production</span> <span class="ruby-keyword">do</span>
  <span class="ruby-operator">...</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Будет запущено, когда окружение <code>:production</code> или
<code>:test</code>:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> :<span class="ruby-identifier">production</span>, :<span class="ruby-identifier">test</span> <span class="ruby-keyword">do</span>
  <span class="ruby-operator">...</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Вы можете получить доступ к этим опциям с помощью <code>settings</code>:</p>

<pre class="ruby"><span class="ruby-identifier">configure</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">foo</span>, <span class="ruby-string">&#39;bar&#39;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">foo?</span> <span class="ruby-comment"># =&gt; true</span>
  <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">foo</span>  <span class="ruby-comment"># =&gt; &#39;bar&#39;</span>
  <span class="ruby-operator">...</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-9D-D0-B0-D1-81-D1-82-D1-80-D0-BE-D0-B9-D0-BA-D0-B0+-D0-B7-D0-B0-D1-89-D0-B8-D1-82-D1-8B+-D0-BE-D1-82+-D0-B0-D1-82-D0-B0-D0-BA">Настройка защиты от атак<span><a href="#label-D0-9D-D0-B0-D1-81-D1-82-D1-80-D0-BE-D0-B9-D0-BA-D0-B0+-D0-B7-D0-B0-D1-89-D0-B8-D1-82-D1-8B+-D0-BE-D1-82+-D0-B0-D1-82-D0-B0-D0-BA">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> использует <a
href="https://github.com/sinatra/rack-protection#readme">Rack::Protection</a>
для защиты приложения от простых атак. Вы можете легко выключить эту защиту
(что сделает ваше приложение чрезвычайно уязвимым):</p>

<pre class="ruby"><span class="ruby-identifier">disable</span> :<span class="ruby-identifier">protection</span>
</pre>

<p>Чтобы пропустить какой-либо уровень защиты, передайте хеш опций в параметр
<code>protection</code>:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">protection</span>, :<span class="ruby-identifier">except</span> =<span class="ruby-operator">&gt;</span> :<span class="ruby-identifier">path_traversal</span>
</pre>

<p>Вы также можете отключить сразу несколько уровней защиты:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">protection</span>, :<span class="ruby-identifier">except</span> =<span class="ruby-operator">&gt;</span> [:<span class="ruby-identifier">path_traversal</span>, :<span class="ruby-identifier">session_hijacking</span>]
</pre>

<p>По умолчанию <a href="../../../../../../Sinatra.html">Sinatra</a> будет
устанавливать <code>session based</code> защиту только если включена опция
<code>:sessions</code>. См. &#39;Использование сессий&#39;. Иногда вы
захотите настроить сессии “вне” приложения <a
href="../../../../../../Sinatra.html">Sinatra</a>, например, в <a
href="../../../../../../config_ru.html">config.ru</a> или с помощью
отдельного экземпляра <code>Rack::Builder</code>. В этом случае вы также
можете настроить <code>session based</code> защиту, передав опцию
<code>:session</code>:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">protection</span>, :<span class="ruby-identifier">session</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>
</pre>

<h3 id="label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF-D0-BD-D1-8B-D0-B5+-D0-BD-D0-B0-D1-81-D1-82-D1-80-D0-BE-D0-B9-D0-BA-D0-B8">Доступные настройки<span><a href="#label-D0-94-D0-BE-D1-81-D1-82-D1-83-D0-BF-D0-BD-D1-8B-D0-B5+-D0-BD-D0-B0-D1-81-D1-82-D1-80-D0-BE-D0-B9-D0-BA-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h3>
<dl>
  <dt>absolute_redirects</dt>
    <dd>
      если отключено, то Sinatra будет позволять использование относительных
      перенаправлений, но при этом перестанет соответствовать RFC 2616 (HTTP
      1.1), который разрешает только абсолютные перенаправления.
    </dd>
    <dd>
      включайте эту опцию, если ваше приложение работает за обратным прокси,
      который настроен не совсем корректно. Обратите внимание, метод <tt>url</tt> все
      равно будет генерировать абсолютные URL, если вы не передадите <tt>false</tt>
      вторым аргументом.
    </dd>
    <dd>отключено по умолчанию.</dd>

  <dt>add_charset</dt>
    <dd>
      mime-типы, к которым метод <tt>content_type</tt> будет автоматически добавлять
      информацию о кодировке. Вам следует добавлять значения к этой опции
      вместо ее переопределения: <tt>settings.add_charset << "application/foobar"</tt>
    </dd>

  <dt>app_file</dt>
    <dd>
      путь к главному файлу приложения, используется для нахождения корневой
      директории проекта, директорий с шаблонами и статическими файлами,
      вложенных шаблонов.
    </dd>

  <dt>bind</dt>
    <dd>
      используемый IP-адрес (по умолчанию: <tt>0.0.0.0</tt> <em>или</em>
      <tt>localhost</tt> если ваша `environment` настроена на разработку). 
    Используется только встроенным сервером.
    </dd>

  <dt>default_encoding</dt>
    <dd>кодировка, если неизвестна (по умолчанию: <tt>"utf-8"</tt>).</dd>

  <dt>dump_errors</dt>
    <dd>отображать ошибки в логе.</dd>

  <dt>environment</dt>
    <dd>
      текущее окружение, по умолчанию, значение <tt>ENV['APP_ENV']</tt> или
      <tt>"development"</tt>, если <tt>ENV['APP_ENV']</tt> недоступна.
    </dd>

  <dt>logging</dt>
    <dd>использовать логер.</dd>

  <dt>lock</dt>
    <dd>
      создает блокировку для каждого запроса, которая гарантирует обработку
      только одного запроса в текущий момент времени в Ruby процессе.
    </dd>
    <dd>
      включайте, если ваше приложение не потоко-безопасно (thread-safe).
      Отключено по умолчанию.
  </dd>

  <dt>method_override</dt>
    <dd>
      использовать "магический" параметр <tt>_method</tt>, для поддержки
      PUT/DELETE форм в браузерах, которые не поддерживают эти методы.
    </dd>

  <dt>mustermann_opts</dt>
    <dd>
    хэш настроек по умолчанию для перехода к Mustermann.new при компиляции 
    маршрутов маршрутизации.
    </dd>

  <dt>port</dt>
    <dd>
      порт, на котором будет работать сервер. 
      Используется только встроенным сервером.
    </dd>

  <dt>prefixed_redirects</dt>
    <dd>
      добавлять или нет параметр <tt>request.script_name</tt> к редиректам, если не
      задан абсолютный путь. Таким образом, <tt>redirect '/foo'</tt> будет вести себя
      как <tt>redirect to('/foo')</tt>. Отключено по умолчанию.
    </dd>

  <dt>protection</dt>
    <dd>включена или нет защита от атак. Смотрите секцию защиты от атак выше.</dd>

  <dt>public_dir</dt>
    <dd>алиас для <tt>public_folder</tt>.</dd>

  <dt>public_folder</dt>
    <dd>
      путь к общедоступной директории, откуда будут раздаваться файлы.
      Используется, только если включена раздача статических файлов
      (см. опцию <tt>static</tt> ниже). Берётся из настройки <tt>app_file</tt>,
    если не установлена.
    </dd>

  <dt>quiet</dt>
    <dd>
      отключает журналы, созданные командами запуска и остановки Sinatra. 
      <tt>false</tt> по умолчанию.
    </dd>

  <dt>reload_templates</dt>
    <dd>
      перезагружать или нет шаблоны на каждый запрос. Включено в режиме
      разработки.
    </dd>

  <dt>root</dt>
    <dd>
    путь к корневой директории проекта. Берётся из настройки <tt>app_file</tt>,
    если не установлен.
    </dd>

  <dt>raise_errors</dt>
    <dd>
      выбрасывать исключения (будет останавливать приложение).
      По умолчанию включено только в окружении <tt>"test"</tt>.
    </dd>

  <dt>run</dt>
    <dd>
      если включено, Sinatra будет самостоятельно запускать веб-сервер. Не
      включайте, если используете rackup или аналогичные средства.
    </dd>

  <dt>running</dt>
    <dd>работает ли сейчас встроенный сервер? Не меняйте эту опцию!</dd>

  <dt>server</dt>
    <dd>
      сервер или список серверов, которые следует использовать в качестве
      встроенного сервера. Порядок задает приоритет, по умолчанию зависит 
    от реализации Ruby.
    </dd>

  <dt>sessions</dt>
    <dd>
      включить сессии на основе кук (cookie) на базе <tt>Rack::Session::Cookie</tt>.
      Смотрите секцию "Использование сессий" выше.
    </dd>

  <dt>session_store</dt>
    <dd>
      используется Rack "прослойка" сессии. По умолчанию <tt>Rack::Session::Cookie</tt>. 
    Смотрите секцию "Использование сессий" выше.
    </dd>

  <dt>show_exceptions</dt>
    <dd>
      показывать исключения/стек вызовов (stack trace) в браузере. По умолчанию
      включено только в окружении <tt>"development"</tt>.
    </dd>
    <dd>
      может также быть установлено в <tt>:after_handler</tt> для запуска специфичной 
    для приложения обработки ошибок, перед показом трассировки стека в браузере.
    </dd>

  <dt>static</dt>
    <dd>должна ли Sinatra осуществлять раздачу статических файлов.</dd>
    <dd>Отключите, когда используете какой-либо веб-сервер для этой цели.</dd>
    <dd>Отключение значительно улучшит производительность приложения.</dd>
    <dd>По умолчанию включено в классических и отключено в модульных приложениях.</dd>

  <dt>static_cache_control</dt>
    <dd>
      когда Sinatra отдает статические файлы, используйте эту опцию, чтобы
      добавить им заголовок <tt>Cache-Control</tt>. Для этого используется
      метод-помощник <tt>cache_control</tt>. По умолчанию отключено.
    </dd>
    <dd>
      используйте массив, когда надо задать несколько значений:
      <tt>set :static_cache_control, [:public, :max_age => 300]</tt>
    </dd>

  <dt>threaded</dt>
    <dd>
      если включено, то Thin будет использовать <tt>EventMachine.defer</tt> для
      обработки запросов.
    </dd>

  <dt>traps</dt>
    <dd>должна ли Sinatra обрабатывать системные сигналы или нет.</tt></dd>

  <dt>views</dt>
    <dd>
    путь к директории с шаблонами. Берётся из настройки <tt>app_file</tt>,
    если не установлен.
    </dd>

  <dt>x_cascade</dt>
    <dd>
      Установлен ли заголовок X-Cascade если никакие маршруты не совпадают.
      <tt>true</tt> по умолчанию.
    </dd>
</dl>
<h2 id="label-D0-A0-D0-B5-D0-B6-D0-B8-D0-BC-2C+-D0-BE-D0-BA-D1-80-D1-83-D0-B6-D0-B5-D0-BD-D0-B8-D0-B5">Режим, окружение<span><a href="#label-D0-A0-D0-B5-D0-B6-D0-B8-D0-BC-2C+-D0-BE-D0-BA-D1-80-D1-83-D0-B6-D0-B5-D0-BD-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Есть 3 предопределенных режима, окружения:
<code>&quot;development&quot;</code>, <code>&quot;production&quot;</code> и
<code>&quot;test&quot;</code>. Режим может быть задан через переменную
окружения <code>APP_ENV</code>. Значение по умолчанию —
<code>&quot;development&quot;</code>. В этом режиме работы все шаблоны
перезагружаются между запросами. А также задаются специальные обработчики
<code>not_found</code> и <code>error</code>, чтобы вы могли увидеть стек
вызовов. В окружениях <code>&quot;production&quot;</code> и
<code>&quot;test&quot;</code> шаблоны по умолчанию кэшируются.</p>

<p>Для запуска приложения в определенном окружении установите переменную
окружения <code>APP_ENV</code>:</p>

<pre class="ruby"><span class="ruby-constant">APP_ENV</span>=<span class="ruby-identifier">production</span> <span class="ruby-identifier">ruby</span> <span class="ruby-identifier">my_app</span>.<span class="ruby-identifier">rb</span>
</pre>

<p>Вы можете использовать предопределенные методы <code>development?</code>,
<code>test?</code> и <code>production?</code>, чтобы определить текущее
окружение.</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">development?</span>
    <span class="ruby-string">&quot;development!&quot;</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-string">&quot;not development!&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h2 id="label-D0-9E-D0-B1-D1-80-D0-B0-D0-B1-D0-BE-D1-82-D0-BA-D0-B0+-D0-BE-D1-88-D0-B8-D0-B1-D0-BE-D0-BA">Обработка ошибок<span><a href="#label-D0-9E-D0-B1-D1-80-D0-B0-D0-B1-D0-BE-D1-82-D0-BA-D0-B0+-D0-BE-D1-88-D0-B8-D0-B1-D0-BE-D0-BA">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Обработчики ошибок исполняются в том же контексте, что и маршруты, и
<code>before</code>-фильтры, а это означает, что всякие прелести вроде
<code>haml</code>, <code>erb</code>, <code>halt</code> и т.д. доступны и
им.</p>

<h3 id="label-Not+Found">Not Found<span><a href="#label-Not+Found">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Когда выброшено исключение <code>Sinatra::NotFound</code>, или кодом ответа
является 404, то будет вызван <code>not_found</code> обработчик:</p>

<pre class="ruby"><span class="ruby-identifier">not_found</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;This is nowhere to be found.&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-Error"><a href="../../../../../../Error.html">Error</a><span><a href="#label-Error">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Обработчик ошибок <code>error</code> будет вызван, когда исключение
выброшено из блока маршрута, либо из фильтра. Но заметьте, что в режиме
разработки он будет запускаться, только если вы установите опцию “show
exceptions” на <code>: after_handler</code>:</p>

<pre class="ruby"><span class="ruby-identifier">set</span> :<span class="ruby-identifier">show_exceptions</span>, :<span class="ruby-identifier">after_handler</span>
</pre>

<p>Объект-исключение доступен как переменная <code>sinatra.error</code> в
Rack:</p>

<pre class="ruby"><span class="ruby-identifier">error</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;Sorry there was a nasty error - &#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">env</span>[<span class="ruby-string">&#39;sinatra.error&#39;</span>].<span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Конкретные ошибки:</p>

<pre class="ruby"><span class="ruby-identifier">error</span> <span class="ruby-constant">MyCustomError</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;So what happened was...&#39;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">env</span>[<span class="ruby-string">&#39;sinatra.error&#39;</span>].<span class="ruby-identifier">message</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Тогда, если это произошло:</p>

<pre class="ruby"><span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">raise</span> <span class="ruby-constant">MyCustomError</span>, <span class="ruby-string">&#39;something bad&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>То вы получите:</p>

<pre>So what happened was... something bad</pre>

<p>Также вы можете установить обработчик ошибок для кода состояния HTTP:</p>

<pre class="ruby"><span class="ruby-identifier">error</span> <span class="ruby-value">403</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;Access forbidden&#39;</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/secret&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-value">403</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Либо набора кодов:</p>

<pre class="ruby"><span class="ruby-identifier">error</span> <span class="ruby-value">400</span><span class="ruby-operator">..</span><span class="ruby-value">510</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;Boom&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> устанавливает
специальные <code>not_found</code> и <code>error</code> обработчики, когда
приложение запущено в режиме разработки (окружение
<code>:development</code>) чтобы отображать хорошие трассировки стека и
дополнительную информацию об отладке в вашем браузере.</p>

<h2 id="label-Rack+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B0-22"><a href="../../../../../../Rack.html">Rack</a> “прослойка”<span><a href="#label-Rack+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B0-22">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> использует <a
href="http://rack.github.io/">Rack</a>, минимальный стандартный интерфейс
для веб-фреймворков на Ruby. Одной из самых интересных для разработчиков
возможностей <a href="../../../../../../Rack.html">Rack</a> является
поддержка “прослоек” (“middleware”) — компонентов, находящихся “между”
сервером и вашим приложением, которые отслеживают и/или манипулируют HTTP
запросами/ответами для предоставления различной функциональности.</p>

<p>В <a href="../../../../../../Sinatra.html">Sinatra</a> очень просто
использовать такие “прослойки” с помощью метода <code>use</code>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;my_custom_middleware&#39;</span>

<span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Lint</span>
<span class="ruby-identifier">use</span> <span class="ruby-constant">MyCustomMiddleware</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/hello&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;Hello World&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Семантика <code>use</code> идентична той, что определена для <a
href="http://www.rubydoc.info/github/rack/rack/master/Rack/Builder">Rack::Builder</a>
DSL (чаще всего используется в rackup файлах). Например, метод
<code>use</code> принимает как множественные переменные, так и блоки:</p>

<pre class="ruby"><span class="ruby-identifier">use</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Auth</span><span class="ruby-operator">::</span><span class="ruby-constant">Basic</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">username</span>, <span class="ruby-identifier">password</span><span class="ruby-operator">|</span>
  <span class="ruby-identifier">username</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;admin&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">password</span> <span class="ruby-operator">==</span> <span class="ruby-string">&#39;secret&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p><a href="../../../../../../Rack.html">Rack</a> распространяется с
различными стандартными “прослойками” для логирования, отладки,
маршрутизации URL, аутентификации, обработки сессий. <a
href="../../../../../../Sinatra.html">Sinatra</a> использует многие из этих
компонентов автоматически, основываясь на конфигурации, чтобы вам не
приходилось подключать (<code>use</code>) их вручную.</p>

<p>Вы можете найти полезные прослойки в <a
href="https://github.com/rack/rack/tree/master/lib/rack">rack</a>, <a
href="https://github.com/rack/rack-contrib#readme">rack-contrib</a>, или в
<a href="https://github.com/rack/rack/wiki/List-of-Middleware">Rack
wiki</a>.</p>

<h2 id="label-D0-A2-D0-B5-D1-81-D1-82-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">Тестирование<span><a href="#label-D0-A2-D0-B5-D1-81-D1-82-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Тесты для <a href="../../../../../../Sinatra.html">Sinatra</a> приложений
могут быть написаны с помощью библиотек, фреймворков, поддерживающих
тестирование <a href="../../../../../../Rack.html">Rack</a>. <a
href="http://www.rubydoc.info/github/brynary/rack-test/master/frames">Rack::Test</a>
рекомендован:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;my_sinatra_app&#39;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;minitest/autorun&#39;</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;rack/test&#39;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">MyAppTest</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Minitest</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span>
  <span class="ruby-identifier">include</span> <span class="ruby-constant">Rack</span><span class="ruby-operator">::</span><span class="ruby-constant">Test</span><span class="ruby-operator">::</span><span class="ruby-constant">Methods</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">app</span>
    <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">test_my_default</span>
    <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;Hello World!&#39;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">test_with_params</span>
    <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/meet&#39;</span>, :<span class="ruby-identifier">name</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Frank&#39;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&#39;Hello Frank!&#39;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-keyword">def</span> <span class="ruby-identifier">test_with_user_agent</span>
    <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span>, {}, <span class="ruby-string">&#39;HTTP_USER_AGENT&#39;</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;Songbird&#39;</span>
    <span class="ruby-identifier">assert_equal</span> <span class="ruby-string">&quot;You&#39;re using Songbird!&quot;</span>, <span class="ruby-identifier">last_response</span>.<span class="ruby-identifier">body</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Примечание: если вы используете <a
href="../../../../../../Sinatra.html">Sinatra</a> в модульном стиле,
замените <code>Sinatra::Application</code> в примере выше выше на имя
класса вашего приложения.</p>

<h2 id="label-Sinatra-3A-3ABase+-E2-80-94+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22-2C+-D0-B1-D0-B8-D0-B1-D0-BB-D0-B8-D0-BE-D1-82-D0-B5-D0-BA-D0-B8+-D0-B8+-D0-BC-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F">Sinatra::Base — “прослойки”, библиотеки и модульные приложения<span><a href="#label-Sinatra-3A-3ABase+-E2-80-94+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22-2C+-D0-B1-D0-B8-D0-B1-D0-BB-D0-B8-D0-BE-D1-82-D0-B5-D0-BA-D0-B8+-D0-B8+-D0-BC-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Описание вашего приложения на верхнем уровне хорошо работает для
микроприложений, но имеет значительные недостатки при создании многоразовых
компонентов, таких как <a href="../../../../../../Rack.html">Rack</a>
“прослойка”, <a href="../../../../../../Rails.html">Rails</a> metal,
простые библиотеки с серверным компонентом или даже расширения <a
href="../../../../../../Sinatra.html">Sinatra</a>. Верхний уровень
предполагает конфигурацию стиля микроприложений (например, одиночный файл
приложения, <code>./public</code> и <code>./views</code>, каталоги,
логгирование, страницу подробных сведений об исключениях и т.д.). И тут на
помощь приходит <code>Sinatra::Base</code>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">sessions</span>, <span class="ruby-keyword">true</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">foo</span>, <span class="ruby-string">&#39;bar&#39;</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Hello world!&#39;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Методы, доступные <code>Sinatra::Base</code> подклассам идентичны тем, что
доступны приложениям в DSL верхнего уровня. Большинство таких приложений
могут быть конвертированы в <code>Sinatra::Base</code> компоненты с помощью
двух модификаций:</p>

<p>Вы должны подключать <code>sinatra/base</code> вместо <code>sinatra</code>,
иначе все DSL методы,  предоставляемые <a
href="../../../../../../Sinatra.html">Sinatra</a>, будут импортированы в
глобальное пространство  имен.  Поместите все маршруты, обработчики ошибок,
фильтры и опции в подкласс  <code>Sinatra::Base</code>.</p>

<p><code>Sinatra::Base</code> — это чистый лист. Большинство опций, включая
встроенный сервер, по умолчанию отключены. Смотрите <a
href="http://www.sinatrarb.com/configuration.html">Опции и конфигурация</a>
для детальной информации об опциях и их поведении. Если вы хотите, чтобы
поведение было более похоже на то, когда вы определяете свое приложение на
верхнем уровне (также известно как классический стиль), вы можете
подклассифицировать <code>Sinatra::Application</code>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>
  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&#39;Hello world!&#39;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-9C-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F+-D0-BF-D1-80-D0-BE-D1-82-D0-B8-D0-B2+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D1-85">Модульные приложения против классических<span><a href="#label-D0-9C-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F+-D0-BF-D1-80-D0-BE-D1-82-D0-B8-D0-B2+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D1-85">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Вопреки всеобщему убеждению, в классическом стиле (самом простом) нет
ничего плохого. Если этот стиль подходит вашему приложению, вы не обязаны
переписывать его в модульное приложение.</p>

<p>Основным недостатком классического стиля является тот факт, что у вас может
быть только одно приложение <a
href="../../../../../../Sinatra.html">Sinatra</a> на один процесс Ruby.
Если вы планируете использовать больше, переключайтесь на модульный стиль.
Вы можете смело смешивать модульный и классический стили.</p>

<p>Переходя с одного стиля на другой, примите во внимание следующие изменения
в настройках:</p>
<table>
  <tr>
    <th>Опция</th>
    <th>Классический</th>
    <th>Модульный</th>
    <th>Модульный</th>
  </tr>

  <tr>
    <td>app_file</td>
    <td>файл с приложением</td>
    <td>файл с подклассом Sinatra::Base</td>
    <td>файл с подклассом Sinatra::Application</td>
  </tr>

  <tr>
    <td>run</td>
    <td>$0 == app_file</td>
    <td>false</td>
    <td>false</td>
  </tr>

  <tr>
    <td>logging</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>

  <tr>
    <td>method_override</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>

  <tr>
    <td>inline_templates</td>
    <td>true</td>
    <td>false</td>
    <td>true</td>
  </tr>

  <tr>
    <td>static</td>
    <td>true</td>
    <td>File.exist?(public_folder)</td>
    <td>true</td>
  </tr>
</table>
<h3 id="label-D0-97-D0-B0-D0-BF-D1-83-D1-81-D0-BA+-D0-BC-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D1-85+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9">Запуск модульных приложений<span><a href="#label-D0-97-D0-B0-D0-BF-D1-83-D1-81-D0-BA+-D0-BC-D0-BE-D0-B4-D1-83-D0-BB-D1-8C-D0-BD-D1-8B-D1-85+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Есть два общепринятых способа запускать модульные приложения: запуск
напрямую с помощью <code>run!</code>:</p>

<pre class="ruby"><span class="ruby-comment"># my_app.rb</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># ... здесь код приложения ...</span>

  <span class="ruby-comment"># запускаем сервер, если исполняется текущий файл</span>
  <span class="ruby-identifier">run!</span> <span class="ruby-keyword">if</span> <span class="ruby-identifier">app_file</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">$0</span>
<span class="ruby-keyword">end</span>
</pre>

<p>Затем:</p>

<pre class="ruby"><span class="ruby-identifier">ruby</span> <span class="ruby-identifier">my_app</span>.<span class="ruby-identifier">rb</span>
</pre>

<p>Или с помощью конфигурационного файла <code>config.ru</code>, который
позволяет использовать любой Rack-совместимый сервер приложений.</p>

<pre class="ruby"><span class="ruby-comment"># config.ru (запускается с помощью Rackup)</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;./my_app&#39;</span>
<span class="ruby-identifier">run</span> <span class="ruby-constant">MyApp</span>
</pre>

<p>Запускаем:</p>

<pre>rackup -p 4567</pre>

<h3 id="label-D0-97-D0-B0-D0-BF-D1-83-D1-81-D0-BA+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D1-85+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9+-D1-81+config.ru">Запуск классических приложений с <a href="../../../../../../config_ru.html">config.ru</a><span><a href="#label-D0-97-D0-B0-D0-BF-D1-83-D1-81-D0-BA+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B8-D1-87-D0-B5-D1-81-D0-BA-D0-B8-D1-85+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9+-D1-81+config.ru">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Файл приложения:</p>

<pre class="ruby"><span class="ruby-comment"># app.rb</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra&#39;</span>

<span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
  <span class="ruby-string">&#39;Hello world!&#39;</span>
<span class="ruby-keyword">end</span>
</pre>

<p>И соответствующий <code>config.ru</code>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;./app&#39;</span>
<span class="ruby-identifier">run</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>
</pre>

<h3 id="label-D0-9A-D0-BE-D0-B3-D0-B4-D0-B0+-D0-B8-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D1-82-D1-8C+config.ru-3F">Когда использовать <a href="../../../../../../config_ru.html">config.ru</a>?<span><a href="#label-D0-9A-D0-BE-D0-B3-D0-B4-D0-B0+-D0-B8-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D1-82-D1-8C+config.ru-3F">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Вот несколько причин, по которым вы, возможно, захотите использовать
<code>config.ru</code>:</p>

<p>вы хотите разворачивать свое приложение на различных Rack-совместимых 
серверах (Passenger, Unicorn, Heroku, …);  вы хотите использовать более
одного подкласса <code>Sinatra::Base</code>;  вы хотите использовать <a
href="../../../../../../Sinatra.html">Sinatra</a> только в качестве
“прослойки” <a href="../../../../../../Rack.html">Rack</a>.</p>

<p><em>Совсем необязательно переходить на использование <code>config.ru</code>
лишь потому, что вы стали использовать модульный стиль приложения. И
необязательно использовать модульный стиль, чтобы запускать приложение с
помощью <code>config.ru</code>.</em>*</p>

<h3 id="label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+Sinatra+-D0-B2+-D0-BA-D0-B0-D1-87-D0-B5-D1-81-D1-82-D0-B2-D0-B5+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22">Использование <a href="../../../../../../Sinatra.html">Sinatra</a> в качестве “прослойки”<span><a href="#label-D0-98-D1-81-D0-BF-D0-BE-D0-BB-D1-8C-D0-B7-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D0-B5+Sinatra+-D0-B2+-D0-BA-D0-B0-D1-87-D0-B5-D1-81-D1-82-D0-B2-D0-B5+-22-D0-BF-D1-80-D0-BE-D1-81-D0-BB-D0-BE-D0-B9-D0-BA-D0-B8-22">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Не только сама <a href="../../../../../../Sinatra.html">Sinatra</a> может
использовать “прослойки” <a href="../../../../../../Rack.html">Rack</a>, но
и любое <a href="../../../../../../Sinatra.html">Sinatra</a> приложение
само может быть добавлено к любому <a
href="../../../../../../Rack.html">Rack</a> endpoint в качестве
“прослойки”. Этим endpoint (конечной точкой) может быть другое <a
href="../../../../../../Sinatra.html">Sinatra</a> приложение, или
приложение, основанное на <a href="../../../../../../Rack.html">Rack</a>
(Rails/Hamami/Roda/…):</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">LoginScreen</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">enable</span> :<span class="ruby-identifier">sessions</span>

  <span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/login&#39;</span>) { <span class="ruby-identifier">haml</span> :<span class="ruby-identifier">login</span> }

  <span class="ruby-identifier">post</span>(<span class="ruby-string">&#39;/login&#39;</span>) <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;name&#39;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;admin&#39;</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;password&#39;</span>] <span class="ruby-operator">==</span> <span class="ruby-string">&#39;admin&#39;</span>
      <span class="ruby-identifier">session</span>[<span class="ruby-string">&#39;user_name&#39;</span>] = <span class="ruby-identifier">params</span>[<span class="ruby-string">&#39;name&#39;</span>]
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">redirect</span> <span class="ruby-string">&#39;/login&#39;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># &quot;прослойка&quot; будет запущена перед фильтрами</span>
  <span class="ruby-identifier">use</span> <span class="ruby-constant">LoginScreen</span>

  <span class="ruby-identifier">before</span> <span class="ruby-keyword">do</span>
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">session</span>[<span class="ruby-string">&#39;user_name&#39;</span>]
      <span class="ruby-identifier">halt</span> <span class="ruby-string">&quot;Access denied, please &lt;a href=&#39;/login&#39;&gt;login&lt;/a&gt;.&quot;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-node">&quot;Hello #{session[&#39;user_name&#39;]}.&quot;</span> }
<span class="ruby-keyword">end</span>
</pre>

<h3 id="label-D0-A1-D0-BE-D0-B7-D0-B4-D0-B0-D0-BD-D0-B8-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9+-22-D0-BD-D0-B0+-D0-BB-D0-B5-D1-82-D1-83-22">Создание приложений “на лету”<span><a href="#label-D0-A1-D0-BE-D0-B7-D0-B4-D0-B0-D0-BD-D0-B8-D0-B5+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D0-B9+-22-D0-BD-D0-B0+-D0-BB-D0-B5-D1-82-D1-83-22">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Иногда требуется создавать <a
href="../../../../../../Sinatra.html">Sinatra</a> приложения “на лету”
(например, из другого приложения). Это возможно с помощью
<code>Sinatra.new</code>:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>
<span class="ruby-identifier">my_app</span> = <span class="ruby-constant">Sinatra</span>.<span class="ruby-identifier">new</span> { <span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-string">&quot;hi&quot;</span> } }
<span class="ruby-identifier">my_app</span>.<span class="ruby-identifier">run!</span>
</pre>

<p>Этот метод может принимать аргументом приложение, от которого следует
наследоваться:</p>

<pre class="ruby"><span class="ruby-comment"># config.ru (запускается с помощью Rackup)</span>
<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-identifier">controller</span> = <span class="ruby-constant">Sinatra</span>.<span class="ruby-identifier">new</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">enable</span> :<span class="ruby-identifier">logging</span>
  <span class="ruby-identifier">helpers</span> <span class="ruby-constant">MyHelpers</span>
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">map</span>(<span class="ruby-string">&#39;/a&#39;</span>) <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">run</span> <span class="ruby-constant">Sinatra</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">controller</span>) { <span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-string">&#39;a&#39;</span> } }
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">map</span>(<span class="ruby-string">&#39;/b&#39;</span>) <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">run</span> <span class="ruby-constant">Sinatra</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">controller</span>) { <span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-string">&#39;b&#39;</span> } }
<span class="ruby-keyword">end</span>
</pre>

<p>Это особенно полезно для тестирования расширений <a
href="../../../../../../Sinatra.html">Sinatra</a> и при использовании <a
href="../../../../../../Sinatra.html">Sinatra</a> внутри вашей библиотеки.</p>

<p>Благодаря этому, использовать <a
href="../../../../../../Sinatra.html">Sinatra</a> как “прослойку” очень
просто:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-identifier">use</span> <span class="ruby-constant">Sinatra</span> <span class="ruby-keyword">do</span>
  <span class="ruby-identifier">get</span>(<span class="ruby-string">&#39;/&#39;</span>) { <span class="ruby-operator">...</span> }
<span class="ruby-keyword">end</span>

<span class="ruby-identifier">run</span> <span class="ruby-constant">RailsProject</span><span class="ruby-operator">::</span><span class="ruby-constant">Application</span>
</pre>

<h2 id="label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D0-B8+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B8+-D0-BF-D1-80-D0-B8-D0-B2-D1-8F-D0-B7-D0-BA-D0-B0">Области видимости и привязка<span><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D0-B8+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B8+-D0-BF-D1-80-D0-B8-D0-B2-D1-8F-D0-B7-D0-BA-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Текущая область видимости определяет методы и переменные, доступные в
данный момент.</p>

<h3 id="label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F+-2F+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B0">Область видимости приложения / класса<span><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-BF-D1-80-D0-B8-D0-BB-D0-BE-D0-B6-D0-B5-D0-BD-D0-B8-D1-8F+-2F+-D0-BA-D0-BB-D0-B0-D1-81-D1-81-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Любое <a href="../../../../../../Sinatra.html">Sinatra</a> приложение
соответствует подклассу <code>Sinatra::Base</code>. Если вы используете DSL
верхнего уровня (<code>require &#39;sinatra&#39;</code>), то этим классом
будет <code>Sinatra::Application</code>, иначе это будет подкласс, который
вы создали вручную. На уровне класса вам будут доступны такие методы, как
<code>get</code> или <code>before</code>, но вы не сможете получить доступ
к объектам <code>request</code> или <code>session</code>, так как
существует только один класс приложения для всех запросов.</p>

<p>Опции, созданные с помощью <code>set</code>, являются методами уровня
класса:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># Я в области видимости приложения!</span>
  <span class="ruby-identifier">set</span> :<span class="ruby-identifier">foo</span>, <span class="ruby-value">42</span>
  <span class="ruby-identifier">foo</span> <span class="ruby-comment"># =&gt; 42</span>

  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/foo&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># Я больше не в области видимости приложения!</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>У вас будет область видимости приложения внутри:</p>

<p>тела вашего класса приложения;  методов, определенных расширениями;  блока,
переданного в <code>helpers</code>;  блоков, использованных как значения
для <code>set</code>;  блока, переданного в <code>Sinatra.new</code>.</p>

<p>Вы можете получить доступ к объекту области видимости (классу приложения)
следующими способами:</p>

<p>через объект, переданный блокам конфигурации (<code>configure { |c| ...
}</code>);  <code>settings</code> внутри области видимости запроса.</p>

<h3 id="label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B7-D0-B0-D0-BF-D1-80-D0-BE-D1-81-D0-B0+-2F+-D1-8D-D0-BA-D0-B7-D0-B5-D0-BC-D0-BF-D0-BB-D1-8F-D1-80-D0-B0">Область видимости запроса / экземпляра<span><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B7-D0-B0-D0-BF-D1-80-D0-BE-D1-81-D0-B0+-2F+-D1-8D-D0-BA-D0-B7-D0-B5-D0-BC-D0-BF-D0-BB-D1-8F-D1-80-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Для каждого входящего запроса будет создан новый экземпляр вашего
приложения, и все блоки обработчика будут запущены в этом контексте. В этой
области видимости вам доступны <code>request</code> и <code>session</code>
объекты, вызовы методов рендеринга, такие как <code>erb</code> или
<code>haml</code>. Вы можете получить доступ к области видимости приложения
из контекста запроса, используя метод-помощник <code>settings</code>:</p>

<pre class="ruby"><span class="ruby-keyword">class</span> <span class="ruby-constant">MyApp</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-comment"># Я в области видимости приложения!</span>
  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/define_route/:name&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-comment"># Область видимости запроса &#39;/define_route/:name&#39;</span>
    <span class="ruby-ivar">@value</span> = <span class="ruby-value">42</span>

    <span class="ruby-identifier">settings</span>.<span class="ruby-identifier">get</span>(<span class="ruby-node">&quot;/#{params[&#39;name&#39;]}&quot;</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-comment"># Область видимости запроса &quot;/#{params[&#39;name&#39;]}&quot;</span>
      <span class="ruby-ivar">@value</span> <span class="ruby-comment"># =&gt; nil (другой запрос)</span>
    <span class="ruby-keyword">end</span>

    <span class="ruby-string">&quot;Route defined!&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>
</pre>

<p>У вас будет область видимости запроса в:</p>

<p>get, head, post, put, delete, options, patch, link и unlink блоках;  before
и after фильтрах;  методах-помощниках;  шаблонах/отображениях.</p>

<h3 id="label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B4-D0-B5-D0-BB-D0-B5-D0-B3-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D1-8F">Область видимости делегирования<span><a href="#label-D0-9E-D0-B1-D0-BB-D0-B0-D1-81-D1-82-D1-8C+-D0-B2-D0-B8-D0-B4-D0-B8-D0-BC-D0-BE-D1-81-D1-82-D0-B8+-D0-B4-D0-B5-D0-BB-D0-B5-D0-B3-D0-B8-D1-80-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Область видимости делегирования просто перенаправляет методы в область
видимости класса. Однако, она не полностью ведет себя как область видимости
класса, так как у вас нет привязки к классу. Только методы, явно помеченные
для делегирования, будут доступны, а переменных/состояний области видимости
класса не будет (иначе говоря, у вас будет другой <code>self</code>
объект). Вы можете непосредственно добавить методы делегирования, используя
<code>Sinatra::Delegator.delegate :method_name</code>.</p>

<p>У вас будет контекст делегирования внутри:</p>

<p>привязки верхнего уровня, если вы сделали <code>require
&quot;sinatra&quot;</code>;  объекта, расширенного с помощью
<code>Sinatra::Delegator</code>.</p>

<p>Посмотрите сами в код: вот <a
href="https://github.com/sinatra/sinatra/blob/ca06364/lib/sinatra/base.rb#L1609-1633">примесь
Sinatra::Delegator</a> <a
href="https://github.com/sinatra/sinatra/blob/ca06364/lib/sinatra/main.rb#L28-30">расширяет
главный объект</a>.</p>

<h2 id="label-D0-9A-D0-BE-D0-BC-D0-B0-D0-BD-D0-B4-D0-BD-D0-B0-D1-8F+-D1-81-D1-82-D1-80-D0-BE-D0-BA-D0-B0">Командная строка<span><a href="#label-D0-9A-D0-BE-D0-BC-D0-B0-D0-BD-D0-B4-D0-BD-D0-B0-D1-8F+-D1-81-D1-82-D1-80-D0-BE-D0-BA-D0-B0">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> приложения могут быть
запущены напрямую:</p>

<pre>ruby myapp.rb [-h] [-x] [-q] [-e ENVIRONMENT] [-p PORT] [-o HOST] [-s HANDLER]</pre>

<p>Опции включают:</p>

<pre class="ruby"><span class="ruby-operator">-</span><span class="ruby-identifier">h</span> <span class="ruby-comment"># раздел помощи</span>
<span class="ruby-operator">-</span><span class="ruby-identifier">p</span> <span class="ruby-comment"># указание порта (по умолчанию 4567)</span>
<span class="ruby-operator">-</span><span class="ruby-identifier">o</span> <span class="ruby-comment"># указание хоста (по умолчанию 0.0.0.0)</span>
<span class="ruby-operator">-</span><span class="ruby-identifier">e</span> <span class="ruby-comment"># указание окружения, режима (по умолчанию development)</span>
<span class="ruby-operator">-</span><span class="ruby-identifier">s</span> <span class="ruby-comment"># указание rack сервера/обработчика (по умолчанию thin)</span>
<span class="ruby-operator">-</span><span class="ruby-identifier">q</span> <span class="ruby-comment"># включить тихий режим для сервера (по умолчанию выключен)</span>
<span class="ruby-operator">-</span><span class="ruby-identifier">x</span> <span class="ruby-comment"># включить мьютекс-блокировку (по умолчанию выключена)</span>
</pre>

<h3 id="label-Multi-threading">Multi-threading<span><a href="#label-Multi-threading">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p><em>Данный раздел является перефразированным <a
href="http://stackoverflow.com/questions/6278817/is-sinatra-multi-threaded/6282999#6282999)">ответом
пользователя Konstantin</a> на StackOverflow</em></p>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> не навязывает
каких-либо моделей параллелизма, но для этих целей можно использовать любой
<a href="../../../../../../Rack.html">Rack</a> обработчик, например <a
href="../../../../../../Thin.html">Thin</a>, Puma или <a
href="../../../../../../WEBrick.html">WEBrick</a>. Сама по себе <a
href="../../../../../../Sinatra.html">Sinatra</a> потокобезопасна, поэтому
нет никаких проблем в использовании поточной модели параллелизма в <a
href="../../../../../../Rack.html">Rack</a> обработчике. Это означает, что
когда запускается сервер, вы должны указать правильный метод вызова для
конкретного <a href="../../../../../../Rack.html">Rack</a> обработчика.
Пример ниже показывает, как можно запустить мультитредовый <a
href="../../../../../../Thin.html">Thin</a> сервер:</p>

<pre class="ruby"><span class="ruby-comment"># app.rb</span>

<span class="ruby-identifier">require</span> <span class="ruby-string">&#39;sinatra/base&#39;</span>

<span class="ruby-keyword">class</span> <span class="ruby-constant">App</span> <span class="ruby-operator">&lt;</span> <span class="ruby-constant">Sinatra</span><span class="ruby-operator">::</span><span class="ruby-constant">Base</span>
  <span class="ruby-identifier">get</span> <span class="ruby-string">&#39;/&#39;</span> <span class="ruby-keyword">do</span>
    <span class="ruby-string">&quot;Hello, World&quot;</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span>

<span class="ruby-constant">App</span>.<span class="ruby-identifier">run!</span>
</pre>

<p>Чтобы запустить сервер, вы должны выполнить следующую команду:</p>

<pre>thin --threaded start</pre>

<h2 id="label-D0-A1-D0-B8-D1-81-D1-82-D0-B5-D0-BC-D0-BD-D1-8B-D0-B5+-D1-82-D1-80-D0-B5-D0-B1-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D1-8F">Системные требования<span><a href="#label-D0-A1-D0-B8-D1-81-D1-82-D0-B5-D0-BC-D0-BD-D1-8B-D0-B5+-D1-82-D1-80-D0-B5-D0-B1-D0-BE-D0-B2-D0-B0-D0-BD-D0-B8-D1-8F">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Следующие версии Ruby официально поддерживаются: &lt;dl&gt;  &lt;dt&gt;Ruby
2.2&lt;/dt&gt;  &lt;dd&gt;  2.2 полностью поддерживается и рекомендуется. В
настоящее время нет  планов отказаться от официальной поддержки. 
&lt;/dd&gt;</p>

<p>&lt;dt&gt;Rubinius&lt;/dt&gt;  &lt;dd&gt;  Rubinius официально
поддерживается (Rubinius &gt;= 2.x). Рекомендуется  выполнить <code>gem
install puma</code>.  &lt;/dd&gt;</p>

<p>&lt;dt&gt;JRuby&lt;/dt&gt;  &lt;dd&gt;  Официально поддерживается последний
стабильный релиз JRuby. Не  рекомендуется использовать расширений на C в
JRuby. Рекомендуется  выполнить <code>gem install trinidad</code>. 
&lt;/dd&gt; &lt;/dl&gt;</p>

<p>Версии Ruby старше 2.2.2 больше не поддерживаются в <a
href="../../../../../../Sinatra.html">Sinatra</a> 2.0.</p>

<p>Мы также следим за предстоящими к выходу версиями Ruby.</p>

<p>Следующие реализации Ruby не поддерживаются официально, но известно, что на
них запускается Sinatra:</p>

<p>старые версии JRuby и Rubinius;  Ruby Enterprise Edition;  MacRuby, Maglev,
IronRuby;  Ruby 1.9.0 и 1.9.1 (настоятельно не рекомендуются к
использованию).</p>

<p>То, что версия официально не поддерживается, означает, что, если что-то не
работает на этой версии, а на поддерживаемой работает — это не наша
проблема, а их.</p>

<p>Мы также запускаем наши CI-тесты на ruby-head (будущие версии MRI), но мы
не можем ничего гарантировать, так как ведётся постоянная разработка.
Предполагается, что предстоящие релизы 2.x будут полностью поддерживаться.</p>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> должна работать на
любой операционной системе, в которой есть одна из указанных выше версий
Ruby.</p>

<p>Если вы запускаете MacRuby, вы должны выполнить <code>gem install
control_tower</code>.</p>

<p>Пока невозможно запустить <a
href="../../../../../../Sinatra.html">Sinatra</a> на Cardinal, SmallRuby,
BlueRuby и на любой версии Ruby старше 2.2.</p>

<h2 id="label-D0-9D-D0-B0+-D0-BE-D1-81-D1-82-D1-80-D0-B8-D0-B5">На острие<span><a href="#label-D0-9D-D0-B0+-D0-BE-D1-81-D1-82-D1-80-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>Если вы хотите использовать самый последний код <a
href="../../../../../../Sinatra.html">Sinatra</a>, не бойтесь запускать
свое приложение вместе с кодом из master ветки <a
href="../../../../../../Sinatra.html">Sinatra</a>, она весьма стабильна.</p>

<p>Мы также время от времени выпускаем предварительные версии, так что вы
можете делать так:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">sinatra</span> <span class="ruby-operator">-</span><span class="ruby-operator">-</span><span class="ruby-identifier">pre</span>
</pre>

<p>Чтобы воспользоваться некоторыми самыми последними возможностями.</p>

<h3 id="label-D0-A1+-D0-BF-D0-BE-D0-BC-D0-BE-D1-89-D1-8C-D1-8E+Bundler">С помощью Bundler<span><a href="#label-D0-A1+-D0-BF-D0-BE-D0-BC-D0-BE-D1-89-D1-8C-D1-8E+Bundler">&para;</a> <a href="#top">&uarr;</a></span></h3>

<p>Если вы хотите запускать свое приложение с последней версией <a
href="../../../../../../Sinatra.html">Sinatra</a>, то рекомендуем
использовать <a href="http://bundler.io">Bundler</a>.</p>

<p>Сначала установите Bundler, если у вас его еще нет:</p>

<pre class="ruby"><span class="ruby-identifier">gem</span> <span class="ruby-identifier">install</span> <span class="ruby-identifier">bundler</span>
</pre>

<p>Затем создайте файл <code>Gemfile</code> в директории вашего проекта:</p>

<pre class="ruby"><span class="ruby-identifier">source</span> <span class="ruby-string">&#39;https://rubygems.org&#39;</span>
<span class="ruby-identifier">gem</span> <span class="ruby-string">&#39;sinatra&#39;</span>, :<span class="ruby-identifier">github</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;sinatra/sinatra&#39;</span>

<span class="ruby-comment"># другие зависимости</span>
<span class="ruby-identifier">gem</span> <span class="ruby-string">&#39;haml&#39;</span>                    <span class="ruby-comment"># например, если используете haml</span>
</pre>

<p>Обратите внимание, вам нужно будет указывать все зависимости вашего
приложения в <code>Gemfile</code>. Однако, непосредственные зависимости <a
href="../../../../../../Sinatra.html">Sinatra</a> (Rack и <a
href="../../../../../../Tilt.html">Tilt</a>) Bundler автоматически скачает
и добавит.</p>

<p>Теперь вы можете запускать свое приложение так:</p>

<pre class="ruby"><span class="ruby-identifier">bundle</span> <span class="ruby-identifier">exec</span> <span class="ruby-identifier">ruby</span> <span class="ruby-identifier">myapp</span>.<span class="ruby-identifier">rb</span>
</pre>

<h2 id="label-D0-92-D0-B5-D1-80-D1-81-D0-B8-D0-B8">Версии<span><a href="#label-D0-92-D0-B5-D1-80-D1-81-D0-B8-D0-B8">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="../../../../../../Sinatra.html">Sinatra</a> использует <a
href="http://semver.org/">Semantic Versioning</a>, SemVer и SemVerTag.</p>

<h2 id="label-D0-94-D0-B0-D0-BB-D1-8C-D0-BD-D0-B5-D0-B9-D1-88-D0-B5-D0-B5+-D1-87-D1-82-D0-B5-D0-BD-D0-B8-D0-B5">Дальнейшее чтение<span><a href="#label-D0-94-D0-B0-D0-BB-D1-8C-D0-BD-D0-B5-D0-B9-D1-88-D0-B5-D0-B5+-D1-87-D1-82-D0-B5-D0-BD-D0-B8-D0-B5">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p><a href="http://www.sinatrarb.com/">Веб-сайт проекта</a> — Дополнительная 
документация, новости и ссылки на другие ресурсы.  <a
href="http://www.sinatrarb.com/contributing">Участие в проекте</a> —
Обнаружили  баг? Нужна помощь? Написали патч?  <a
href="https://github.com/sinatra/sinatra/issues">Отслеживание
проблем/ошибок</a>  <a href="https://twitter.com/sinatra">Twitter</a>  <a
href="http://groups.google.com/group/sinatrarb/topics">Группы рассылки</a> 
IRC: <a href="irc://chat.freenode.net/#sinatra">#sinatra</a> на <a
href="http://freenode.net">freenode.net</a>  <a
href="https://sinatrarb.slack.com">Sinatra и Друзья</a> на Slack, а так же 
<a href="https://sinatra-slack.herokuapp.com/">ссылка</a> для инвайта.  <a
href="https://github.com/sinatra/sinatra-book/">Sinatra Book</a> учебник и
сборник рецептов  <a href="http://recipes.sinatrarb.com/">Sinatra
Recipes</a> сборник рецептов  API документация к <a
href="http://www.rubydoc.info/gems/sinatra">последнему релизу</a>  или <a
href="http://www.rubydoc.info/github/sinatra/sinatra">текущему HEAD</a> на 
<a href="http://www.rubydoc.info">www.rubydoc.info</a>/  <a
href="https://travis-ci.org/sinatra/sinatra">Сервер непрерывной
интеграции</a></p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

