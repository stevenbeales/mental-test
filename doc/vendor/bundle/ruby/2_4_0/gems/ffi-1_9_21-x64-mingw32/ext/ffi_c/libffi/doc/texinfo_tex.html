<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>texinfo.tex - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "../../../../../../../../../../";
  var index_rel_prefix = "../../../../../../../../../../";
</script>

<script src="../../../../../../../../../../js/jquery.js"></script>
<script src="../../../../../../../../../../js/darkfish.js"></script>

<link href="../../../../../../../../../../css/fonts.css" rel="stylesheet">
<link href="../../../../../../../../../../css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="../../../../../../../../../../index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="../../../../../../../../../../table_of_contents.html#pages">Pages</a>
    <a href="../../../../../../../../../../table_of_contents.html#classes">Classes</a>
    <a href="../../../../../../../../../../table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="../../../../../../../../../../Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../../../../../Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../../../../../Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../config_ru.html">config.ru</a>
  
    <li><a href="../../../../../../../../../../db/cesdr_json.html">cesdr.json</a>
  
    <li><a href="../../../../../../../../../../gitpush_bat.html">gitpush.bat</a>
  
    <li><a href="../../../../../../../../../../run_bat.html">run.bat</a>
  
    <li><a href="../../../../../../../../../../spec/examples_txt.html">examples</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/_guard-core.html">_guard-core</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/_guard-core_bat.html">_guard-core.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/coderay.html">coderay</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/coderay_bat.html">coderay.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/guard.html">guard</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/guard_bat.html">guard.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/htmldiff.html">htmldiff</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/htmldiff_bat.html">htmldiff.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/ldiff.html">ldiff</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/ldiff_bat.html">ldiff.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/listen.html">listen</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/listen_bat.html">listen.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/pry.html">pry</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/pry_bat.html">pry.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rackup.html">rackup</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rackup_bat.html">rackup.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rake.html">rake</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rake_bat.html">rake.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rerun.html">rerun</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rerun_bat.html">rerun.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rspec.html">rspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rspec_bat.html">rspec.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rubocop.html">rubocop</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/rubocop_bat.html">rubocop.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-parse.html">ruby-parse</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-parse_bat.html">ruby-parse.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-rewrite.html">ruby-rewrite</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/ruby-rewrite_bat.html">ruby-rewrite.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/thor.html">thor</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/thor_bat.html">thor.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/tilt.html">tilt</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/bin/tilt_bat.html">tilt.bat</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/oj-3_4_0/gem_build_complete.html">gem.build_complete</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/oj-3_4_0/gem_make_out.html">gem_make.out</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/rainbow-2_2_2/gem_build_complete.html">gem.build_complete</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/rainbow-2_2_2/gem_make_out.html">gem_make.out</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/wdm-0_1_1/gem_build_complete.html">gem.build_complete</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/wdm-0_1_1/gem_make_out.html">gem_make.out</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/extensions/x64-mingw32/2_4_0/wdm-0_1_1/mkmf_log.html">mkmf.log</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activemodel-5_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activemodel-5_1_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activemodel-5_1_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activerecord-5_1_5/lib/active_record/railties/databases_rake.html">databases.rake</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activesupport-5_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activesupport-5_1_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/activesupport-5_1_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/CODE_OF_CONDUCT_md.html">CODE_OF_CONDUCT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/alexa_verifier_gemspec.html">alexa_verifier.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/alexa_verifier-1_0_0/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/arel-8_0_0/History_txt.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/arel-8_0_0/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/arel-8_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/LICENSE_MIT.html">LICENSE.MIT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/README_YARD_md.html">README.YARD</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ast-2_4_0/ast_gemspec.html">ast.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/coderay-1_1_2/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/coderay-1_1_2/README_INDEX_rdoc.html">README_INDEX</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/concurrent-ruby-1_0_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/concurrent-ruby-1_0_5/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/concurrent-ruby-1_0_5/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/CONTRIBUTE_markdown.html">CONTRIBUTE.markdown</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/TODO.html">TODO</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/config/database_yml_example.html">database.yml.example</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/db/sqlite_databases_go_here.html">sqlite_databases_go_here</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/features/example_feature.html">example.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/features/example_multiple_db_feature.html">example_multiple_db.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/examples/features/example_multiple_orm_feature.html">example_multiple_orm.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_feature.html">cleaning.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_default_strategy_feature.html">cleaning_default_strategy.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_multiple_dbs_feature.html">cleaning_multiple_dbs.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/features/cleaning_multiple_orms_feature.html">cleaning_multiple_orms.feature</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_1/spec/rcov_opts.html">rcov.opts</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/CONTRIBUTE_markdown.html">CONTRIBUTE.markdown</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/Gemfile_lock.html">Gemfile.lock</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/database_cleaner-1_6_2/TODO.html">TODO</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Code-of-Conduct_md.html">Code-of-Conduct</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Contributing_md.html">Contributing</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/History_md.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/License_md.html">License</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Manifest_txt.html">Manifest</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/bin/htmldiff.html">htmldiff</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/bin/ldiff.html">ldiff</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/docs/COPYING_txt.html">COPYING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/docs/artistic_txt.html">artistic</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/spec/fixtures/ds1_csv.html">ds1.csv</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/diff-lcs-1_3/spec/fixtures/ds2_csv.html">ds2.csv</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/COPYING.html">COPYING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_libffi.html">ChangeLog.libffi</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_libffi-3_1.html">ChangeLog.libffi-3.1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_libgcj.html">ChangeLog.libgcj</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ChangeLog_v1.html">ChangeLog.v1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/README.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/acinclude_m4.html">acinclude.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autogen_sh.html">autogen.sh</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_0.html">output.0</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_1.html">output.1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_2.html">output.2</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/output_3.html">output.3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/requests.html">requests</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_0.html">traces.0</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_1.html">traces.1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_2.html">traces.2</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/autom4te_cache/traces_3.html">traces.3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/compile.html">compile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/config_guess.html">config.guess</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/config_sub.html">config.sub</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/configure.html">configure</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/configure_ac.html">configure.ac</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/configure_host.html">configure.host</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/depcomp.html">depcomp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/mdate-sh.html">mdate-sh</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/texinfo_tex.html">texinfo.tex</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/doc/version_texi.html">version.texi</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/fficonfig_h_in.html">fficonfig.h.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/fficonfig_h_in~.html">fficonfig.h.in~</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/generate-darwin-source-and-headers_py.html">generate-darwin-source-and-headers.py</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/include/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/include/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/install-sh.html">install-sh</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libffi_map_in.html">libffi.map.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libffi_pc_in.html">libffi.pc.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libffi_xcodeproj/project_pbxproj.html">project.pbxproj</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libtool-ldflags.html">libtool-ldflags</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/libtool-version.html">libtool-version</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/ltmain_sh.html">ltmain.sh</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/asmcfi_m4.html">asmcfi.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_append_flag_m4.html">ax_append_flag.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_cc_maxopt_m4.html">ax_cc_maxopt.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_cflags_warn_all_m4.html">ax_cflags_warn_all.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_check_compile_flag_m4.html">ax_check_compile_flag.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_compiler_vendor_m4.html">ax_compiler_vendor.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_configure_args_m4.html">ax_configure_args.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_enable_builddir_m4.html">ax_enable_builddir.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_gcc_archflag_m4.html">ax_gcc_archflag.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/m4/ax_gcc_x86_cpuid_m4.html">ax_gcc_x86_cpuid.m4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_3.html">ffi.3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_call_3.html">ffi_call.3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_prep_cif_3.html">ffi_prep_cif.3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/man/ffi_prep_cif_var_3.html">ffi_prep_cif_var.3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/missing.html">missing</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/msvcc_sh.html">msvcc.sh</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/aarch64/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/alpha/osf_S.html">osf.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/arc/arcompact_S.html">arcompact.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/arm/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/avr32/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/bfin/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/cris/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/frv/eabi_S.html">eabi.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/ia64/unix_S.html">unix.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/m32r/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/m68k/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/m88k/obsd_S.html">obsd.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/metag/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/microblaze/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/mips/n32_S.html">n32.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/mips/o32_S.html">o32.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/moxie/eabi_S.html">eabi.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/nios2/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/or1k/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/pa/hpux32_S.html">hpux32.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/pa/linux_S.html">linux.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/aix_S.html">aix.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/aix_closure_S.html">aix_closure.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/darwin_S.html">darwin.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/darwin_closure_S.html">darwin_closure.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/linux64_S.html">linux64.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/linux64_closure_S.html">linux64_closure.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/ppc_closure_S.html">ppc_closure.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/powerpc/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/s390/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sh/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sh64/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sparc/v8_S.html">v8.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/sparc/v9_S.html">v9.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/tile/tile_S.html">tile.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/vax/elfbsd_S.html">elfbsd.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/unix64_S.html">unix64.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/win64_S.html">win64.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/x86/win64_intel_S.html">win64_intel.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/src/xtensa/sysv_S.html">sysv.S</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/stamp-h_in.html">stamp-h.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/Makefile_am.html">Makefile.am</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/Makefile_in.html">Makefile.in</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/config/default_exp.html">default.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/lib/libffi_exp.html">libffi.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/lib/target-libpath_exp.html">target-libpath.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/lib/wrapper_exp.html">wrapper.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/libffi_call/call_exp.html">call.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/libffi_complex/complex_exp.html">complex.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ext/ffi_c/libffi/testsuite/libffi_go/go_exp.html">go.exp</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/ffi_gemspec.html">ffi.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/gen/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/aarch64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/arm-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-cygwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-darwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-freebsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-gnu/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-netbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-openbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/i386-windows/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/ia64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/mips-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/mips64el-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/mipsel-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc-aix/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc-darwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/powerpc64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/s390-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/s390x-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparc-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparc-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparc64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/sparcv9-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-cygwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-darwin/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-freebsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-linux/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-netbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-openbsd/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-solaris/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/lib/ffi/platform/x86_64-windows/types_conf.html">types.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/libtest/GNUmakefile.html">GNUmakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/ffi/LICENSE_SPECS.html">LICENSE.SPECS</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/ffi/embed-test/ext/Makefile.html">Makefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/ffi/fixtures/GNUmakefile.html">GNUmakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ffi-1_9_21-x64-mingw32/spec/spec_opts.html">spec.opts</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/CONTRIBUTORS_md.html">CONTRIBUTORS</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/changelog_txt.html">changelog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/formatador-0_2_5/formatador_gemspec.html">formatador.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/lib/guard/templates/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/man/guard_1.html">guard.1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-2_14_2/man/guard_1_html.html">guard.1.html</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-compat-1_2_1/guard-compat_gemspec.html">guard-compat.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/gemfiles/Gemfile_rspec-2_99.html">Gemfile.rspec-2.99</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/gemfiles/Gemfile_rspec-3_4.html">Gemfile.rspec-3.4</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/gemfiles/common.html">common</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/guard-rspec_gemspec.html">guard-rspec.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/guard-rspec-4_7_3/lib/guard/rspec/templates/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-3_2_x.html">Gemfile.rails-3.2.x</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-4_0_x.html">Gemfile.rails-4.0.x</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-4_1_x.html">Gemfile.rails-4.1.x</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-4_2_x.html">Gemfile.rails-4.2.x</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-5_0_x.html">Gemfile.rails-5.0.x</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-5_1_x.html">Gemfile.rails-5.1.x</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/gemfiles/Gemfile_rails-master.html">Gemfile.rails-master</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/i18n-0_9_5/test/test_data/locales/de_po.html">de.po</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/Appraisals.html">Appraisals</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/CODE_OF_CONDUCT_md.html">CODE_OF_CONDUCT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/UPGRADE_GUIDE_md.html">UPGRADE_GUIDE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_0_0_gemfile.html">activerecord_5.0.0.gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_0_0_gemfile_lock.html">activerecord_5.0.0.gemfile.lock</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_1_0_gemfile.html">activerecord_5.1.0.gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/gemfiles/activerecord_5_1_0_gemfile_lock.html">activerecord_5.1.0.gemfile.lock</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/jsonb_accessor-1_0_0/jsonb_accessor_gemspec.html">jsonb_accessor.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/listen-3_1_5/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/little-plugger-1_1_4/History_txt.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/little-plugger-1_1_4/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/little-plugger-1_1_4/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/History_txt.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/logging_gemspec.html">logging.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/logging-2_2_2/script/bootstrap.html">bootstrap</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/MIT_LICENSE.html">MIT_LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/lumberjack-1_0_12/VERSION.html">VERSION</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/method_source-0_9_0/method_source_gemspec.html">method_source.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/Manifest_txt.html">Manifest</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/minitest-5_11_3/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/multi_json-1_13_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/mustermann-1_0_2/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/mustermann-1_0_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/mustermann-1_0_2/mustermann_gemspec.html">mustermann.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/nenv-0_3_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/nenv-0_3_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/nenv-0_3_0/nenv_gemspec.html">nenv.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/notiffany-0_1_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/notiffany-0_1_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/ext/oj/Makefile.html">Makefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/ext/oj/oj-x64-mingw32_def.html">oj-x64-mingw32.def</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Advanced_md.html">Advanced</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Compatibility_md.html">Compatibility</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Custom_md.html">Custom</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Encoding_md.html">Encoding</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/JsonGem_md.html">JsonGem</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Modes_md.html">Modes</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Options_md.html">Options</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Rails_md.html">Rails</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/Security_md.html">Security</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/oj-3_4_0/pages/WAB_md.html">WAB</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parallel-1_12_1/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/AST_FORMAT_md.html">AST_FORMAT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/CUSTOMIZATION_md.html">CUSTOMIZATION</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/INTERNALS_md.html">INTERNALS</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/lib/parser/lexer_rl.html">lexer.rl</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_0/parser_gemspec.html">parser.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/AST_FORMAT_md.html">AST_FORMAT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/CUSTOMIZATION_md.html">CUSTOMIZATION</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/INTERNALS_md.html">INTERNALS</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/lib/parser/lexer_rl.html">lexer.rl</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_1/parser_gemspec.html">parser.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/AST_FORMAT_md.html">AST_FORMAT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/CUSTOMIZATION_md.html">CUSTOMIZATION</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/INTERNALS_md.html">INTERNALS</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/doc/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/lib/parser/lexer_rl.html">lexer.rl</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/parser-2_5_0_2/parser_gemspec.html">parser.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/BSDL.html">BSDL</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ChangeLog.html">ChangeLog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Contributors_rdoc.html">Contributors</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Manifest_txt.html">Manifest</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/POSTGRES.html">POSTGRES</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README-OS_X_rdoc.html">README-OS_X</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README-Windows_rdoc.html">README-Windows</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README_ja_rdoc.html">README.ja</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/Rakefile_cross.html">Rakefile.cross</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/errorcodes_def.html">errorcodes.def</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/errorcodes_txt.html">errorcodes</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/vc/pg_sln.html">pg.sln</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/vc/pg_18/pg_vcproj.html">pg.vcproj</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/ext/vc/pg_19/pg_19_vcproj.html">pg_19.vcproj</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pg-1_0_0-x64-mingw32/spec/data/expected_trace_out.html">expected_trace.out</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/powerpack-0_1_1/powerpack_gemspec.html">powerpack.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/pry-0_11_3/lib/pry/slop/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/COPYING.html">COPYING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/HISTORY_md.html">HISTORY</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/SPEC.html">SPEC</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/contrib/rdoc_css.html">rdoc.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/example/lobster_ru.html">lobster.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/example/protectedlobster_ru.html">protectedlobster.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/rack_gemspec.html">rack.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/comment_ru.html">comment.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/end_ru.html">end.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/line_ru.html">line.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/builder/options_ru.html">options.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/folder/test_js.html">test.js</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/fonts/font_eot.html">font.eot</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/images/image_png.html">image.png</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/index_html.html">index.html</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/javascripts/app_js.html">app.js</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/assets/stylesheets/app_css.html">app.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/lighttpd_conf.html">lighttpd.conf</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/test+directory/test+file.html">test+file</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/test_fcgi.html">test.fcgi</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/cgi/test_ru.html">test.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/bad_robots.html">bad_robots</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/content_type_and_no_filename.html">content_type_and_no_filename</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/empty.html">empty</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/fail_16384_nofile.html">fail_16384_nofile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/file1_txt.html">file1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_and_modification_param.html">filename_and_modification_param</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_and_no_name.html">filename_and_no_name</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_encoded_words.html">filename_with_encoded_words</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_escaped_quotes.html">filename_with_escaped_quotes</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_escaped_quotes_and_modification_param.html">filename_with_escaped_quotes_and_modification_param</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_null_byte.html">filename_with_null_byte</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_percent_escaped_quotes.html">filename_with_percent_escaped_quotes</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_single_quote.html">filename_with_single_quote</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_percentages.html">filename_with_unescaped_percentages</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_percentages2.html">filename_with_unescaped_percentages2</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_percentages3.html">filename_with_unescaped_percentages3</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/filename_with_unescaped_quotes.html">filename_with_unescaped_quotes</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/ie.html">ie</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/mixed_files.html">mixed_files</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/nested.html">nested</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/none.html">none</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/quoted.html">quoted</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/semicolon.html">semicolon</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/text.html">text</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/three_files_three_fields.html">three_files_three_fields</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/unity3d_wwwform.html">unity3d_wwwform</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/multipart/webkit.html">webkit</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/rackup/config_ru.html">config.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/static/another/index_html.html">index.html</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/static/foo_html.html">foo.html</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-2_0_4/test/static/index_html.html">index.html</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/License.html">License</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-protection-2_0_1/rack-protection_gemspec.html">rack-protection.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-test-0_8_2/History_md.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-test-0_8_2/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rack-test-0_8_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/README_markdown.html">README.markdown</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rainbow-3_0_0/rainbow_gemspec.html">rainbow.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/CONTRIBUTING_rdoc.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/History_rdoc.html">History</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/MIT-LICENSE.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/README_rdoc.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/command_line_usage_rdoc.html">command_line_usage</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/example/Rakefile1.html">Rakefile1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/example/Rakefile2.html">Rakefile2</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/glossary_rdoc.html">glossary</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/proto_rake_rdoc.html">proto_rake</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/rake_1.html">rake.1</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/rakefile_rdoc.html">rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/doc/rational_rdoc.html">rational</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rake-12_3_0/rake_gemspec.html">rake.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/CODE_OF_CONDUCT_md.html">CODE_OF_CONDUCT</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/bin/setup.html">setup</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ralyxa-1_6_2/ralyxa_gemspec.html">ralyxa.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/Guardfile.html">Guardfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/ext/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-fsevent-0_10_2/rb-fsevent_gemspec.html">rb-fsevent.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rb-inotify-0_9_10/rb-inotify_gemspec.html">rb-inotify.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rerun-0_13_0/rerun_gemspec.html">rerun.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-3_7_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-3_7_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-core-3_7_1/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-core-3_7_1/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-core-3_7_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-expectations-3_7_0/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-expectations-3_7_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-expectations-3_7_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-mocks-3_7_0/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-mocks-3_7_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-mocks-3_7_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-support-3_7_1/Changelog_md.html">Changelog</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-support-3_7_1/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rspec-support-3_7_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rubocop-0_52_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/rubocop-0_52_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby-progressbar-1_9_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby-progressbar-1_9_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby-progressbar-1_9_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby_dep-1_5_0/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/ruby_dep-1_5_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/LICENSE_txt.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/shellany-0_0_1/shellany_gemspec.html">shellany.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/AUTHORS_md.html">AUTHORS</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/CONTRIBUTING_md.html">CONTRIBUTING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/MAINTENANCE_md.html">MAINTENANCE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_de_md.html">README.de</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_es_md.html">README.es</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_fr_md.html">README.fr</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_hu_md.html">README.hu</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_ja_md.html">README.ja</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_ko_md.html">README.ko</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_pt-br_md.html">README.pt-br</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_pt-pt_md.html">README.pt-pt</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_ru_md.html">README.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/README_zh_md.html">README.zh</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/SECURITY_md.html">SECURITY</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/VERSION.html">VERSION</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/examples/stream_ru.html">stream.ru</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-2_0_1/sinatra_gemspec.html">sinatra.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-activerecord-2_0_13/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-activerecord-2_0_13/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/sinatra-activerecord-2_0_13/lib/sinatra/activerecord/tasks_rake.html">tasks.rake</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thor-0_20_0/LICENSE_md.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/JRubyCacheBackendLibrary_java.html">JRubyCacheBackendLibrary.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/ConcurrentHashMap_java.html">ConcurrentHashMap.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/ConcurrentHashMapV8_java.html">ConcurrentHashMapV8.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/LongAdder_java.html">LongAdder.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/Striped64_java.html">Striped64.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/nounsafe/ConcurrentHashMapV8_java.html">ConcurrentHashMapV8.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/nounsafe/LongAdder_java.html">LongAdder.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166e/nounsafe/Striped64_java.html">Striped64.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/org/jruby/ext/thread_safe/jsr166y/ThreadLocalRandom_java.html">ThreadLocalRandom.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/ext/thread_safe/JrubyCacheBackendService_java.html">JrubyCacheBackendService.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/spec/src/thread_safe/SecurityManager_java.html">SecurityManager.java</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/tasks/update_doc_rake.html">update_doc.rake</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/thread_safe_gemspec.html">thread_safe.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/thread_safe-0_3_6/yard-template/default/fulldoc/html/css/common_css.html">common.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/COPYING.html">COPYING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/Gemfile.html">Gemfile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/HACKING.html">HACKING</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/docs/TEMPLATES_md.html">TEMPLATES</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/docs/common_css.html">common.css</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/man/index_txt.html">index</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/man/tilt_1_ronn.html">tilt.1.ronn</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/locals_mab.html">locals.mab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/markaby_mab.html">markaby.mab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/markaby_other_static_mab.html">markaby_other_static.mab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/render_twice_mab.html">render_twice.mab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/scope_mab.html">scope.mab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/markaby/yielding_mab.html">yielding.mab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/tilt_lesstemplate_test_less.html">tilt_lesstemplate_test.less</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/test/tilt_prawntemplate_prawn.html">tilt_prawntemplate.prawn</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tilt-2_0_8/tilt_gemspec.html">tilt.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/CHANGES_md.html">CHANGES</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/iso3166_tab.html">iso3166.tab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/leapseconds.html">leapseconds</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/zone_tab.html">zone.tab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/test/zoneinfo/zone1970_tab.html">zone1970.tab</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/tzinfo-1_2_5/tzinfo_gemspec.html">tzinfo.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/CHANGELOG_md.html">CHANGELOG</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/MIT-LICENSE_txt.html">MIT-LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/Rakefile.html">Rakefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/unicode-display_width-1_3_0/unicode-display_width_gemspec.html">unicode-display_width.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/LICENSE.html">LICENSE</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/README_md.html">README</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/Makefile.html">Makefile</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_sln.html">wdm.sln</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_vcxproj.html">wdm.vcxproj</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_vcxproj_filters.html">wdm.vcxproj.filters</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/gems/wdm-0_1_1/ext/wdm/wdm_ext-x64-mingw32_def.html">wdm_ext-x64-mingw32.def</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/activemodel-5_1_5_gemspec.html">activemodel-5.1.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/activerecord-5_1_5_gemspec.html">activerecord-5.1.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/activesupport-5_1_5_gemspec.html">activesupport-5.1.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/alexa_verifier-1_0_0_gemspec.html">alexa_verifier-1.0.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/arel-8_0_0_gemspec.html">arel-8.0.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/ast-2_4_0_gemspec.html">ast-2.4.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/coderay-1_1_2_gemspec.html">coderay-1.1.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/concurrent-ruby-1_0_5_gemspec.html">concurrent-ruby-1.0.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/database_cleaner-1_6_1_gemspec.html">database_cleaner-1.6.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/diff-lcs-1_3_gemspec.html">diff-lcs-1.3.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/ffi-1_9_21-x64-mingw32_gemspec.html">ffi-1.9.21-x64-mingw32.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/formatador-0_2_5_gemspec.html">formatador-0.2.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/guard-2_14_2_gemspec.html">guard-2.14.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/guard-compat-1_2_1_gemspec.html">guard-compat-1.2.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/guard-rspec-4_7_3_gemspec.html">guard-rspec-4.7.3.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/i18n-0_9_5_gemspec.html">i18n-0.9.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/jsonb_accessor-1_0_0_gemspec.html">jsonb_accessor-1.0.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/listen-3_1_5_gemspec.html">listen-3.1.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/little-plugger-1_1_4_gemspec.html">little-plugger-1.1.4.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/logging-2_2_2_gemspec.html">logging-2.2.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/lumberjack-1_0_12_gemspec.html">lumberjack-1.0.12.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/method_source-0_9_0_gemspec.html">method_source-0.9.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/minitest-5_11_3_gemspec.html">minitest-5.11.3.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/multi_json-1_13_1_gemspec.html">multi_json-1.13.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/mustermann-1_0_2_gemspec.html">mustermann-1.0.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/nenv-0_3_0_gemspec.html">nenv-0.3.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/notiffany-0_1_1_gemspec.html">notiffany-0.1.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/oj-3_4_0_gemspec.html">oj-3.4.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/parallel-1_12_1_gemspec.html">parallel-1.12.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/parser-2_5_0_0_gemspec.html">parser-2.5.0.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/parser-2_5_0_1_gemspec.html">parser-2.5.0.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/parser-2_5_0_2_gemspec.html">parser-2.5.0.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/pg-1_0_0-x64-mingw32_gemspec.html">pg-1.0.0-x64-mingw32.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/powerpack-0_1_1_gemspec.html">powerpack-0.1.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/pry-0_11_3_gemspec.html">pry-0.11.3.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rack-2_0_4_gemspec.html">rack-2.0.4.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rack-protection-2_0_1_gemspec.html">rack-protection-2.0.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rack-test-0_8_2_gemspec.html">rack-test-0.8.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rainbow-3_0_0_gemspec.html">rainbow-3.0.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rake-12_3_0_gemspec.html">rake-12.3.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/ralyxa-1_6_2_gemspec.html">ralyxa-1.6.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rb-fsevent-0_10_2_gemspec.html">rb-fsevent-0.10.2.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rb-inotify-0_9_10_gemspec.html">rb-inotify-0.9.10.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rerun-0_13_0_gemspec.html">rerun-0.13.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-3_7_0_gemspec.html">rspec-3.7.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-core-3_7_1_gemspec.html">rspec-core-3.7.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-expectations-3_7_0_gemspec.html">rspec-expectations-3.7.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-mocks-3_7_0_gemspec.html">rspec-mocks-3.7.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rspec-support-3_7_1_gemspec.html">rspec-support-3.7.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/rubocop-0_52_1_gemspec.html">rubocop-0.52.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/ruby-progressbar-1_9_0_gemspec.html">ruby-progressbar-1.9.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/ruby_dep-1_5_0_gemspec.html">ruby_dep-1.5.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/shellany-0_0_1_gemspec.html">shellany-0.0.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/sinatra-2_0_1_gemspec.html">sinatra-2.0.1.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/sinatra-activerecord-2_0_13_gemspec.html">sinatra-activerecord-2.0.13.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/thor-0_20_0_gemspec.html">thor-0.20.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/thread_safe-0_3_6_gemspec.html">thread_safe-0.3.6.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/tilt-2_0_8_gemspec.html">tilt-2.0.8.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/tzinfo-1_2_5_gemspec.html">tzinfo-1.2.5.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/unicode-display_width-1_3_0_gemspec.html">unicode-display_width-1.3.0.gemspec</a>
  
    <li><a href="../../../../../../../../../../vendor/bundle/ruby/2_4_0/specifications/wdm-0_1_1_gemspec.html">wdm-0.1.1.gemspec</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page vendor/bundle/ruby/2.4.0/gems/ffi-1.9.21-x64-mingw32/ext/ffi_c/libffi/doc/texinfo.tex">

<p>% texinfo.tex – TeX macros to handle Texinfo files. %  % Load plain if
necessary, i.e., if running under initex. expandafterifxcsname
fmtnameendcsnamerelaxinput plainfi % deftexinfoversion{2013-02-01.11} % %
Copyright 1985, 1986, 1988, 1990, 1991, 1992, 1993, 1994, 1995, % 1996,
1997, 1998, 1999, 2000, 2001, 2002, 2003, 2004, 2005, 2006, % 2007, 2008,
2009, 2010, 2011, 2012, 2013 Free Software Foundation, Inc. % % This
texinfo.tex file is free software: you can redistribute it and/or % modify
it under the terms of the GNU General Public <a
href="../../../../../diff-lcs-1_3/License_md.html">License</a> as %
published by the Free Software Foundation, either version 3 of the % <a
href="../../../../../diff-lcs-1_3/License_md.html">License</a>, or (at your
option) any later version. % % This texinfo.tex file is distributed in the
hope that it will be % useful, but WITHOUT ANY WARRANTY; without even the
implied warranty % of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. 
See the GNU % General Public <a
href="../../../../../diff-lcs-1_3/License_md.html">License</a> for more
details. % % You should have received a copy of the GNU General Public <a
href="../../../../../diff-lcs-1_3/License_md.html">License</a> % along with
this program.  If not, see &lt;<a
href="http://www.gnu.org/licenses">www.gnu.org/licenses</a>/&gt;. % % As a
special exception, when this file is read by TeX when processing % a
Texinfo source document, you may use the result without % restriction. This
<a href="../../../../../../../../../../Exception.html">Exception</a> is an
additional permission under section 7 % of the GNU General Public <a
href="../../../../../diff-lcs-1_3/License_md.html">License</a>, version 3
(“GPLv3”). % % Please try the latest version of texinfo.tex before
submitting bug % reports; you can get the latest version from: %   <a
href="http://ftp.gnu.org/gnu/texinfo">ftp.gnu.org/gnu/texinfo</a>/ (the
Texinfo release area), or %   <a
href="http://ftpmirror.gnu.org/texinfo">ftpmirror.gnu.org/texinfo</a>/
(same, via a mirror), or %   <a
href="http://www.gnu.org/software/texinfo">www.gnu.org/software/texinfo</a>/
(the Texinfo home page) % The texinfo.tex in any given distribution could
well be out % of date, so if that&#39;s what you&#39;re using, please
check. % % Send bug reports to bug-texinfo@gnu.org.  Please include
including a % complete document in each bug report with which we can
reproduce the % problem.  Patches are, of course, greatly appreciated. % %
To process a Texinfo manual with TeX, it&#39;s most reliable to use the %
texi2dvi shell script that comes with the distribution.  For a simple %
manual foo.texi, however, you can get away with this: %   tex foo.texi %  
texindex foo.?? %   tex foo.texi %   tex foo.texi %   dvips foo.dvi -o  #
or whatever; this makes foo.ps. % The extra TeX runs get the
cross-reference information correct. % Sometimes one run after texindex
suffices, and sometimes you need more % than two; texi2dvi does it as many
times as necessary. % % It is possible to adapt texinfo.tex for other
languages, to some % extent.  You can get the existing language-specific
files from the % full Texinfo distribution. % % The GNU Texinfo home page
is <a
href="http://www.gnu.org/software/texinfo">www.gnu.org/software/texinfo</a>.</p>

<p>message{Loading texinfo [version texinfoversion]:}</p>

<p>% If in a .fmt file, print the version number % and turn on active
characters that we couldn&#39;t do earlier because % they might have
appeared in the input file name. everyjob{message{[Texinfo version
texinfoversion]}%</p>

<pre>\catcode`+=\active \catcode`\_=\active}</pre>

<p>chardefother=12</p>

<p>% We never want plain&#39;s outer definition of + in Texinfo. % For @tex,
we can use tabalign. let+ = relax</p>

<p>% Save some plain tex macros whose names we will redefine. letptexb=b
letptexbullet=bullet letptexc=c letptexcomma=, letptexdot=.
letptexdots=dots letptexend=end letptexequiv=equiv letptexexclam=!
letptexfootnote=footnote letptexgtr=&gt; letptexhat=^ letptexi=i
letptexindent=indent letptexinsert=insert letptexlbrace={ letptexless=&lt;
letptexnewwritenewwrite letptexnoindent=noindent letptexplus=+
letptexraggedright=raggedright letptexrbrace=} letptexslash=/ letptexstar=*
letptext=t letptextop=top {catcode`&#39;=active
globalletptexquoteright&#39;}% active in plain&#39;s math mode</p>

<p>% If this character appears in an error message or help string, it % starts
a new line in the output. newlinechar = `^^J</p>

<p>% Use TeX 3.0&#39;s inputlineno to get the line number, for better error %
messages, but if we&#39;re using an old version of TeX, don&#39;t do
anything. % ifxinputlinenothisisundefined</p>

<pre>\let\linenumber = \empty % Pre-3.0.</pre>

<p>else</p>

<pre>\def\linenumber{l.\the\inputlineno:\space}</pre>

<p>fi</p>

<p>% Set up fixed words for English if not already set.
ifxputwordAppendixundefined  gdefputwordAppendix{Appendix}fi
ifxputwordChapterundefined   gdefputwordChapter{Chapter}fi
ifxputworderrorundefined     gdefputworderror{error}fi
ifxputwordfileundefined      gdefputwordfile{file}fi ifxputwordinundefined 
gdefputwordin{in}fi ifxputwordIndexIsEmptyundefined      
gdefputwordIndexIsEmpty{(Index is empty)}fi
ifxputwordIndexNonexistentundefined   gdefputwordIndexNonexistent{(Index is
nonexistent)}fi ifxputwordInfoundefined      gdefputwordInfo{Info}fi
ifxputwordInstanceVariableofundefined
gdefputwordInstanceVariableof{Instance Variable of}fi
ifxputwordMethodonundefined  gdefputwordMethodon{Method on}fi
ifxputwordNoTitleundefined   gdefputwordNoTitle{No Title}fi
ifxputwordofundefined        gdefputwordof{of}fi ifxputwordonundefined     
gdefputwordon{on}fi ifxputwordpageundefined      gdefputwordpage{page}fi
ifxputwordsectionundefined   gdefputwordsection{section}fi
ifxputwordSectionundefined   gdefputwordSection{Section}fi
ifxputwordseeundefined       gdefputwordsee{see}fi ifxputwordSeeundefined  
gdefputwordSee{See}fi ifxputwordShortTOCundefined 
gdefputwordShortTOC{Short Contents}fi ifxputwordTOCundefined      
gdefputwordTOC{Table of Contents}fi % ifxputwordMJanundefined
gdefputwordMJan{January}fi ifxputwordMFebundefined
gdefputwordMFeb{February}fi ifxputwordMMarundefined
gdefputwordMMar{March}fi ifxputwordMAprundefined gdefputwordMApr{April}fi
ifxputwordMMayundefined gdefputwordMMay{May}fi ifxputwordMJunundefined
gdefputwordMJun{June}fi ifxputwordMJulundefined gdefputwordMJul{July}fi
ifxputwordMAugundefined gdefputwordMAug{August}fi ifxputwordMSepundefined
gdefputwordMSep{September}fi ifxputwordMOctundefined
gdefputwordMOct{October}fi ifxputwordMNovundefined
gdefputwordMNov{November}fi ifxputwordMDecundefined
gdefputwordMDec{December}fi % ifxputwordDefmacundefined   
gdefputwordDefmac{Macro}fi ifxputwordDefspecundefined  
gdefputwordDefspec{Special Form}fi ifxputwordDefvarundefined   
gdefputwordDefvar{Variable}fi ifxputwordDefoptundefined   
gdefputwordDefopt{User Option}fi ifxputwordDeffuncundefined  
gdefputwordDeffunc{Function}fi</p>

<p>% Since the category of space is not known, we have to be careful.
chardefspacecat = 10 defspaceisspace{catcode`\ =spacecat}</p>

<p>% sometimes characters are active, so we need control sequences.
chardefampChar   = `&amp; chardefcolonChar = `: chardefcommaChar = `,
chardefdashChar  = `- chardefdotChar   = `. chardefexclamChar= `!
chardefhashChar  = `# chardeflquoteChar= `` chardefquestChar = `?
chardefrquoteChar= `&#39; chardefsemiChar  = `; chardefslashChar = `/
chardefunderChar = `_</p>

<p>% Ignore a token. % defgobble#1{}</p>

<p>% The following is used inside several edef&#39;s.
defmakecsname#1{expandafternoexpandcsname#1endcsname}</p>

<p>% Hyphenation fixes. hyphenation{</p>

<pre>Flor-i-da Ghost-script Ghost-view Mac-OS Post-Script
ap-pen-dix bit-map bit-maps
data-base data-bases eshell fall-ing half-way long-est man-u-script
man-u-scripts mini-buf-fer mini-buf-fers over-view par-a-digm
par-a-digms rath-er rec-tan-gu-lar ro-bot-ics se-vere-ly set-up spa-ces
spell-ing spell-ings
stand-alone strong-est time-stamp time-stamps which-ever white-space
wide-spread wrap-around</pre>

<p>}</p>

<p>% Margin to add to right of even pages, to left of odd pages.
newdimenbindingoffset newdimennormaloffset newdimenpagewidth
newdimenpageheight</p>

<p>% For a final copy, take out the rectangles % that mark overfull boxes (in
case you have decided % that the text looks ok even though it passes the
margin). % deffinalout{overfullrule=0pt }</p>

<p>% Sometimes it is convenient to have everything in the transcript file %
and nothing on the terminal.  We don&#39;t just call tracingall here, %
since that produces some useless output on the terminal.  We also make %
some effort to order the tracing commands to reduce output in the log %
file; cf. trace.sty in LaTeX. % defgloggingall{begingroup globaldefs = 1
loggingall endgroup}% defloggingall{%</p>

<pre>\tracingstats2
\tracingpages1
\tracinglostchars2  % 2 gives us more in etex
\tracingparagraphs1
\tracingoutput1
\tracingmacros2
\tracingrestores1
\showboxbreadth\maxdimen \showboxdepth\maxdimen
\ifx\eTeXversion\thisisundefined\else % etex gives us more logging
  \tracingscantokens1
  \tracingifs1
  \tracinggroups1
  \tracingnesting2
  \tracingassigns1
\fi
\tracingcommands3  % 3 gives us more in etex
\errorcontextlines16</pre>

<p>}%</p>

<p>% @errormsg{MSG}.  Do the index-like expansions on MSG, but if things %
aren&#39;t perfect, it&#39;s not the end of the world, being an error
message, % after all. %  deferrormsg{begingroup indexnofonts doerrormsg}
defdoerrormsg#1{errmessage{#1}}</p>

<p>% add check for lastpenalty to plain&#39;s definitions.  If the last thing
% we did was a nobreak, we don&#39;t want to insert more space. %
defsmallbreak{ifnumlastpenalty&lt;10000parifdimlastskip&lt;smallskipamount</p>

<pre>\removelastskip\penalty-50\smallskip\fi\fi}</pre>

<p>defmedbreak{ifnumlastpenalty&lt;10000parifdimlastskip&lt;medskipamount</p>

<pre>\removelastskip\penalty-100\medskip\fi\fi}</pre>

<p>defbigbreak{ifnumlastpenalty&lt;10000parifdimlastskip&lt;bigskipamount</p>

<pre>\removelastskip\penalty-200\bigskip\fi\fi}</pre>

<p>% Do @cropmarks to get crop marks. % newififcropmarks letcropmarks =
cropmarkstrue % % Dimensions to add cropmarks at corners. % Added by P. A.
MacKay, 12 Nov. 1986 % newdimenouterhsize newdimenoutervsize % set by the
paper size routines newdimencornerlong  cornerlong=1pc newdimencornerthick
cornerthick=.3pt newdimentopandbottommargin topandbottommargin=.75in</p>

<p>% Output a mark which sets thischapter, thissection and thiscolor. % We
dump everything together because we only have one kind of mark. % This
works because we only use botmark / topmark, not firstmark. % % A mark
contains a subexpression of the ifcase … fi construct. % get*marks macros
below extract the needed part using ifcase. % % Another complication is to
let the user choose whether thischapter % (thissection) refers to the
chapter (section) in effect at the top % of a page, or that at the bottom
of a page.  The solution is % described on page 260 of The TeXbook.  It
involves outputting two % marks for the sectioning macros, one before the
section break, and % one after.  I won&#39;t pretend I can describe this
better than DEK… defdomark{%</p>

<pre>\toks0=\expandafter{\lastchapterdefs}%
\toks2=\expandafter{\lastsectiondefs}%
\toks4=\expandafter{\prevchapterdefs}%
\toks6=\expandafter{\prevsectiondefs}%
\toks8=\expandafter{\lastcolordefs}%
\mark{%
                 \the\toks0 \the\toks2
    \noexpand\or \the\toks4 \the\toks6
  \noexpand\else \the\toks8
}%</pre>

<p>} % topmark doesn&#39;t work for the very first chapter (after the title %
page or the contents), so we use firstmark there – this gets us % the mark
with the chapter defs, unless the user sneaks in, e.g., % @setcolor (or
@url, or @link, etc.) between @contents and the very % first @chapter.
defgettopheadingmarks{%</p>

<pre>\ifcase0\topmark\fi
\ifx\thischapter\empty \ifcase0\firstmark\fi \fi</pre>

<p>} defgetbottomheadingmarks{ifcase1botmarkfi}
defgetcolormarks{ifcase2topmarkfi}</p>

<p>% Avoid “undefined control sequence” errors. deflastchapterdefs{}
deflastsectiondefs{} defprevchapterdefs{} defprevsectiondefs{}
deflastcolordefs{}</p>

<p>% Main output routine. chardefPAGE = 255 output =
{onepageout{pagecontentsPAGE}}</p>

<p>newboxheadlinebox newboxfootlinebox</p>

<p>% onepageout takes a vbox as an argument.  Note that pagecontents % does
insertions, but you have to call it yourself. defonepageout#1{%</p>

<pre>\ifcropmarks \hoffset=0pt \else \hoffset=\normaloffset \fi
%
\ifodd\pageno  \advance\hoffset by \bindingoffset
\else \advance\hoffset by -\bindingoffset\fi
%
% Do this outside of the \shipout so @code etc. will be expanded in
% the headline as they should be, not taken literally (outputting &#39;&#39;code).
\ifodd\pageno \getoddheadingmarks \else \getevenheadingmarks \fi
\setbox\headlinebox = \vbox{\let\hsize=\pagewidth \makeheadline}%
\ifodd\pageno \getoddfootingmarks \else \getevenfootingmarks \fi
\setbox\footlinebox = \vbox{\let\hsize=\pagewidth \makefootline}%
%
{%
  % Have to do this stuff outside the \shipout because we want it to
  % take effect in \write&#39;s, yet the group defined by the \vbox ends
  % before the \shipout runs.
  %
  \indexdummies         % don&#39;t expand commands in the output.
  \normalturnoffactive  % \ in index entries must not stay \, e.g., if
             % the page break happens to be in the middle of an example.
             % We don&#39;t want .vr (or whatever) entries like this:
             % \entry{{\tt \indexbackslash }acronym}{32}{\code {\acronym}}
             % &quot;\acronym&quot; won&#39;t work when it&#39;s read back in;
             % it needs to be
             % {\code {{\tt \backslashcurfont }acronym}
  \shipout\vbox{%
    % Do this early so pdf references go to the beginning of the page.
    \ifpdfmakepagedest \pdfdest name{\the\pageno} xyz\fi
    %
    \ifcropmarks \vbox to \outervsize\bgroup
      \hsize = \outerhsize
      \vskip-\topandbottommargin
      \vtop to0pt{%
        \line{\ewtop\hfil\ewtop}%
        \nointerlineskip
        \line{%
          \vbox{\moveleft\cornerthick\nstop}%
          \hfill
          \vbox{\moveright\cornerthick\nstop}%
        }%
        \vss}%
      \vskip\topandbottommargin
      \line\bgroup
        \hfil % center the page within the outer (page) hsize.
        \ifodd\pageno\hskip\bindingoffset\fi
        \vbox\bgroup
    \fi
    %
    \unvbox\headlinebox
    \pagebody{#1}%
    \ifdim\ht\footlinebox &gt; 0pt
      % Only leave this space if the footline is nonempty.
      % (We lessened \vsize for it in \oddfootingyyy.)
      % The \baselineskip=24pt in plain&#39;s \makefootline has no effect.
      \vskip 24pt
      \unvbox\footlinebox
    \fi
    %
    \ifcropmarks
        \egroup % end of \vbox\bgroup
      \hfil\egroup % end of (centering) \line\bgroup
      \vskip\topandbottommargin plus1fill minus1fill
      \boxmaxdepth = \cornerthick
      \vbox to0pt{\vss
        \line{%
          \vbox{\moveleft\cornerthick\nsbot}%
          \hfill
          \vbox{\moveright\cornerthick\nsbot}%
        }%
        \nointerlineskip
        \line{\ewbot\hfil\ewbot}%
      }%
    \egroup % \vbox from first cropmarks clause
    \fi
  }% end of \shipout\vbox
}% end of group with \indexdummies
\advancepageno
\ifnum\outputpenalty&gt;-20000 \else\dosupereject\fi</pre>

<p>}</p>

<p>newinsertmargin dimenmargin=maxdimen</p>

<p>defpagebody#1{vbox topageheight{boxmaxdepth=maxdepth #1}} {catcode`@ =11
gdefpagecontents#1{ifvoidtopinselseunvboxtopinsfi % marginal hacks,
juha@viisa.uucp (Juha Takala) ifvoidmarginelse % marginal info is present</p>

<pre>\rlap{\kern\hsize\vbox to\z@{\kern1pt\box\margin \vss}}\fi</pre>

<p>dimen@=dp#1relax unvbox#1relax
ifvoidfootinselsevskipskipfootinsfootnoterule unvboxfootinsfi
ifr@ggedbottom kern-dimen@ vfil fi} }</p>

<p>% Here are the rules for the cropmarks.  Note that they are % offset so
that the space between them is truly outerhsize or outervsize % (P. A.
MacKay, 12 November, 1986) % defewtop{vrule heightcornerthick depth0pt
widthcornerlong} defnstop{vbox</p>

<pre>{\hrule height\cornerthick depth\cornerlong width\cornerthick}}</pre>

<p>defewbot{vrule height0pt depthcornerthick widthcornerlong} defnsbot{vbox</p>

<pre>{\hrule height\cornerlong depth\cornerthick width\cornerthick}}</pre>

<p>% Parse an argument, then pass it to #1.  The argument is the rest of % the
input line (except we remove a trailing comment).  #1 should be a % macro
which expects an ordinary undelimited TeX argument. %
defparsearg{parseargusing{}} defparseargusing#1#2{%</p>

<pre>\def\argtorun{#2}%
\begingroup
  \obeylines
  \spaceisspace
  #1%
  \parseargline\empty% Insert the \empty token, see \finishparsearg below.</pre>

<p>}</p>

<p>{obeylines %</p>

<pre>\gdef\parseargline#1^^M{%
  \endgroup % End of the group started in \parsearg.
  \argremovecomment #1\comment\ArgTerm%
}%</pre>

<p>}</p>

<p>% First remove any @comment, then any @c comment.
defargremovecomment#1comment#2ArgTerm{argremovec #1cArgTerm}
defargremovec#1c#2ArgTerm{argcheckspaces#1^^MArgTerm}</p>

<p>% Each occurrence of `^^M&#39; or `&lt;space&gt;^^M&#39; is replaced by a
single space. % % argremovec might leave us with trailing space, e.g., %   
@end itemize  @c foo % This space token undergoes the same procedure and is
eventually removed % by finishparsearg. %
defargcheckspaces#1^^M{argcheckspacesX#1^^M ^^M} defargcheckspacesX#1
^^M{argcheckspacesY#1^^M} defargcheckspacesY#1^^M#2^^M#3ArgTerm{%</p>

<pre>\def\temp{#3}%
\ifx\temp\empty
  % Do not use \next, perhaps the caller of \parsearg uses it; reuse \temp:
  \let\temp\finishparsearg
\else
  \let\temp\argcheckspaces
\fi
% Put the space token in:
\temp#1 #3\ArgTerm</pre>

<p>}</p>

<p>% If a <em>delimited</em> argument is enclosed in braces, they get
stripped; so % to get <em>exactly</em> the rest of the line, we had to
prevent such situation. % We prepended an empty token at the very beginning
and we expand it now, % just before passing the control to argtorun. %
(Similarly, we have to think about #3 of argcheckspacesY above: it is %
either the null string, or it ends with ^^M—thus there is no danger % that
a pair of braces would be stripped. % % But first, we have to remove the
trailing space token. % deffinishparsearg#1
ArgTerm{expandafterargtorunexpandafter{#1}}</p>

<p>% parseargdeffoo{…} %       is roughly equivalent to % deffoo{parseargXfoo}
% defXfoo#1{…} % % Actually, I use csnamestringfooendcsname, ie. \foo, as
it is my % favourite TeX trick.  –kasal, 16nov03</p>

<p>defparseargdef#1{%</p>

<pre>\expandafter \doparseargdef \csname\string#1\endcsname #1%</pre>

<p>} defdoparseargdef#1#2{%</p>

<pre>\def#2{\parsearg#1}%
\def#1##1%</pre>

<p>}</p>

<p>% Several utility definitions with active space: {</p>

<pre>\obeyspaces
\gdef\obeyedspace{ }

% Make each space character in the input produce a normal interword
% space in the output.  Don&#39;t allow a line break at this space, as this
% is used only in environments like @example, where each line of input
% should produce a line of output anyway.
%
\gdef\sepspaces{\obeyspaces\let =\tie}

% If an index command is used in an @example environment, any spaces
% therein should become regular spaces in the raw index file, not the
% expansion of \tie (\leavevmode \penalty \@M \ ).
\gdef\unsepspaces{\let =\space}</pre>

<p>}</p>

<p>defflushcr{ifxparlisppar defnext##1{}else letnext=relax fi next}</p>

<p>% Define the framework for environments in texinfo.tex.  It&#39;s used like
this: % %   envdeffoo{…} %   defEfoo{…} % % It&#39;s the responsibility of
envdef to insert begingroup before the % actual body; @end closes the group
after calling Efoo.  envdef also % defines thisenv, so the current
environment is known; @end checks % whether the environment name matches. 
The checkenv macro can also be % used to check whether the current
environment is the one expected. % % Non-false conditionals (@iftex,
@ifset) don&#39;t fit into this, so they % are not treated as environments;
they don&#39;t open a group.  (The % implementation of @end takes care not
to call endgroup in this % special case.)</p>

<p>% At run-time, environments start with this:
defstartenvironment#1{begingroupdefthisenv{#1}} % initialize
letthisenvempty</p>

<p>% … but they get defined via “envdeffoo{…}&#39;&#39;:
longdefenvdef#1#2{def#1{startenvironment#1#2}}
defenvparseargdef#1#2{parseargdef#1{startenvironment#1#2}}</p>

<p>% Check whether we&#39;re in the right environment: defcheckenv#1{%</p>

<pre>\def\temp{#1}%
\ifx\thisenv\temp
\else
  \badenverr
\fi</pre>

<p>}</p>

<p>% Environment mismatch, #1 expected: defbadenverr{%</p>

<pre>\errhelp = \EMsimple
\errmessage{This command can appear only \inenvironment\temp,
  not \inenvironment\thisenv}%</pre>

<p>} definenvironment#1{%</p>

<pre>\ifx#1\empty
  outside of any environment%
\else
  in environment \expandafter\string#1%
\fi</pre>

<p>}</p>

<p>% @end foo executes the definition of Efoo. % But first, it executes a
specialized version of checkenv % parseargdefend{%</p>

<pre>\if 1\csname iscond.#1\endcsname
\else
  % The general wording of \badenverr may not be ideal.
  \expandafter\checkenv\csname#1\endcsname
  \csname E#1\endcsname
  \endgroup
\fi</pre>

<p>}</p>

<p>newhelpEMsimple{Press RETURN to continue.}</p>

<p>% Be sure we&#39;re in horizontal mode when doing a tie, since we make
space % equivalent to this in @example-like environments. Otherwise, a
space % at the beginning of a line will start with penalty – and % since
penalty is valid in vertical mode, we&#39;d end up putting the % penalty on
the vertical list instead of in the new paragraph. {catcode`@ = 11</p>

<pre>% Avoid using \@M directly, because that causes trouble
% if the definition is written into an index file.
\global\let\tiepenalty = \@M
\gdef\tie{\leavevmode\penalty\tiepenalty\ }</pre>

<p>}</p>

<p>% @: forces normal size whitespace following. def:{spacefactor=1000 }</p>

<p>% @* forces a line break. def*{unskiphfilbreakhbox{}ignorespaces}</p>

<p>% @/ allows a line break. let/=allowbreak</p>

<p>% @. is an end-of-sentence period.
def.{.spacefactor=endofsentencespacefactorspace}</p>

<p>% @! is an end-of-sentence bang.
def!{!spacefactor=endofsentencespacefactorspace}</p>

<p>% @? is an end-of-sentence query.
def?{?spacefactor=endofsentencespacefactorspace}</p>

<p>% @frenchspacing on|off  says whether to put extra space after punctuation.
% defonword{on} defoffword{off} % parseargdeffrenchspacing{%</p>

<pre>\def\temp{#1}%
\ifx\temp\onword \plainfrenchspacing
\else\ifx\temp\offword \plainnonfrenchspacing
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @frenchspacing option `\temp&#39;, must be on|off}%
\fi\fi</pre>

<p>}</p>

<p>% @w prevents a word break.  Without the leavevmode, @w at the % beginning
of a paragraph, when TeX is still in vertical mode, would % produce a whole
line of output instead of starting the paragraph.
defw#1{leavevmodehbox{#1}}</p>

<p>% @group … @end group forces … to be all on one page, by enclosing % it in
a TeX vbox.  We use vtop instead of vbox to construct the box % to keep its
height that of a normal line.  According to the rules for % topskip (p.114
of the TeXbook), the glue inserted is % max (topskip - ht (first item), 0).
If that height is large, % therefore, no glue is inserted, and the space
between the headline and % the text is small, which looks bad. % % Another
complication is that the group might be very large.  This can % cause the
glue on the previous page to be unduly stretched, because it % does not
have much material.  In this case, it&#39;s better to add an % explicit
vfill so that the extra space is at the bottom.  The % threshold for doing
this is if the group is more than vfilllimit % percent of a page
(vfilllimit can be changed inside of @tex). % newboxgroupbox
defvfilllimit{0.7} % envdefgroup{%</p>

<pre>\ifnum\catcode`\^^M=\active \else
  \errhelp = \groupinvalidhelp
  \errmessage{@group invalid in context where filling is enabled}%
\fi
\startsavinginserts
%
\setbox\groupbox = \vtop\bgroup
  % Do @comment since we are called inside an environment such as
  % @example, where each end-of-line in the input causes an
  % end-of-line in the output.  We don&#39;t want the end-of-line after
  % the `@group&#39; to put extra space in the output.  Since @group
  % should appear on a line by itself (according to the Texinfo
  % manual), we don&#39;t worry about eating any user text.
  \comment</pre>

<p>} % % The vtop produces a box with normal height and large depth; thus, TeX
puts % baselineskip glue before it, and (when the next line of text is
done) % lineskip glue after it.  Thus, space below is not quite equal to
space % above.  But it&#39;s pretty close. defEgroup{%</p>

<pre>  % To get correct interline space between the last line of the group
  % and the first line afterwards, we have to propagate \prevdepth.
  \endgraf % Not \par, as it may have been set to \lisppar.
  \global\dimen1 = \prevdepth
\egroup           % End the \vtop.
% \dimen0 is the vertical size of the group&#39;s box.
\dimen0 = \ht\groupbox  \advance\dimen0 by \dp\groupbox
% \dimen2 is how much space is left on the page (more or less).
\dimen2 = \pageheight   \advance\dimen2 by -\pagetotal
% if the group doesn&#39;t fit on the current page, and it&#39;s a big big
% group, force a page break.
\ifdim \dimen0 &gt; \dimen2
  \ifdim \pagetotal &lt; \vfilllimit\pageheight
    \page
  \fi
\fi
\box\groupbox
\prevdepth = \dimen1
\checkinserts</pre>

<p>} % % TeX puts in an escapechar (i.e., `@&#39;) at the beginning of the
help % message, so this ends up printing `@group can only …&#39;. %
newhelpgroupinvalidhelp{% group can only be used in environments such as
@example,^^J% where each line of input produces a line of output.}</p>

<p>% @need space-in-mils % forces a page break if there is not space-in-mils
remaining.</p>

<p>newdimenmil  mil=0.001in</p>

<p>parseargdefneed{%</p>

<pre>% Ensure vertical mode, so we don&#39;t make a big box in the middle of a
% paragraph.
\par
%
% If the @need value is less than one line space, it&#39;s useless.
\dimen0 = #1\mil
\dimen2 = \ht\strutbox
\advance\dimen2 by \dp\strutbox
\ifdim\dimen0 &gt; \dimen2
  %
  % Do a \strut just to make the height of this box be normal, so the
  % normal leading is inserted relative to the preceding line.
  % And a page break here is fine.
  \vtop to #1\mil{\strut\vfil}%
  %
  % TeX does not even consider page breaks if a penalty added to the
  % main vertical list is 10000 or more.  But in order to see if the
  % empty box we just added fits on the page, we must make it consider
  % page breaks.  On the other hand, we don&#39;t want to actually break the
  % page after the empty box.  So we use a penalty of 9999.
  %
  % There is an extremely small chance that TeX will actually break the
  % page at this \penalty, if there are no other feasible breakpoints in
  % sight.  (If the user is using lots of big @group commands, which
  % almost-but-not-quite fill up a page, TeX will have a hard time doing
  % good page breaking, for example.)  However, I could not construct an
  % example where a page broke at this \penalty; if it happens in a real
  % document, then we can reconsider our strategy.
  \penalty9999
  %
  % Back up by the size of the box, whether we did a page break or not.
  \kern -#1\mil
  %
  % Do not allow a page break right after this kern.
  \nobreak
\fi</pre>

<p>}</p>

<p>% @br   forces paragraph break (and is undocumented).</p>

<p>letbr = par</p>

<p>% @page forces the start of a new page. % defpage{parvfillsupereject}</p>

<p>% @exdent text.… % outputs text on separate line in roman font, starting at
standard page margin</p>

<p>% This records the amount of indent in the innermost environment. %
That&#39;s how much exdent should take out. newskipexdentamount</p>

<p>% This defn is used inside fill environments such as @defun.
parseargdefexdent{hfilbreakhbox{kern -exdentamount{rm#1}}hfilbreak}</p>

<p>% This defn is used inside nofill environments such as @example.
parseargdefnofillexdent{{advance leftskip by -exdentamount</p>

<pre>\leftline{\hskip\leftskip{\rm#1}}}}</pre>

<p>% @inmargin{WHICH}{TEXT} puts TEXT in the WHICH margin next to the current
% paragraph.  For more general purposes, use the margin insertion % class. 
WHICH is `l&#39; or `r&#39;.  Not documented, written for gawk manual. %
newskipinmarginspacing inmarginspacing=1cm defstrutdepth{dpstrutbox} %
defdoinmargin#1#2{strutvadjust{%</p>

<pre>\nobreak
\kern-\strutdepth
\vtop to \strutdepth{%
  \baselineskip=\strutdepth
  \vss
  % if you have multiple lines of stuff to put here, you&#39;ll need to
  % make the vbox yourself of the appropriate size.
  \ifx#1l%
    \llap{\ignorespaces #2\hskip\inmarginspacing}%
  \else
    \rlap{\hskip\hsize \hskip\inmarginspacing \ignorespaces #2}%
  \fi
  \null
}%</pre>

<p>}} definleftmargin{doinmargin l} definrightmargin{doinmargin r} % %
@inmargin{TEXT [, RIGHT-TEXT]} % (if RIGHT-TEXT is given, use TEXT for left
page, RIGHT-TEXT for right; % else use TEXT for both). %
definmargin#1{parseinmargin #1,,finish} defparseinmargin#1,#2,#3finish{%
not perfect, but better than nothing.</p>

<pre>\setbox0 = \hbox{\ignorespaces #2}%
\ifdim\wd0 &gt; 0pt
  \def\lefttext{#1}%  have both texts
  \def\righttext{#2}%
\else
  \def\lefttext{#1}%  have only one text
  \def\righttext{#1}%
\fi
%
\ifodd\pageno
  \def\temp{\inrightmargin\righttext}% odd page -&gt; outside is right margin
\else
  \def\temp{\inleftmargin\lefttext}%
\fi
\temp</pre>

<p>}</p>

<p>% @| inserts a changebar to the left of the current line.  It should %
surround any changed text.  This approach does <strong>not</strong> work if
the % change spans more than two lines of output.  To handle that, we would
% have adopt a much more difficult approach (putting marks into the main %
vertical list for the beginning and end of each change).  This command % is
not documented, not supported, and doesn&#39;t work. % def|{%</p>

<pre>% \vadjust can only be used in horizontal mode.
\leavevmode
%
% Append this vertical mode material after the current line in the output.
\vadjust{%
  % We want to insert a rule with the height and depth of the current
  % leading; that is exactly what \strutbox is supposed to record.
  \vskip-\baselineskip
  %
  % \vadjust-items are inserted at the left edge of the type.  So
  % the \llap here moves out into the left-hand margin.
  \llap{%
    %
    % For a thicker or thinner bar, change the `1pt&#39;.
    \vrule height\baselineskip width1pt
    %
    % This is the space between the bar and the text.
    \hskip 12pt
  }%
}%</pre>

<p>}</p>

<p>% @include FILE – input text of FILE. %
definclude{parseargusingfilenamecatcodesincludezzz} defincludezzz#1{%</p>

<pre>\pushthisfilestack
\def\thisfile{#1}%
{%
  \makevalueexpandable  % we want to expand any @value in FILE.
  \turnoffactive        % and allow special characters in the expansion
  \indexnofonts         % Allow `@@&#39; and other weird things in file names.
  \wlog{texinfo.tex: doing @include of #1^^J}%
  \edef\temp{\noexpand\input #1 }%
  %
  % This trickery is to read FILE outside of a group, in case it makes
  % definitions, etc.
  \expandafter
}\temp
\popthisfilestack</pre>

<p>} deffilenamecatcodes{%</p>

<pre>\catcode`\\=\other
\catcode`~=\other
\catcode`^=\other
\catcode`_=\other
\catcode`|=\other
\catcode`&lt;=\other
\catcode`&gt;=\other
\catcode`+=\other
\catcode`-=\other
\catcode`\`=\other
\catcode`\&#39;=\other</pre>

<p>}</p>

<p>defpushthisfilestack{%</p>

<pre>\expandafter\pushthisfilestackX\popthisfilestack\StackTerm</pre>

<p>} defpushthisfilestackX{%</p>

<pre>\expandafter\pushthisfilestackY\thisfile\StackTerm</pre>

<p>} defpushthisfilestackY #1StackTerm #2StackTerm {%</p>

<pre>\gdef\popthisfilestack{\gdef\thisfile{#1}\gdef\popthisfilestack{#2}}%</pre>

<p>}</p>

<p>defpopthisfilestack{errthisfilestackempty}
deferrthisfilestackempty{errmessage{Internal error:</p>

<pre>the stack of filenames is empty.}}</pre>

<p>% defthisfile{}</p>

<p>% @center line % outputs that line, centered. % parseargdefcenter{%</p>

<pre>\ifhmode
  \let\centersub\centerH
\else
  \let\centersub\centerV
\fi
\centersub{\hfil \ignorespaces#1\unskip \hfil}%
\let\centersub\relax % don&#39;t let the definition persist, just in case</pre>

<p>} defcenterH#1{{%</p>

<pre>\hfil\break
\advance\hsize by -\leftskip
\advance\hsize by -\rightskip
\line{#1}%
\break</pre>

<p>}} % newcountcenterpenalty defcenterV#1{%</p>

<pre>% The idea here is the same as in \startdefun, \cartouche, etc.: if
% @center is the first thing after a section heading, we need to wipe
% out the negative parskip inserted by \sectionheading, but still
% prevent a page break here.
\centerpenalty = \lastpenalty
\ifnum\centerpenalty&gt;10000 \vskip\parskip \fi
\ifnum\centerpenalty&gt;9999 \penalty\centerpenalty \fi
\line{\kern\leftskip #1\kern\rightskip}%</pre>

<p>}</p>

<p>% @sp n   outputs n lines of vertical space % parseargdefsp{vskip
#1baselineskip}</p>

<p>% @comment …line which is ignored… % @c is the same as @comment % @ignore …
@end ignore  is another way to write a comment % defcomment{begingroup
catcode`^^M=other% catcode`@=other catcode`{=other catcode`}=other%
commentxxx} {catcode`^^M=other gdefcommentxxx#1^^M{endgroup}} %
letc=comment</p>

<p>% @paragraphindent NCHARS % We&#39;ll use ems for NCHARS, close enough. %
NCHARS can also be the word `asis&#39; or `none&#39;. % We cannot feasibly
implement @paragraphindent asis, though. % defasisword{asis} % no
translation, these are keywords defnoneword{none} %
parseargdefparagraphindent{%</p>

<pre>\def\temp{#1}%
\ifx\temp\asisword
\else
  \ifx\temp\noneword
    \defaultparindent = 0pt
  \else
    \defaultparindent = #1em
  \fi
\fi
\parindent = \defaultparindent</pre>

<p>}</p>

<p>% @exampleindent NCHARS % We&#39;ll use ems for NCHARS like
@paragraphindent. % It seems @exampleindent asis isn&#39;t necessary, but %
I preserve it to make it similar to @paragraphindent.
parseargdefexampleindent{%</p>

<pre>\def\temp{#1}%
\ifx\temp\asisword
\else
  \ifx\temp\noneword
    \lispnarrowing = 0pt
  \else
    \lispnarrowing = #1em
  \fi
\fi</pre>

<p>}</p>

<p>% @firstparagraphindent WORD % If WORD is `none&#39;, then suppress
indentation of the first paragraph % after a section heading.  If WORD is
`insert&#39;, then do indent at such % paragraphs. % % The paragraph
indentation is suppressed or not by calling % suppressfirstparagraphindent,
which the sectioning commands do. % We switch the definition of this back
and forth according to WORD. % By default, we suppress indentation. %
defsuppressfirstparagraphindent{dosuppressfirstparagraphindent}
definsertword{insert} % parseargdeffirstparagraphindent{%</p>

<pre>\def\temp{#1}%
\ifx\temp\noneword
  \let\suppressfirstparagraphindent = \dosuppressfirstparagraphindent
\else\ifx\temp\insertword
  \let\suppressfirstparagraphindent = \relax
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @firstparagraphindent option `\temp&#39;}%
\fi\fi</pre>

<p>}</p>

<p>% Here is how we actually suppress indentation.  Redefine everypar to %
kern backwards by parindent, and then reset itself to empty. % % We also
make indent itself not actually do anything until the next % paragraph. %
gdefdosuppressfirstparagraphindent{%</p>

<pre>\gdef\indent{%
  \restorefirstparagraphindent
  \indent
}%
\gdef\noindent{%
  \restorefirstparagraphindent
  \noindent
}%
\global\everypar = {%
  \kern -\parindent
  \restorefirstparagraphindent
}%</pre>

<p>}</p>

<p>gdefrestorefirstparagraphindent{%</p>

<pre>\global \let \indent = \ptexindent
\global \let \noindent = \ptexnoindent
\global \everypar = {}%</pre>

<p>}</p>

<p>% @refill is a no-op. letrefill=relax</p>

<p>% If working on a large document in chapters, it is convenient to % be able
to disable indexing, cross-referencing, and contents, for test runs. % This
is done with @novalidate (before @setfilename). % newififlinks linkstrue %
by default we want the aux files. letnovalidate = linksfalse</p>

<p>% @setfilename is done at the beginning of every texinfo file. % So open
here the files we need to have open while reading the input. % This makes
it possible to make a .fmt file for texinfo. defsetfilename{%</p>

<pre>\fixbackslash  % Turn off hack to swallow `\input texinfo&#39;.
\iflinks
  \tryauxfile
  % Open the new aux file.  TeX will close it automatically at exit.
  \immediate\openout\auxfile=\jobname.aux
\fi % \openindices needs to do some work in any case.
\openindices
\let\setfilename=\comment % Ignore extra @setfilename cmds.
%
% If texinfo.cnf is present on the system, read it.
% Useful for site-wide @afourpaper, etc.
\openin 1 texinfo.cnf
\ifeof 1 \else \input texinfo.cnf \fi
\closein 1
%
\comment % Ignore the actual filename.</pre>

<p>}</p>

<p>% Called from setfilename. % defopenindices{%</p>

<pre>\newindex{cp}%
\newcodeindex{fn}%
\newcodeindex{vr}%
\newcodeindex{tp}%
\newcodeindex{ky}%
\newcodeindex{pg}%</pre>

<p>}</p>

<p>% @bye. outerdefbye{pagealignmacrotracingstats=1ptexend}</p>

<p>message{pdf,} % adobe `portable&#39; document format newcounttempnum
newcountlnkcount newtoksfilename newcountfilenamelength newcountpgn
newtokstoksA newtokstoksB newtokstoksC newtokstoksD newboxboxA
newcountcountA newififpdf newififpdfmakepagedest</p>

<p>% when pdftex is run in dvi mode, pdfoutput is defined (so pdfoutput=1 %
can be set).  So we test for relax and 0 as well as being undefined.
ifxpdfoutputthisisundefined else</p>

<pre>\ifx\pdfoutput\relax
\else
  \ifcase\pdfoutput
  \else
    \pdftrue
  \fi
\fi</pre>

<p>fi</p>

<p>% PDF uses PostScript string constants for the names of xref targets, % for
display in the outlines, and in other places.  Thus, we have to % double
any backslashes.  Otherwise, a name like “node” will be % interpreted as a
newline (n), followed by o, d, e.  Not good. %  % See <a
href="http://www.ntg.nl/pipermail/ntg-pdftex/2004-July/000654.html">www.ntg.nl/pipermail/ntg-pdftex/2004-July/000654.html</a>
and % related messages.  The final outcome is that it is up to the TeX user
% to double the backslashes and otherwise make the string valid, so %
that&#39;s what we do.  pdftex 1.30.0 (ca.2005) introduced a primitive to %
do this reliably, so we use it.</p>

<p>% #1 is a control sequence in which to do the replacements, % which we
xdef. deftxiescapepdf#1{%</p>

<pre>\ifx\pdfescapestring\thisisundefined
  % No primitive available; should we give a warning or log?
  % Many times it won&#39;t matter.
\else
  % The expandable \pdfescapestring primitive escapes parentheses,
  % backslashes, and other special chars.
  \xdef#1{\pdfescapestring{#1}}%
\fi</pre>

<p>}</p>

<p>newhelpnopdfimagehelp{Texinfo supports .png, .jpg, .jpeg, and .pdf images
with PDF output, and none of those formats could be found.  (.eps cannot be
supported due to the design of the PDF format; use regular TeX (DVI output)
for that.)}</p>

<p>ifpdf</p>

<pre>%
% Color manipulation macros based on pdfcolor.tex,
% except using rgb instead of cmyk; the latter is said to render as a
% very dark gray on-screen and a very dark halftone in print, instead
% of actual black.
\def\rgbDarkRed{0.50 0.09 0.12}
\def\rgbBlack{0 0 0}
%
% k sets the color for filling (usual text, etc.);
% K sets the color for stroking (thin rules, e.g., normal _&#39;s).
\def\pdfsetcolor#1{\pdfliteral{#1 rg  #1 RG}}
%
% Set color, and create a mark which defines \thiscolor accordingly,
% so that \makeheadline knows which color to restore.
\def\setcolor#1{%
  \xdef\lastcolordefs{\gdef\noexpand\thiscolor{#1}}%
  \domark
  \pdfsetcolor{#1}%
}
%
\def\maincolor{\rgbBlack}
\pdfsetcolor{\maincolor}
\edef\thiscolor{\maincolor}
\def\lastcolordefs{}
%
\def\makefootline{%
  \baselineskip24pt
  \line{\pdfsetcolor{\maincolor}\the\footline}%
}
%
\def\makeheadline{%
  \vbox to 0pt{%
    \vskip-22.5pt
    \line{%
      \vbox to8.5pt{}%
      % Extract \thiscolor definition from the marks.
      \getcolormarks
      % Typeset the headline with \maincolor, then restore the color.
      \pdfsetcolor{\maincolor}\the\headline\pdfsetcolor{\thiscolor}%
    }%
    \vss
  }%
  \nointerlineskip
}
%
%
\pdfcatalog{/PageMode /UseOutlines}
%
% #1 is image name, #2 width (might be empty/whitespace), #3 height (ditto).
\def\dopdfimage#1#2#3{%
  \def\pdfimagewidth{#2}\setbox0 = \hbox{\ignorespaces #2}%
  \def\pdfimageheight{#3}\setbox2 = \hbox{\ignorespaces #3}%
  %
  % pdftex (and the PDF format) support .pdf, .png, .jpg (among
  % others).  Let&#39;s try in that order, PDF first since if
  % someone has a scalable image, presumably better to use that than a
  % bitmap.
  \let\pdfimgext=\empty
  \begingroup
    \openin 1 #1.pdf \ifeof 1
      \openin 1 #1.PDF \ifeof 1
        \openin 1 #1.png \ifeof 1
          \openin 1 #1.jpg \ifeof 1
            \openin 1 #1.jpeg \ifeof 1
              \openin 1 #1.JPG \ifeof 1
                \errhelp = \nopdfimagehelp
                \errmessage{Could not find image file #1 for pdf}%
              \else \gdef\pdfimgext{JPG}%
              \fi
            \else \gdef\pdfimgext{jpeg}%
            \fi
          \else \gdef\pdfimgext{jpg}%
          \fi
        \else \gdef\pdfimgext{png}%
        \fi
      \else \gdef\pdfimgext{PDF}%
      \fi
    \else \gdef\pdfimgext{pdf}%
    \fi
    \closein 1
  \endgroup
  %
  % without \immediate, ancient pdftex seg faults when the same image is
  % included twice.  (Version 3.14159-pre-1.0-unofficial-20010704.)
  \ifnum\pdftexversion &lt; 14
    \immediate\pdfimage
  \else
    \immediate\pdfximage
  \fi
    \ifdim \wd0 &gt;0pt width \pdfimagewidth \fi
    \ifdim \wd2 &gt;0pt height \pdfimageheight \fi
    \ifnum\pdftexversion&lt;13
       #1.\pdfimgext
     \else
       {#1.\pdfimgext}%
     \fi
  \ifnum\pdftexversion &lt; 14 \else
    \pdfrefximage \pdflastximage
  \fi}
%
\def\pdfmkdest#1{{%
  % We have to set dummies so commands such as @code, and characters
  % such as \, aren&#39;t expanded when present in a section title.
  \indexnofonts
  \turnoffactive
  \makevalueexpandable
  \def\pdfdestname{#1}%
  \txiescapepdf\pdfdestname
  \safewhatsit{\pdfdest name{\pdfdestname} xyz}%
}}
%
% used to mark target names; must be expandable.
\def\pdfmkpgn#1{#1}
%
% by default, use a color that is dark enough to print on paper as
% nearly black, but still distinguishable for online viewing.
\def\urlcolor{\rgbDarkRed}
\def\linkcolor{\rgbDarkRed}
\def\endlink{\setcolor{\maincolor}\pdfendlink}
%
% Adding outlines to PDF; macros for calculating structure of outlines
% come from Petr Olsak
\def\expnumber#1{\expandafter\ifx\csname#1\endcsname\relax 0%
  \else \csname#1\endcsname \fi}
\def\advancenumber#1{\tempnum=\expnumber{#1}\relax
  \advance\tempnum by 1
  \expandafter\xdef\csname#1\endcsname{\the\tempnum}}
%
% #1 is the section text, which is what will be displayed in the
% outline by the pdf viewer.  #2 is the pdf expression for the number
% of subentries (or empty, for subsubsections).  #3 is the node text,
% which might be empty if this toc entry had no corresponding node.
% #4 is the page number
%
\def\dopdfoutline#1#2#3#4{%
  % Generate a link to the node text if that exists; else, use the
  % page number.  We could generate a destination for the section
  % text in the case where a section has no node, but it doesn&#39;t
  % seem worth the trouble, since most documents are normally structured.
  \edef\pdfoutlinedest{#3}%
  \ifx\pdfoutlinedest\empty
    \def\pdfoutlinedest{#4}%
  \else
    \txiescapepdf\pdfoutlinedest
  \fi
  %
  % Also escape PDF chars in the display string.
  \edef\pdfoutlinetext{#1}%
  \txiescapepdf\pdfoutlinetext
  %
  \pdfoutline goto name{\pdfmkpgn{\pdfoutlinedest}}#2{\pdfoutlinetext}%
}
%
\def\pdfmakeoutlines{%
  \begingroup
    % Read toc silently, to get counts of subentries for \pdfoutline.
    \def\partentry##1##2##3##4{}% ignore parts in the outlines
    \def\numchapentry##1##2##3##4{%
      \def\thischapnum{##2}%
      \def\thissecnum{0}%
      \def\thissubsecnum{0}%
    }%
    \def\numsecentry##1##2##3##4{%
      \advancenumber{chap\thischapnum}%
      \def\thissecnum{##2}%
      \def\thissubsecnum{0}%
    }%
    \def\numsubsecentry##1##2##3##4{%
      \advancenumber{sec\thissecnum}%
      \def\thissubsecnum{##2}%
    }%
    \def\numsubsubsecentry##1##2##3##4{%
      \advancenumber{subsec\thissubsecnum}%
    }%
    \def\thischapnum{0}%
    \def\thissecnum{0}%
    \def\thissubsecnum{0}%
    %
    % use \def rather than \let here because we redefine \chapentry et
    % al. a second time, below.
    \def\appentry{\numchapentry}%
    \def\appsecentry{\numsecentry}%
    \def\appsubsecentry{\numsubsecentry}%
    \def\appsubsubsecentry{\numsubsubsecentry}%
    \def\unnchapentry{\numchapentry}%
    \def\unnsecentry{\numsecentry}%
    \def\unnsubsecentry{\numsubsecentry}%
    \def\unnsubsubsecentry{\numsubsubsecentry}%
    \readdatafile{toc}%
    %
    % Read toc second time, this time actually producing the outlines.
    % The `-&#39; means take the \expnumber as the absolute number of
    % subentries, which we calculated on our first read of the .toc above.
    %
    % We use the node names as the destinations.
    \def\numchapentry##1##2##3##4{%
      \dopdfoutline{##1}{count-\expnumber{chap##2}}{##3}{##4}}%
    \def\numsecentry##1##2##3##4{%
      \dopdfoutline{##1}{count-\expnumber{sec##2}}{##3}{##4}}%
    \def\numsubsecentry##1##2##3##4{%
      \dopdfoutline{##1}{count-\expnumber{subsec##2}}{##3}{##4}}%
    \def\numsubsubsecentry##1##2##3##4{% count is always zero
      \dopdfoutline{##1}{}{##3}{##4}}%
    %
    % PDF outlines are displayed using system fonts, instead of
    % document fonts.  Therefore we cannot use special characters,
    % since the encoding is unknown.  For example, the eogonek from
    % Latin 2 (0xea) gets translated to a | character.  Info from
    % Staszek Wawrykiewicz, 19 Jan 2004 04:09:24 +0100.
    %
    % TODO this right, we have to translate 8-bit characters to
    % their &quot;best&quot; equivalent, based on the @documentencoding.  Too
    % much work for too little return.  Just use the ASCII equivalents
    % we use for the index sort strings.
    % 
    \indexnofonts
    \setupdatafile
    % We can have normal brace characters in the PDF outlines, unlike
    % Texinfo index files.  So set that up.
    \def\{{\lbracecharliteral}%
    \def\}{\rbracecharliteral}%
    \catcode`\\=\active \otherbackslash
    \input \tocreadfilename
  \endgroup
}
{\catcode`[=1 \catcode`]=2
 \catcode`{=\other \catcode`}=\other
 \gdef\lbracecharliteral[{]%
 \gdef\rbracecharliteral[}]%
]
%
\def\skipspaces#1{\def\PP{#1}\def\D{|}%
  \ifx\PP\D\let\nextsp\relax
  \else\let\nextsp\skipspaces
    \addtokens{\filename}{\PP}%
    \advance\filenamelength by 1
  \fi
  \nextsp}
\def\getfilename#1{%
  \filenamelength=0
  % If we don&#39;t expand the argument now, \skipspaces will get
  % snagged on things like &quot;@value{foo}&quot;.
  \edef\temp{#1}%
  \expandafter\skipspaces\temp|\relax
}
\ifnum\pdftexversion &lt; 14
  \let \startlink \pdfannotlink
\else
  \let \startlink \pdfstartlink
\fi
% make a live url in pdf output.
\def\pdfurl#1{%
  \begingroup
    % it seems we really need yet another set of dummies; have not
    % tried to figure out what each command should do in the context
    % of @url.  for now, just make @/ a no-op, that&#39;s the only one
    % people have actually reported a problem with.
    %
    \normalturnoffactive
    \def\@{@}%
    \let\/=\empty
    \makevalueexpandable
    % do we want to go so far as to use \indexnofonts instead of just
    % special-casing \var here?
    \def\var##1{##1}%
    %
    \leavevmode\setcolor{\urlcolor}%
    \startlink attr{/Border [0 0 0]}%
      user{/Subtype /Link /A &lt;&lt; /S /URI /URI (#1) &gt;&gt;}%
  \endgroup}
\def\pdfgettoks#1.{\setbox\boxA=\hbox{\toksA={#1.}\toksB={}\maketoks}}
\def\addtokens#1#2{\edef\addtoks{\noexpand#1={\the#1#2}}\addtoks}
\def\adn#1{\addtokens{\toksC}{#1}\global\countA=1\let\next=\maketoks}
\def\poptoks#1#2|ENDTOKS|{\let\first=#1\toksD={#1}\toksA={#2}}
\def\maketoks{%
  \expandafter\poptoks\the\toksA|ENDTOKS|\relax
  \ifx\first0\adn0
  \else\ifx\first1\adn1 \else\ifx\first2\adn2 \else\ifx\first3\adn3
  \else\ifx\first4\adn4 \else\ifx\first5\adn5 \else\ifx\first6\adn6
  \else\ifx\first7\adn7 \else\ifx\first8\adn8 \else\ifx\first9\adn9
  \else
    \ifnum0=\countA\else\makelink\fi
    \ifx\first.\let\next=\done\else
      \let\next=\maketoks
      \addtokens{\toksB}{\the\toksD}
      \ifx\first,\addtokens{\toksB}{\space}\fi
    \fi
  \fi\fi\fi\fi\fi\fi\fi\fi\fi\fi
  \next}
\def\makelink{\addtokens{\toksB}%
  {\noexpand\pdflink{\the\toksC}}\toksC={}\global\countA=0}
\def\pdflink#1{%
  \startlink attr{/Border [0 0 0]} goto name{\pdfmkpgn{#1}}
  \setcolor{\linkcolor}#1\endlink}
\def\done{\edef\st{\global\noexpand\toksA={\the\toksB}}\st}</pre>

<p>else</p>

<pre>% non-pdf mode
\let\pdfmkdest = \gobble
\let\pdfurl = \gobble
\let\endlink = \relax
\let\setcolor = \gobble
\let\pdfsetcolor = \gobble
\let\pdfmakeoutlines = \relax</pre>

<p>fi  % ifxpdfoutput</p>

<p>message{fonts,}</p>

<p>% Change the current font style to #1, remembering it in curfontstyle. %
For now, we do not accumulate font styles: @b{@i{foo}} prints foo in %
italics, not bold italics. % defsetfontstyle#1{%</p>

<pre>\def\curfontstyle{#1}% not as a control sequence, because we are \edef&#39;d.
\csname ten#1\endcsname  % change the current font</pre>

<p>}</p>

<p>% Select #1 fonts with the current style. % defselectfonts#1{csname
#1fontsendcsname csnamecurfontstyleendcsname}</p>

<p>defrm{fam=0 setfontstyle{rm}} defit{fam=itfam setfontstyle{it}}
defsl{fam=slfam setfontstyle{sl}} defbf{fam=bffam
setfontstyle{bf}}defbfstylename{bf} deftt{fam=ttfam setfontstyle{tt}}</p>

<p>% Unfortunately, we have to override this for titles and the like, since %
in those cases “rm” is bold.  Sigh. defrmisbold{rmdefcurfontstyle{bf}}</p>

<p>% Texinfo sort of supports the sans serif font style, which plain TeX does
not. % So we set up a sf. newfamsffam defsf{fam=sffam setfontstyle{sf}}
letli = sf % Sometimes we call it li, not sf.</p>

<p>% We don&#39;t need math for this font style. defttsl{setfontstyle{ttsl}}</p>

<p>% Set the baselineskip to #1, and the lineskip and strut size %
correspondingly.  There is no deep meaning behind these magic numbers %
used as factors; they just match (closely enough) what Knuth defined. %
deflineskipfactor{.08333} defstrutheightpercent{.70833}
defstrutdepthpercent {.29167} % % can get a sort of poor man&#39;s double
spacing by redefining this. defbaselinefactor{1} % newdimentextleading
defsetleading#1{%</p>

<pre>\dimen0 = #1\relax
\normalbaselineskip = \baselinefactor\dimen0
\normallineskip = \lineskipfactor\normalbaselineskip
\normalbaselines
\setbox\strutbox =\hbox{%
  \vrule width0pt height\strutheightpercent\baselineskip
                  depth \strutdepthpercent \baselineskip
}%</pre>

<p>}</p>

<p>% PDF CMaps.  See also LaTeX&#39;s t1.cmap. % % do nothing with this by
default. expandafterletcsname cmapOT1endcsnamegobble expandafterletcsname
cmapOT1ITendcsnamegobble expandafterletcsname cmapOT1TTendcsnamegobble</p>

<p>% if we are producing pdf, and we have pdffontattr, then define cmaps. %
(pdffontattr was introduced many years ago, but people still run % older
pdftex&#39;s; it&#39;s easy to conditionalize, so we do.) ifpdf
ifxpdffontattrthisisundefined else</p>

<pre>\begingroup
  \catcode`\^^M=\active \def^^M{^^J}% Output line endings as the ^^J char.
  \catcode`\%=12 \immediate\pdfobj stream {%!PS-Adobe-3.0 Resource-CMap</pre>

<p>%%DocumentNeededResources: ProcSet (CIDInit) %%IncludeResource: ProcSet
(CIDInit) %%BeginResource: CMap (TeX-OT1-0) %%Title: (TeX-OT1-0 TeX OT1 0)
%%Version: 1.000 %%EndComments /CIDInit /ProcSet findresource begin 12 dict
begin begincmap /CIDSystemInfo &lt;&lt; /Registry (TeX) /Ordering (OT1)
/Supplement 0 &gt;&gt; def /CMapName /TeX-OT1-0 def /CMapType 2 def 1
begincodespacerange &lt;00&gt; &lt;7F&gt; endcodespacerange 8 beginbfrange
&lt;00&gt; &lt;01&gt; &lt;0393&gt; &lt;09&gt; &lt;0A&gt; &lt;03A8&gt;
&lt;23&gt; &lt;26&gt; &lt;0023&gt; &lt;28&gt; &lt;3B&gt; &lt;0028&gt;
&lt;3F&gt; &lt;5B&gt; &lt;003F&gt; &lt;5D&gt; &lt;5E&gt; &lt;005D&gt;
&lt;61&gt; &lt;7A&gt; &lt;0061&gt; &lt;7B&gt; &lt;7C&gt; &lt;2013&gt;
endbfrange 40 beginbfchar &lt;02&gt; &lt;0398&gt; &lt;03&gt; &lt;039B&gt;
&lt;04&gt; &lt;039E&gt; &lt;05&gt; &lt;03A0&gt; &lt;06&gt; &lt;03A3&gt;
&lt;07&gt; &lt;03D2&gt; &lt;08&gt; &lt;03A6&gt; &lt;0B&gt; &lt;00660066&gt;
&lt;0C&gt; &lt;00660069&gt; &lt;0D&gt; &lt;0066006C&gt; &lt;0E&gt;
&lt;006600660069&gt; &lt;0F&gt; &lt;00660066006C&gt; &lt;10&gt;
&lt;0131&gt; &lt;11&gt; &lt;0237&gt; &lt;12&gt; &lt;0060&gt; &lt;13&gt;
&lt;00B4&gt; &lt;14&gt; &lt;02C7&gt; &lt;15&gt; &lt;02D8&gt; &lt;16&gt;
&lt;00AF&gt; &lt;17&gt; &lt;02DA&gt; &lt;18&gt; &lt;00B8&gt; &lt;19&gt;
&lt;00DF&gt; &lt;1A&gt; &lt;00E6&gt; &lt;1B&gt; &lt;0153&gt; &lt;1C&gt;
&lt;00F8&gt; &lt;1D&gt; &lt;00C6&gt; &lt;1E&gt; &lt;0152&gt; &lt;1F&gt;
&lt;00D8&gt; &lt;21&gt; &lt;0021&gt; &lt;22&gt; &lt;201D&gt; &lt;27&gt;
&lt;2019&gt; &lt;3C&gt; &lt;00A1&gt; &lt;3D&gt; &lt;003D&gt; &lt;3E&gt;
&lt;00BF&gt; &lt;5C&gt; &lt;201C&gt; &lt;5F&gt; &lt;02D9&gt; &lt;60&gt;
&lt;2018&gt; &lt;7D&gt; &lt;02DD&gt; &lt;7E&gt; &lt;007E&gt; &lt;7F&gt;
&lt;00A8&gt; endbfchar endcmap CMapName currentdict /CMap defineresource
pop end end %%EndResource %%EOF</p>

<pre>  }\endgroup
\expandafter\edef\csname cmapOT1\endcsname#1{%
  \pdffontattr#1{/ToUnicode \the\pdflastobj\space 0 R}%
}%</pre>

<p>% % cmapOT1IT</p>

<pre>\begingroup
  \catcode`\^^M=\active \def^^M{^^J}% Output line endings as the ^^J char.
  \catcode`\%=12 \immediate\pdfobj stream {%!PS-Adobe-3.0 Resource-CMap</pre>

<p>%%DocumentNeededResources: ProcSet (CIDInit) %%IncludeResource: ProcSet
(CIDInit) %%BeginResource: CMap (TeX-OT1IT-0) %%Title: (TeX-OT1IT-0 TeX
OT1IT 0) %%Version: 1.000 %%EndComments /CIDInit /ProcSet findresource
begin 12 dict begin begincmap /CIDSystemInfo &lt;&lt; /Registry (TeX)
/Ordering (OT1IT) /Supplement 0 &gt;&gt; def /CMapName /TeX-OT1IT-0 def
/CMapType 2 def 1 begincodespacerange &lt;00&gt; &lt;7F&gt;
endcodespacerange 8 beginbfrange &lt;00&gt; &lt;01&gt; &lt;0393&gt;
&lt;09&gt; &lt;0A&gt; &lt;03A8&gt; &lt;25&gt; &lt;26&gt; &lt;0025&gt;
&lt;28&gt; &lt;3B&gt; &lt;0028&gt; &lt;3F&gt; &lt;5B&gt; &lt;003F&gt;
&lt;5D&gt; &lt;5E&gt; &lt;005D&gt; &lt;61&gt; &lt;7A&gt; &lt;0061&gt;
&lt;7B&gt; &lt;7C&gt; &lt;2013&gt; endbfrange 42 beginbfchar &lt;02&gt;
&lt;0398&gt; &lt;03&gt; &lt;039B&gt; &lt;04&gt; &lt;039E&gt; &lt;05&gt;
&lt;03A0&gt; &lt;06&gt; &lt;03A3&gt; &lt;07&gt; &lt;03D2&gt; &lt;08&gt;
&lt;03A6&gt; &lt;0B&gt; &lt;00660066&gt; &lt;0C&gt; &lt;00660069&gt;
&lt;0D&gt; &lt;0066006C&gt; &lt;0E&gt; &lt;006600660069&gt; &lt;0F&gt;
&lt;00660066006C&gt; &lt;10&gt; &lt;0131&gt; &lt;11&gt; &lt;0237&gt;
&lt;12&gt; &lt;0060&gt; &lt;13&gt; &lt;00B4&gt; &lt;14&gt; &lt;02C7&gt;
&lt;15&gt; &lt;02D8&gt; &lt;16&gt; &lt;00AF&gt; &lt;17&gt; &lt;02DA&gt;
&lt;18&gt; &lt;00B8&gt; &lt;19&gt; &lt;00DF&gt; &lt;1A&gt; &lt;00E6&gt;
&lt;1B&gt; &lt;0153&gt; &lt;1C&gt; &lt;00F8&gt; &lt;1D&gt; &lt;00C6&gt;
&lt;1E&gt; &lt;0152&gt; &lt;1F&gt; &lt;00D8&gt; &lt;21&gt; &lt;0021&gt;
&lt;22&gt; &lt;201D&gt; &lt;23&gt; &lt;0023&gt; &lt;24&gt; &lt;00A3&gt;
&lt;27&gt; &lt;2019&gt; &lt;3C&gt; &lt;00A1&gt; &lt;3D&gt; &lt;003D&gt;
&lt;3E&gt; &lt;00BF&gt; &lt;5C&gt; &lt;201C&gt; &lt;5F&gt; &lt;02D9&gt;
&lt;60&gt; &lt;2018&gt; &lt;7D&gt; &lt;02DD&gt; &lt;7E&gt; &lt;007E&gt;
&lt;7F&gt; &lt;00A8&gt; endbfchar endcmap CMapName currentdict /CMap
defineresource pop end end %%EndResource %%EOF</p>

<pre>  }\endgroup
\expandafter\edef\csname cmapOT1IT\endcsname#1{%
  \pdffontattr#1{/ToUnicode \the\pdflastobj\space 0 R}%
}%</pre>

<p>% % cmapOT1TT</p>

<pre>\begingroup
  \catcode`\^^M=\active \def^^M{^^J}% Output line endings as the ^^J char.
  \catcode`\%=12 \immediate\pdfobj stream {%!PS-Adobe-3.0 Resource-CMap</pre>

<p>%%DocumentNeededResources: ProcSet (CIDInit) %%IncludeResource: ProcSet
(CIDInit) %%BeginResource: CMap (TeX-OT1TT-0) %%Title: (TeX-OT1TT-0 TeX
OT1TT 0) %%Version: 1.000 %%EndComments /CIDInit /ProcSet findresource
begin 12 dict begin begincmap /CIDSystemInfo &lt;&lt; /Registry (TeX)
/Ordering (OT1TT) /Supplement 0 &gt;&gt; def /CMapName /TeX-OT1TT-0 def
/CMapType 2 def 1 begincodespacerange &lt;00&gt; &lt;7F&gt;
endcodespacerange 5 beginbfrange &lt;00&gt; &lt;01&gt; &lt;0393&gt;
&lt;09&gt; &lt;0A&gt; &lt;03A8&gt; &lt;21&gt; &lt;26&gt; &lt;0021&gt;
&lt;28&gt; &lt;5F&gt; &lt;0028&gt; &lt;61&gt; &lt;7E&gt; &lt;0061&gt;
endbfrange 32 beginbfchar &lt;02&gt; &lt;0398&gt; &lt;03&gt; &lt;039B&gt;
&lt;04&gt; &lt;039E&gt; &lt;05&gt; &lt;03A0&gt; &lt;06&gt; &lt;03A3&gt;
&lt;07&gt; &lt;03D2&gt; &lt;08&gt; &lt;03A6&gt; &lt;0B&gt; &lt;2191&gt;
&lt;0C&gt; &lt;2193&gt; &lt;0D&gt; &lt;0027&gt; &lt;0E&gt; &lt;00A1&gt;
&lt;0F&gt; &lt;00BF&gt; &lt;10&gt; &lt;0131&gt; &lt;11&gt; &lt;0237&gt;
&lt;12&gt; &lt;0060&gt; &lt;13&gt; &lt;00B4&gt; &lt;14&gt; &lt;02C7&gt;
&lt;15&gt; &lt;02D8&gt; &lt;16&gt; &lt;00AF&gt; &lt;17&gt; &lt;02DA&gt;
&lt;18&gt; &lt;00B8&gt; &lt;19&gt; &lt;00DF&gt; &lt;1A&gt; &lt;00E6&gt;
&lt;1B&gt; &lt;0153&gt; &lt;1C&gt; &lt;00F8&gt; &lt;1D&gt; &lt;00C6&gt;
&lt;1E&gt; &lt;0152&gt; &lt;1F&gt; &lt;00D8&gt; &lt;20&gt; &lt;2423&gt;
&lt;27&gt; &lt;2019&gt; &lt;60&gt; &lt;2018&gt; &lt;7F&gt; &lt;00A8&gt;
endbfchar endcmap CMapName currentdict /CMap defineresource pop end end
%%EndResource %%EOF</p>

<pre>  }\endgroup
\expandafter\edef\csname cmapOT1TT\endcsname#1{%
  \pdffontattr#1{/ToUnicode \the\pdflastobj\space 0 R}%
}%</pre>

<p>fifi</p>

<p>% Set the font macro #1 to the font named fontprefix#2. % #3 is the
font&#39;s design size, #4 is a scale factor, #5 is the CMap % encoding
(only OT1, OT1IT and OT1TT are allowed, or empty to omit). % Example: % #1
= textrm % #2 = rmshape % #3 = 10 % #4 = mainmagstep % #5 = OT1 %
defsetfont#1#2#3#4#5{%</p>

<pre>\font#1=\fontprefix#2#3 scaled #4
\csname cmap#5\endcsname#1%</pre>

<p>} % This is what gets called when #5 of setfont is empty. letcmapgobble % %
(end of cmaps)</p>

<p>% Use cm as the default font prefix. % To specify the font prefix, you must
define fontprefix % before you read in texinfo.tex.
ifxfontprefixthisisundefined deffontprefix{cm} fi % Support font families
that don&#39;t use the same naming scheme as CM. defrmshape{r}
defrmbshape{bx}               % where the normal face is bold defbfshape{b}
defbxshape{bx} defttshape{tt} defttbshape{tt} defttslshape{sltt}
defitshape{ti} defitbshape{bxti} defslshape{sl} defslbshape{bxsl}
defsfshape{ss} defsfbshape{ss} defscshape{csc} defscbshape{csc}</p>

<p>% Definitions for a main text size of 11pt.  (The default in Texinfo.) %
defdefinetextfontsizexi{% % Text fonts (11.2pt, magstep1).
deftextnominalsize{11pt} edefmainmagstep{magstephalf}
setfonttextrmrmshape{10}{mainmagstep}{OT1}
setfonttextttttshape{10}{mainmagstep}{OT1TT}
setfonttextbfbfshape{10}{mainmagstep}{OT1}
setfonttextititshape{10}{mainmagstep}{OT1IT}
setfonttextslslshape{10}{mainmagstep}{OT1}
setfonttextsfsfshape{10}{mainmagstep}{OT1}
setfonttextscscshape{10}{mainmagstep}{OT1}
setfonttextttslttslshape{10}{mainmagstep}{OT1TT} fonttexti=cmmi10 scaled
mainmagstep fonttextsy=cmsy10 scaled mainmagstep deftextecsize{1095}</p>

<p>% A few fonts for @defun names and args.
setfontdefbfbfshape{10}{magstep1}{OT1}
setfontdefttttshape{10}{magstep1}{OT1TT}
setfontdefttslttslshape{10}{magstep1}{OT1TT} defdf{lettentt=deftt lettenbf
= defbf lettenttsl=defttsl bf}</p>

<p>% Fonts for indices, footnotes, small examples (9pt).
defsmallnominalsize{9pt} setfontsmallrmrmshape{9}{1000}{OT1}
setfontsmallttttshape{9}{1000}{OT1TT} setfontsmallbfbfshape{10}{900}{OT1}
setfontsmallititshape{9}{1000}{OT1IT} setfontsmallslslshape{9}{1000}{OT1}
setfontsmallsfsfshape{9}{1000}{OT1} setfontsmallscscshape{10}{900}{OT1}
setfontsmallttslttslshape{10}{900}{OT1TT} fontsmalli=cmmi9
fontsmallsy=cmsy9 defsmallecsize{0900}</p>

<p>% Fonts for small examples (8pt). defsmallernominalsize{8pt}
setfontsmallerrmrmshape{8}{1000}{OT1}
setfontsmallerttttshape{8}{1000}{OT1TT}
setfontsmallerbfbfshape{10}{800}{OT1}
setfontsmallerititshape{8}{1000}{OT1IT}
setfontsmallerslslshape{8}{1000}{OT1} setfontsmallersfsfshape{8}{1000}{OT1}
setfontsmallerscscshape{10}{800}{OT1}
setfontsmallerttslttslshape{10}{800}{OT1TT} fontsmalleri=cmmi8
fontsmallersy=cmsy8 defsmallerecsize{0800}</p>

<p>% Fonts for title page (20.4pt): deftitlenominalsize{20pt}
setfonttitlermrmbshape{12}{magstep3}{OT1}
setfonttitleititbshape{10}{magstep4}{OT1IT}
setfonttitleslslbshape{10}{magstep4}{OT1}
setfonttitlettttbshape{12}{magstep3}{OT1TT}
setfonttitlettslttslshape{10}{magstep4}{OT1TT}
setfonttitlesfsfbshape{17}{magstep1}{OT1} lettitlebf=titlerm
setfonttitlescscbshape{10}{magstep4}{OT1} fonttitlei=cmmi12 scaled magstep3
fonttitlesy=cmsy10 scaled magstep4 deftitleecsize{2074}</p>

<p>% Chapter (and unnumbered) fonts (17.28pt). defchapnominalsize{17pt}
setfontchaprmrmbshape{12}{magstep2}{OT1}
setfontchapititbshape{10}{magstep3}{OT1IT}
setfontchapslslbshape{10}{magstep3}{OT1}
setfontchapttttbshape{12}{magstep2}{OT1TT}
setfontchapttslttslshape{10}{magstep3}{OT1TT}
setfontchapsfsfbshape{17}{1000}{OT1} letchapbf=chaprm
setfontchapscscbshape{10}{magstep3}{OT1} fontchapi=cmmi12 scaled magstep2
fontchapsy=cmsy10 scaled magstep3 defchapecsize{1728}</p>

<p>% Section fonts (14.4pt). defsecnominalsize{14pt}
setfontsecrmrmbshape{12}{magstep1}{OT1}
setfontsecititbshape{10}{magstep2}{OT1IT}
setfontsecslslbshape{10}{magstep2}{OT1}
setfontsecttttbshape{12}{magstep1}{OT1TT}
setfontsecttslttslshape{10}{magstep2}{OT1TT}
setfontsecsfsfbshape{12}{magstep1}{OT1} letsecbfsecrm
setfontsecscscbshape{10}{magstep2}{OT1} fontseci=cmmi12 scaled magstep1
fontsecsy=cmsy10 scaled magstep2 defsececsize{1440}</p>

<p>% Subsection fonts (13.15pt). defssecnominalsize{13pt}
setfontssecrmrmbshape{12}{magstephalf}{OT1}
setfontssecititbshape{10}{1315}{OT1IT} setfontssecslslbshape{10}{1315}{OT1}
setfontssecttttbshape{12}{magstephalf}{OT1TT}
setfontssecttslttslshape{10}{1315}{OT1TT}
setfontssecsfsfbshape{12}{magstephalf}{OT1} letssecbfssecrm
setfontssecscscbshape{10}{1315}{OT1} fontsseci=cmmi12 scaled magstephalf
fontssecsy=cmsy10 scaled 1315 defssececsize{1200}</p>

<p>% Reduced fonts for @acro in text (10pt). defreducednominalsize{10pt}
setfontreducedrmrmshape{10}{1000}{OT1}
setfontreducedttttshape{10}{1000}{OT1TT}
setfontreducedbfbfshape{10}{1000}{OT1}
setfontreducedititshape{10}{1000}{OT1IT}
setfontreducedslslshape{10}{1000}{OT1}
setfontreducedsfsfshape{10}{1000}{OT1}
setfontreducedscscshape{10}{1000}{OT1}
setfontreducedttslttslshape{10}{1000}{OT1TT} fontreducedi=cmmi10
fontreducedsy=cmsy10 defreducedecsize{1000}</p>

<p>textleading = 13.2pt % line spacing for 11pt CM textfonts            %
reset the current fonts rm } % end of 11pt text font size definitions,
definetextfontsizexi</p>

<p>% Definitions to make the main text be 10pt Computer Modern, with %
section, chapter, etc., sizes following suit.  This is for the GNU % Press
printing of the Emacs 22 manual.  Maybe other manuals in the % future. 
Used with @smallbook, which sets the leading to 12pt. %
defdefinetextfontsizex{% % Text fonts (10pt). deftextnominalsize{10pt}
edefmainmagstep{1000} setfonttextrmrmshape{10}{mainmagstep}{OT1}
setfonttextttttshape{10}{mainmagstep}{OT1TT}
setfonttextbfbfshape{10}{mainmagstep}{OT1}
setfonttextititshape{10}{mainmagstep}{OT1IT}
setfonttextslslshape{10}{mainmagstep}{OT1}
setfonttextsfsfshape{10}{mainmagstep}{OT1}
setfonttextscscshape{10}{mainmagstep}{OT1}
setfonttextttslttslshape{10}{mainmagstep}{OT1TT} fonttexti=cmmi10 scaled
mainmagstep fonttextsy=cmsy10 scaled mainmagstep deftextecsize{1000}</p>

<p>% A few fonts for @defun names and args.
setfontdefbfbfshape{10}{magstephalf}{OT1}
setfontdefttttshape{10}{magstephalf}{OT1TT}
setfontdefttslttslshape{10}{magstephalf}{OT1TT} defdf{lettentt=deftt
lettenbf = defbf lettenttsl=defttsl bf}</p>

<p>% Fonts for indices, footnotes, small examples (9pt).
defsmallnominalsize{9pt} setfontsmallrmrmshape{9}{1000}{OT1}
setfontsmallttttshape{9}{1000}{OT1TT} setfontsmallbfbfshape{10}{900}{OT1}
setfontsmallititshape{9}{1000}{OT1IT} setfontsmallslslshape{9}{1000}{OT1}
setfontsmallsfsfshape{9}{1000}{OT1} setfontsmallscscshape{10}{900}{OT1}
setfontsmallttslttslshape{10}{900}{OT1TT} fontsmalli=cmmi9
fontsmallsy=cmsy9 defsmallecsize{0900}</p>

<p>% Fonts for small examples (8pt). defsmallernominalsize{8pt}
setfontsmallerrmrmshape{8}{1000}{OT1}
setfontsmallerttttshape{8}{1000}{OT1TT}
setfontsmallerbfbfshape{10}{800}{OT1}
setfontsmallerititshape{8}{1000}{OT1IT}
setfontsmallerslslshape{8}{1000}{OT1} setfontsmallersfsfshape{8}{1000}{OT1}
setfontsmallerscscshape{10}{800}{OT1}
setfontsmallerttslttslshape{10}{800}{OT1TT} fontsmalleri=cmmi8
fontsmallersy=cmsy8 defsmallerecsize{0800}</p>

<p>% Fonts for title page (20.4pt): deftitlenominalsize{20pt}
setfonttitlermrmbshape{12}{magstep3}{OT1}
setfonttitleititbshape{10}{magstep4}{OT1IT}
setfonttitleslslbshape{10}{magstep4}{OT1}
setfonttitlettttbshape{12}{magstep3}{OT1TT}
setfonttitlettslttslshape{10}{magstep4}{OT1TT}
setfonttitlesfsfbshape{17}{magstep1}{OT1} lettitlebf=titlerm
setfonttitlescscbshape{10}{magstep4}{OT1} fonttitlei=cmmi12 scaled magstep3
fonttitlesy=cmsy10 scaled magstep4 deftitleecsize{2074}</p>

<p>% Chapter fonts (14.4pt). defchapnominalsize{14pt}
setfontchaprmrmbshape{12}{magstep1}{OT1}
setfontchapititbshape{10}{magstep2}{OT1IT}
setfontchapslslbshape{10}{magstep2}{OT1}
setfontchapttttbshape{12}{magstep1}{OT1TT}
setfontchapttslttslshape{10}{magstep2}{OT1TT}
setfontchapsfsfbshape{12}{magstep1}{OT1} letchapbfchaprm
setfontchapscscbshape{10}{magstep2}{OT1} fontchapi=cmmi12 scaled magstep1
fontchapsy=cmsy10 scaled magstep2 defchapecsize{1440}</p>

<p>% Section fonts (12pt). defsecnominalsize{12pt}
setfontsecrmrmbshape{12}{1000}{OT1}
setfontsecititbshape{10}{magstep1}{OT1IT}
setfontsecslslbshape{10}{magstep1}{OT1}
setfontsecttttbshape{12}{1000}{OT1TT}
setfontsecttslttslshape{10}{magstep1}{OT1TT}
setfontsecsfsfbshape{12}{1000}{OT1} letsecbfsecrm
setfontsecscscbshape{10}{magstep1}{OT1} fontseci=cmmi12 fontsecsy=cmsy10
scaled magstep1 defsececsize{1200}</p>

<p>% Subsection fonts (10pt). defssecnominalsize{10pt}
setfontssecrmrmbshape{10}{1000}{OT1} setfontssecititbshape{10}{1000}{OT1IT}
setfontssecslslbshape{10}{1000}{OT1} setfontssecttttbshape{10}{1000}{OT1TT}
setfontssecttslttslshape{10}{1000}{OT1TT}
setfontssecsfsfbshape{10}{1000}{OT1} letssecbfssecrm
setfontssecscscbshape{10}{1000}{OT1} fontsseci=cmmi10 fontssecsy=cmsy10
defssececsize{1000}</p>

<p>% Reduced fonts for @acro in text (9pt). defreducednominalsize{9pt}
setfontreducedrmrmshape{9}{1000}{OT1}
setfontreducedttttshape{9}{1000}{OT1TT}
setfontreducedbfbfshape{10}{900}{OT1}
setfontreducedititshape{9}{1000}{OT1IT}
setfontreducedslslshape{9}{1000}{OT1} setfontreducedsfsfshape{9}{1000}{OT1}
setfontreducedscscshape{10}{900}{OT1}
setfontreducedttslttslshape{10}{900}{OT1TT} fontreducedi=cmmi9
fontreducedsy=cmsy9 defreducedecsize{0900}</p>

<p>divideparskip by 2  % reduce space between paragraphs textleading = 12pt  
% line spacing for 10pt CM textfonts            % reset the current fonts
rm } % end of 10pt text font size definitions, definetextfontsizex</p>

<p>% We provide the user-level command %   @fonttextsize 10 % (or 11) to
redefine the text font size.  pt is assumed. % defxiword{11} defxword{10}
defxwordpt{10pt} % parseargdeffonttextsize{%</p>

<pre> \def\textsizearg{#1}%
 %\wlog{doing @fonttextsize \textsizearg}%
 %
 % Set \globaldefs so that documents can use this inside @tex, since
 % makeinfo 4.8 does not support it, but we need it nonetheless.
 %
\begingroup \globaldefs=1
 \ifx\textsizearg\xword \definetextfontsizex
 \else \ifx\textsizearg\xiword \definetextfontsizexi
 \else
   \errhelp=\EMsimple
   \errmessage{@fonttextsize only supports `10&#39; or `11&#39;, not `\textsizearg&#39;}
 \fi\fi
\endgroup</pre>

<p>}</p>

<p>% In order for the font changes to affect most math symbols and letters, %
we have to define the textfont of the standard families.  Since % texinfo
doesn&#39;t allow for producing subscripts and superscripts except % in the
main text, we don&#39;t bother to reset scriptfont and % scriptscriptfont
(which would also require loading a lot more fonts). % defresetmathfonts{%</p>

<pre>\textfont0=\tenrm \textfont1=\teni \textfont2=\tensy
\textfont\itfam=\tenit \textfont\slfam=\tensl \textfont\bffam=\tenbf
\textfont\ttfam=\tentt \textfont\sffam=\tensf</pre>

<p>}</p>

<p>% The font-changing commands redefine the meanings of tenSTYLE, instead %
of just STYLE.  We do this because STYLE needs to also set the % current
fam for math mode.  Our STYLE (e.g., rm) commands hardwire % tenSTYLE to
set the current font. % % Each font-changing command also sets the names
lsize (one size lower) % and lllsize (three sizes lower).  These relative
commands are used in % the LaTeX logo and acronyms. % % This all needs
generalizing, badly. % deftextfonts{%</p>

<pre>\let\tenrm=\textrm \let\tenit=\textit \let\tensl=\textsl
\let\tenbf=\textbf \let\tentt=\texttt \let\smallcaps=\textsc
\let\tensf=\textsf \let\teni=\texti \let\tensy=\textsy
\let\tenttsl=\textttsl
\def\curfontsize{text}%
\def\lsize{reduced}\def\lllsize{smaller}%
\resetmathfonts \setleading{\textleading}}</pre>

<p>deftitlefonts{%</p>

<pre>\let\tenrm=\titlerm \let\tenit=\titleit \let\tensl=\titlesl
\let\tenbf=\titlebf \let\tentt=\titlett \let\smallcaps=\titlesc
\let\tensf=\titlesf \let\teni=\titlei \let\tensy=\titlesy
\let\tenttsl=\titlettsl
\def\curfontsize{title}%
\def\lsize{chap}\def\lllsize{subsec}%
\resetmathfonts \setleading{27pt}}</pre>

<p>deftitlefont#1{{titlefontsrmisbold #1}} defchapfonts{%</p>

<pre>\let\tenrm=\chaprm \let\tenit=\chapit \let\tensl=\chapsl
\let\tenbf=\chapbf \let\tentt=\chaptt \let\smallcaps=\chapsc
\let\tensf=\chapsf \let\teni=\chapi \let\tensy=\chapsy
\let\tenttsl=\chapttsl
\def\curfontsize{chap}%
\def\lsize{sec}\def\lllsize{text}%
\resetmathfonts \setleading{19pt}}</pre>

<p>defsecfonts{%</p>

<pre>\let\tenrm=\secrm \let\tenit=\secit \let\tensl=\secsl
\let\tenbf=\secbf \let\tentt=\sectt \let\smallcaps=\secsc
\let\tensf=\secsf \let\teni=\seci \let\tensy=\secsy
\let\tenttsl=\secttsl
\def\curfontsize{sec}%
\def\lsize{subsec}\def\lllsize{reduced}%
\resetmathfonts \setleading{16pt}}</pre>

<p>defsubsecfonts{%</p>

<pre>\let\tenrm=\ssecrm \let\tenit=\ssecit \let\tensl=\ssecsl
\let\tenbf=\ssecbf \let\tentt=\ssectt \let\smallcaps=\ssecsc
\let\tensf=\ssecsf \let\teni=\sseci \let\tensy=\ssecsy
\let\tenttsl=\ssecttsl
\def\curfontsize{ssec}%
\def\lsize{text}\def\lllsize{small}%
\resetmathfonts \setleading{15pt}}</pre>

<p>letsubsubsecfonts = subsecfonts defreducedfonts{%</p>

<pre>\let\tenrm=\reducedrm \let\tenit=\reducedit \let\tensl=\reducedsl
\let\tenbf=\reducedbf \let\tentt=\reducedtt \let\reducedcaps=\reducedsc
\let\tensf=\reducedsf \let\teni=\reducedi \let\tensy=\reducedsy
\let\tenttsl=\reducedttsl
\def\curfontsize{reduced}%
\def\lsize{small}\def\lllsize{smaller}%
\resetmathfonts \setleading{10.5pt}}</pre>

<p>defsmallfonts{%</p>

<pre>\let\tenrm=\smallrm \let\tenit=\smallit \let\tensl=\smallsl
\let\tenbf=\smallbf \let\tentt=\smalltt \let\smallcaps=\smallsc
\let\tensf=\smallsf \let\teni=\smalli \let\tensy=\smallsy
\let\tenttsl=\smallttsl
\def\curfontsize{small}%
\def\lsize{smaller}\def\lllsize{smaller}%
\resetmathfonts \setleading{10.5pt}}</pre>

<p>defsmallerfonts{%</p>

<pre>\let\tenrm=\smallerrm \let\tenit=\smallerit \let\tensl=\smallersl
\let\tenbf=\smallerbf \let\tentt=\smallertt \let\smallcaps=\smallersc
\let\tensf=\smallersf \let\teni=\smalleri \let\tensy=\smallersy
\let\tenttsl=\smallerttsl
\def\curfontsize{smaller}%
\def\lsize{smaller}\def\lllsize{smaller}%
\resetmathfonts \setleading{9.5pt}}</pre>

<p>% Fonts for short table of contents.
setfontshortcontrmrmshape{12}{1000}{OT1}
setfontshortcontbfbfshape{10}{magstep1}{OT1}  % no cmb12
setfontshortcontslslshape{12}{1000}{OT1}
setfontshortcontttttshape{12}{1000}{OT1TT}</p>

<p>% Define these just so they can be easily changed for other fonts.
defangleleft{$langle$} defangleright{$rangle$}</p>

<p>% Set the fonts to use with the @small… environments. letsmallexamplefonts
= smallfonts</p>

<p>% About smallexamplefonts.  If we use smallfonts (9pt), @smallexample % can
fit this many characters: %   8.5x11=86   smallbook=72  a4=90  a5=69 % If
we use scriptfonts (8pt), then we can fit this many characters: %  
8.5x11=90+  smallbook=80  a4=90+  a5=77 % For me, subjectively, the few
extra characters that fit aren&#39;t worth % the additional smallness of
8pt.  So I&#39;m making the default 9pt. % % By the way, for comparison,
here&#39;s what fits with @example (10pt): %   8.5x11=71  smallbook=60 
a4=75  a5=58 % –karl, 24jan03.</p>

<p>% Set up the default fonts, so we can use them for creating boxes. %
definetextfontsizexi</p>

<p>message{markup,}</p>

<p>% Check if we are currently using a typewriter font.  Since all the %
Computer Modern typewriter fonts have zero interword stretch (and %
shrink), and it is reasonable to expect all typewriter fonts to have % this
property, we can check that font parameter. %
defifmonospace{ifdimfontdimen3font=0pt }</p>

<p>% Markup style infrastructure.  defmarkupstylesetupINITMACRO will % define
and register INITMACRO to be called on markup style changes. % INITMACRO
can check currentmarkupstyle for the innermost % style and the set of
ifmarkupSTYLE switches for all styles % currently in effect.
newififmarkupvar newififmarkupsamp newififmarkupkey %newififmarkupfile %
@file == @samp. %newififmarkupoption % @option == @samp. newififmarkupcode
newififmarkupkbd %newififmarkupenv % @env == @code. %newififmarkupcommand %
@command == @code. newififmarkuptex % @tex (and part of @math, for now).
newififmarkupexample newififmarkupverb newififmarkupverbatim</p>

<p>letcurrentmarkupstyleempty</p>

<p>defsetupmarkupstyle#1{%</p>

<pre>\csname markup#1true\endcsname
\def\currentmarkupstyle{#1}%
\markupstylesetup</pre>

<p>}</p>

<p>letmarkupstylesetupempty</p>

<p>defdefmarkupstylesetup#1{%</p>

<pre>\expandafter\def\expandafter\markupstylesetup
  \expandafter{\markupstylesetup #1}%
\def#1%</pre>

<p>}</p>

<p>% Markup style setup for left and right quotes.
defmarkupstylesetupmarkupsetuplq{%</p>

<pre>\expandafter\let\expandafter \temp
  \csname markupsetuplq\currentmarkupstyle\endcsname
\ifx\temp\relax \markupsetuplqdefault \else \temp \fi</pre>

<p>}</p>

<p>defmarkupstylesetupmarkupsetuprq{%</p>

<pre>\expandafter\let\expandafter \temp
  \csname markupsetuprq\currentmarkupstyle\endcsname
\ifx\temp\relax \markupsetuprqdefault \else \temp \fi</pre>

<p>}</p>

<p>{ catcode`&#39;=active catcode``=active</p>

<p>gdefmarkupsetuplqdefault{let`lq} gdefmarkupsetuprqdefault{let&#39;rq}</p>

<p>gdefmarkupsetcodequoteleft{let`codequoteleft}
gdefmarkupsetcodequoteright{let&#39;codequoteright} }</p>

<p>letmarkupsetuplqcode markupsetcodequoteleft letmarkupsetuprqcode
markupsetcodequoteright % letmarkupsetuplqexample markupsetcodequoteleft
letmarkupsetuprqexample markupsetcodequoteright % letmarkupsetuplqkbd    
markupsetcodequoteleft letmarkupsetuprqkbd     markupsetcodequoteright %
letmarkupsetuplqsamp markupsetcodequoteleft letmarkupsetuprqsamp
markupsetcodequoteright % letmarkupsetuplqverb markupsetcodequoteleft
letmarkupsetuprqverb markupsetcodequoteright % letmarkupsetuplqverbatim
markupsetcodequoteleft letmarkupsetuprqverbatim markupsetcodequoteright</p>

<p>% Allow an option to not use regular directed right quote/apostrophe %
(char 0x27), but instead the undirected quote from cmtt (char 0x0d). % The
undirected quote is ugly, so don&#39;t make it the default, but it % works
for pasting with more pdf viewers (at least evince), the % lilypond
developers report.  xpdf does work with the regular 0x27. %
defcodequoteright{%</p>

<pre>\expandafter\ifx\csname SETtxicodequoteundirected\endcsname\relax
  \expandafter\ifx\csname SETcodequoteundirected\endcsname\relax
    &#39;%
  \else \char&#39;15 \fi
\else \char&#39;15 \fi</pre>

<p>} % % and a similar option for the left quote char vs. a grave accent. %
Modern fonts display ASCII 0x60 as a grave accent, so some people like %
the code environments to do likewise. % defcodequoteleft{%</p>

<pre>\expandafter\ifx\csname SETtxicodequotebacktick\endcsname\relax
  \expandafter\ifx\csname SETcodequotebacktick\endcsname\relax
    % [Knuth] pp. 380,381,391
    % \relax disables Spanish ligatures ?` and !` of \tt font.
    \relax`%
  \else \char&#39;22 \fi
\else \char&#39;22 \fi</pre>

<p>}</p>

<p>% Commands to set the quote options. %  parseargdefcodequoteundirected{%</p>

<pre>\def\temp{#1}%
\ifx\temp\onword
  \expandafter\let\csname SETtxicodequoteundirected\endcsname
    = t%
\else\ifx\temp\offword
  \expandafter\let\csname SETtxicodequoteundirected\endcsname
    = \relax
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @codequoteundirected value `\temp&#39;, must be on|off}%
\fi\fi</pre>

<p>} % parseargdefcodequotebacktick{%</p>

<pre>\def\temp{#1}%
\ifx\temp\onword
  \expandafter\let\csname SETtxicodequotebacktick\endcsname
    = t%
\else\ifx\temp\offword
  \expandafter\let\csname SETtxicodequotebacktick\endcsname
    = \relax
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @codequotebacktick value `\temp&#39;, must be on|off}%
\fi\fi</pre>

<p>}</p>

<p>% [Knuth] pp. 380,381,391, disable Spanish ligatures ?` and !` of tt font.
defnoligaturesquoteleft{relaxlq}</p>

<p>% Count depth in font-changes, for error checks newcountfontdepth
fontdepth=0</p>

<p>% Font commands.</p>

<p>% #1 is the font command (sl or it), #2 is the text to slant. % If we are
in a monospaced environment, however, 1) always use ttsl, % and 2) do not
add an italic correction. defdosmartslant#1#2{%</p>

<pre>\ifusingtt 
  {{\ttsl #2}\let\next=\relax}%
  {\def\next{{#1#2}\futurelet\next\smartitaliccorrection}}%
\next</pre>

<p>} defsmartslanted{dosmartslantsl} defsmartitalic{dosmartslantit}</p>

<p>% Output an italic correction unless next (presumed to be the following %
character) is such as not to need one. defsmartitaliccorrection{%</p>

<pre>\ifx\next,%
\else\ifx\next-%
\else\ifx\next.%
\else\ptexslash
\fi\fi\fi
\aftersmartic</pre>

<p>}</p>

<p>% Unconditional use ttsl, and no ic.  @var is set to this for defuns.
defttslanted#1{{ttsl #1}}</p>

<p>% @cite is like smartslanted except unconditionally use sl.  We never want
% ttsl for book titles, do we? defcite#1{{sl
#1}futureletnextsmartitaliccorrection}</p>

<p>defaftersmartic{} defvar#1{%</p>

<pre>\let\saveaftersmartic = \aftersmartic
\def\aftersmartic{\null\let\aftersmartic=\saveaftersmartic}%
\smartslanted{#1}%</pre>

<p>}</p>

<p>leti=smartitalic letslanted=smartslanted letdfn=smartslanted
letemph=smartitalic</p>

<p>% Explicit font changes: @r, @sc, undocumented @ii. defr#1{{rm #1}}        
% roman font defsc#1{{smallcaps#1}}       % smallcaps font defii#1{{it #1}}
% italic font</p>

<p>% @b, explicit bold.  Also @strong. defb#1{{bf #1}} letstrong=b</p>

<p>% @sansserif, explicit sans. defsansserif#1{{sf #1}}</p>

<p>% We can&#39;t just use exhyphenpenalty, because that only has effect at %
the end of a paragraph.  Restore normal hyphenation at the end of the %
group within which nohyphenation is presumably called. %
defnohyphenation{hyphencharfont = -1  aftergrouprestorehyphenation}
defrestorehyphenation{hyphencharfont = `- }</p>

<p>% Set sfcode to normal for the chars that usually have another value. %
Can&#39;t use plain&#39;s frenchspacing because it uses the `x notation,
and % sometimes x has an active definition that messes things up. %
catcode`@=11</p>

<pre>\def\plainfrenchspacing{%
  \sfcode\dotChar  =\@m \sfcode\questChar=\@m \sfcode\exclamChar=\@m
  \sfcode\colonChar=\@m \sfcode\semiChar =\@m \sfcode\commaChar =\@m
  \def\endofsentencespacefactor{1000}% for @. and friends
}
\def\plainnonfrenchspacing{%
  \sfcode`\.3000\sfcode`\?3000\sfcode`\!3000
  \sfcode`\:2000\sfcode`\;1500\sfcode`\,1250
  \def\endofsentencespacefactor{3000}% for @. and friends
}</pre>

<p>catcode`@=other defendofsentencespacefactor{3000}% default</p>

<p>% @t, explicit typewriter. deft#1{%</p>

<pre>{\tt \rawbackslash \plainfrenchspacing #1}%
\null</pre>

<p>}</p>

<p>% @samp. defsamp#1{{setupmarkupstyle{samp}lqtclose{#1}rqnull}}</p>

<p>% @indicateurl is samp, that is, with quotes. letindicateurl=samp</p>

<p>% @code (and similar) prints in typewriter, but with spaces the same % size
as normal in the surrounding text, without hyphenation, etc. % This is a
subroutine for that. deftclose#1{%</p>

<pre>{%
  % Change normal interword space to be same as for the current font.
  \spaceskip = \fontdimen2\font
  %
  % Switch to typewriter.
  \tt
  %
  % But `\ &#39; produces the large typewriter interword space.
  \def\ {{\spaceskip = 0pt{} }}%
  %
  % Turn off hyphenation.
  \nohyphenation
  %
  \rawbackslash
  \plainfrenchspacing
  #1%
}%
\null % reset spacefactor to 1000</pre>

<p>}</p>

<p>% We <strong>must</strong> turn on hyphenation at `-&#39; and `_&#39; in
@code. % Otherwise, it is too hard to avoid overfull hboxes % in the Emacs
manual, the Library manual, etc. % % Unfortunately, TeX uses one parameter
(hyphenchar) to control % both hyphenation at - and hyphenation within
words. % We must therefore turn them both off (tclose does that) % and
arrange explicitly to hyphenate at a dash. %  – rms. {</p>

<pre>\catcode`\-=\active \catcode`\_=\active
\catcode`\&#39;=\active \catcode`\`=\active
\global\let&#39;=\rq \global\let`=\lq  % default definitions
%
\global\def\code{\begingroup
  \setupmarkupstyle{code}%
  % The following should really be moved into \setupmarkupstyle handlers.
  \catcode\dashChar=\active  \catcode\underChar=\active
  \ifallowcodebreaks
   \let-\codedash
   \let_\codeunder
  \else
   \let-\normaldash
   \let_\realunder
  \fi
  \codex
}</pre>

<p>}</p>

<p>defcodex #1{tclose{#1}endgroup}</p>

<p>defnormaldash{-} defcodedash{-discretionary{}{}{}} defcodeunder{%</p>

<pre>% this is all so @math{@code{var_name}+1} can work.  In math mode, _
% is &quot;active&quot; (mathcode&quot;8000) and \normalunderscore (or \char95, etc.)
% will therefore expand the active definition of _, which is us
% (inside @code that is), therefore an endless loop.
\ifusingtt{\ifmmode
             \mathchar&quot;075F % class 0=ordinary, family 7=ttfam, pos 0x5F=_.
           \else\normalunderscore \fi
           \discretionary{}{}{}}%
          {\_}%</pre>

<p>}</p>

<p>% An additional complication: the above will allow breaks after, e.g., %
each of the four underscores in __typeof__.  This is bad. %
@allowcodebreaks provides a document-level way to turn breaking at - % and
_ on and off. % newififallowcodebreaks  allowcodebreakstrue</p>

<p>defkeywordtrue{true} defkeywordfalse{false}</p>

<p>parseargdefallowcodebreaks{%</p>

<pre>\def\txiarg{#1}%
\ifx\txiarg\keywordtrue
  \allowcodebreakstrue
\else\ifx\txiarg\keywordfalse
  \allowcodebreaksfalse
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @allowcodebreaks option `\txiarg&#39;, must be true|false}%
\fi\fi</pre>

<p>}</p>

<p>% For @command, @env, @file, @option quotes seem unnecessary, % so use code
rather than samp. letcommand=code letenv=code letfile=code letoption=code</p>

<p>% @uref (abbreviation for `urlref&#39;) takes an optional (comma-separated)
% second argument specifying the text to display and an optional third %
arg as text to display instead of (rather than in addition to) the url %
itself.  First (mandatory) arg is the url. % (This urefnobreak definition
isn&#39;t used now, leaving it for a while % for comparison.)
defurefnobreak#1{dourefnobreak #1,,,finish}
defdourefnobreak#1,#2,#3,#4finish{begingroup</p>

<pre>\unsepspaces
\pdfurl{#1}%
\setbox0 = \hbox{\ignorespaces #3}%
\ifdim\wd0 &gt; 0pt
  \unhbox0 % third arg given, show only that
\else
  \setbox0 = \hbox{\ignorespaces #2}%
  \ifdim\wd0 &gt; 0pt
    \ifpdf
      \unhbox0             % PDF: 2nd arg given, show only it
    \else
      \unhbox0\ (\code{#1})% DVI: 2nd arg given, show both it and url
    \fi
  \else
    \code{#1}% only url given, so show it
  \fi
\fi
\endlink</pre>

<p>endgroup}</p>

<p>% This urefbreak definition is the active one. defurefbreak{begingroup
urefcatcodes dourefbreak} leturef=urefbreak
defdourefbreak#1{urefbreakfinish #1,,,finish}
defurefbreakfinish#1,#2,#3,#4finish{% doesn&#39;t work in @example</p>

<pre>\unsepspaces
\pdfurl{#1}%
\setbox0 = \hbox{\ignorespaces #3}%
\ifdim\wd0 &gt; 0pt
  \unhbox0 % third arg given, show only that
\else
  \setbox0 = \hbox{\ignorespaces #2}%
  \ifdim\wd0 &gt; 0pt
    \ifpdf
      \unhbox0             % PDF: 2nd arg given, show only it
    \else
      \unhbox0\ (\urefcode{#1})% DVI: 2nd arg given, show both it and url
    \fi
  \else
    \urefcode{#1}% only url given, so show it
  \fi
\fi
\endlink</pre>

<p>endgroup}</p>

<p>% Allow line breaks around only a few characters (only). defurefcatcodes{%</p>

<pre>\catcode\ampChar=\active   \catcode\dotChar=\active
\catcode\hashChar=\active  \catcode\questChar=\active
\catcode\slashChar=\active</pre>

<p>} {</p>

<pre>\urefcatcodes
%
\global\def\urefcode{\begingroup
  \setupmarkupstyle{code}%
  \urefcatcodes
  \let&amp;\urefcodeamp
  \let.\urefcodedot
  \let#\urefcodehash
  \let?\urefcodequest
  \let/\urefcodeslash
  \codex
}
%
% By default, they are just regular characters.
\global\def&amp;{\normalamp}
\global\def.{\normaldot}
\global\def#{\normalhash}
\global\def?{\normalquest}
\global\def/{\normalslash}</pre>

<p>}</p>

<p>% we put a little stretch before and after the breakable chars, to help %
line breaking of long url&#39;s.  The unequal skips make look better in %
cmtt at least, especially for dots. defurefprestretch{urefprebreak hskip0pt
plus.13em } defurefpoststretch{urefpostbreak hskip0pt plus.1em } %
defurefcodeamp{urefprestretch &urefpoststretch}
defurefcodedot{urefprestretch .urefpoststretch}
defurefcodehash{urefprestretch #urefpoststretch}
defurefcodequest{urefprestretch ?urefpoststretch}
defurefcodeslash{futureletnexturefcodeslashfinish} {</p>

<pre>\catcode`\/=\active
\global\def\urefcodeslashfinish{%
  \urefprestretch \slashChar
  % Allow line break only after the final / in a sequence of
  % slashes, to avoid line break between the slashes in http://.
  \ifx\next/\else \urefpoststretch \fi
}</pre>

<p>}</p>

<p>% <a href="../../../../../../../../../../One.html">One</a> more
complication: by default we&#39;ll break after the special % characters,
but some people like to break before the special chars, so % allow that. 
Also allow no breaking at all, for manual control. % 
parseargdefurefbreakstyle{%</p>

<pre>\def\txiarg{#1}%
\ifx\txiarg\wordnone
  \def\urefprebreak{\nobreak}\def\urefpostbreak{\nobreak}
\else\ifx\txiarg\wordbefore
  \def\urefprebreak{\allowbreak}\def\urefpostbreak{\nobreak}
\else\ifx\txiarg\wordafter
  \def\urefprebreak{\nobreak}\def\urefpostbreak{\allowbreak}
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @urefbreakstyle setting `\txiarg&#39;}%
\fi\fi\fi</pre>

<p>} defwordafter{after} defwordbefore{before} defwordnone{none}</p>

<p>urefbreakstyle after</p>

<p>% @url synonym for @uref, since that&#39;s how everyone uses it. %
leturl=uref</p>

<p>% rms does not like angle brackets –karl, 17may97. % So now @email is just
like @uref, unless we are pdf. % %defemail#1{angleleft{tt #1}angleright}
ifpdf</p>

<pre>\def\email#1{\doemail#1,,\finish}
\def\doemail#1,#2,#3\finish{\begingroup
  \unsepspaces
  \pdfurl{mailto:#1}%
  \setbox0 = \hbox{\ignorespaces #2}%
  \ifdim\wd0&gt;0pt\unhbox0\else\code{#1}\fi
  \endlink
\endgroup}</pre>

<p>else</p>

<pre>\let\email=\uref</pre>

<p>fi</p>

<p>% @kbdinputstyle – arg is `distinct&#39; (@kbd uses slanted tty font
always), %   `example&#39; (@kbd uses ttsl only inside of @example and
friends), %   or `code&#39; (@kbd uses normal tty font always).
parseargdefkbdinputstyle{%</p>

<pre>\def\txiarg{#1}%
\ifx\txiarg\worddistinct
  \gdef\kbdexamplefont{\ttsl}\gdef\kbdfont{\ttsl}%
\else\ifx\txiarg\wordexample
  \gdef\kbdexamplefont{\ttsl}\gdef\kbdfont{\tt}%
\else\ifx\txiarg\wordcode
  \gdef\kbdexamplefont{\tt}\gdef\kbdfont{\tt}%
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @kbdinputstyle setting `\txiarg&#39;}%
\fi\fi\fi</pre>

<p>} defworddistinct{distinct} defwordexample{example} defwordcode{code}</p>

<p>% Default is `distinct&#39;. kbdinputstyle distinct</p>

<p>% @kbd is like @code, except that if the argument is just one @key command,
% then @kbd has no effect.
defkbd#1{{deflook{#1}expandafterkbdsublook??par}}</p>

<p>defxkey{key} defkbdsub#1#2#3par{%</p>

<pre>\def\one{#1}\def\three{#3}\def\threex{??}%
\ifx\one\xkey\ifx\threex\three \key{#2}%
\else{\tclose{\kbdfont\setupmarkupstyle{kbd}\look}}\fi
\else{\tclose{\kbdfont\setupmarkupstyle{kbd}\look}}\fi</pre>

<p>}</p>

<p>% definition of @key that produces a lozenge.  Doesn&#39;t adjust to text
size. %setfontkeyrmrmshape{8}{1000}{OT1} %fontkeysy=cmsy9
%defkey#1{{keyrmtextfont2=keysy leavevmodehbox{% % 
raise0.4pthbox{angleleft}kern-.08emvtop{% %    vbox{hrulekern-0.4pt %    
hbox{raise0.4pthbox{vphantom{angleleft}}#1}}% %    kern-0.4pthrule}% % 
kern-.06emraise0.4pthbox{angleright}}}}</p>

<p>% definition of @key with no lozenge.  If the current font is already %
monospace, don&#39;t change it; that way, we respect @kbdinputstyle.  But %
if it isn&#39;t monospace, then use tt. % defkey#1{{setupmarkupstyle{key}%</p>

<pre>\nohyphenation
\ifmonospace\else\tt\fi
#1}\null}</pre>

<p>% @clicksequence{File @click{} Open …} defclicksequence#1{begingroup
#1endgroup}</p>

<p>% @clickstyle @arrow   (by default) parseargdefclickstyle{defclick{#1}}
defclick{arrow}</p>

<p>% Typeset a dimension, e.g., `in&#39; or `pt&#39;.  The only reason for the
% argument is to make the input look right: @dmn{pt} instead of @dmn{}pt. %
defdmn#1{thinspace #1}</p>

<p>% @l was never documented to mean “switch to the Lisp font&#39;&#39;, % and
it is not used as such in any manual I can find.  We need it for % Polish
suppressed-l.  –karl, 22sep96. %defl#1{{li #1}null}</p>

<p>% @acronym for “FBI”, “NATO”, and the like. % We print this one point size
smaller, since it&#39;s intended for % all-uppercase. %
defacronym#1{doacronym #1,,finish} defdoacronym#1,#2,#3finish{%</p>

<pre>{\selectfonts\lsize #1}%
\def\temp{#2}%
\ifx\temp\empty \else
  \space ({\unsepspaces \ignorespaces \temp \unskip})%
\fi
\null % reset \spacefactor=1000</pre>

<p>}</p>

<p>% @abbr for “Comput. J.” and the like. % No font change, but don&#39;t do
end-of-sentence spacing. % defabbr#1{doabbr #1,,finish}
defdoabbr#1,#2,#3finish{%</p>

<pre>{\plainfrenchspacing #1}%
\def\temp{#2}%
\ifx\temp\empty \else
  \space ({\unsepspaces \ignorespaces \temp \unskip})%
\fi
\null % reset \spacefactor=1000</pre>

<p>}</p>

<p>% @asis just yields its argument.  Used with @table, for example. %
defasis#1{#1}</p>

<p>% @math outputs its argument in math mode. % % <a
href="../../../../../../../../../../One.html">One</a> complication: _
usually means subscripts, but it could also mean % an actual _ character,
as in @math{@var{some_variable} + 1}.  So make % _ active, and distinguish
by seeing if the current family is slfam, % which is what @var uses. {</p>

<pre>\catcode`\_ = \active
\gdef\mathunderscore{%
  \catcode`\_=\active
  \def_{\ifnum\fam=\slfam \_\else\sb\fi}%
}</pre>

<p>} % Another complication: we want \ (and @) to output a math (or tt) . %
FYI, plain.tex uses \ as a temporary control sequence (for no % particular
reason), but this is not advertised and we don&#39;t care. % % The mathchar
is class=0=ordinary, family=7=ttfam, position=5C=.
defmathbackslash{ifnumfam=ttfam mathchar“075C elsebackslash fi} % defmath{%</p>

<pre>\tex
\mathunderscore
\let\\ = \mathbackslash
\mathactive
% make the texinfo accent commands work in math mode
\let\&quot;=\ddot
\let\&#39;=\acute
\let\==\bar
\let\^=\hat
\let\`=\grave
\let\u=\breve
\let\v=\check
\let\~=\tilde
\let\dotaccent=\dot
$\finishmath</pre>

<p>} deffinishmath#1{#1$endgroup}  % Close the group opened by tex.</p>

<p>% Some active characters (such as &lt;) are spaced differently in math. %
We have to reset their definitions in case the @math was an argument % to a
command which sets the catcodes (such as @item or @section). % {</p>

<pre>\catcode`^ = \active
\catcode`&lt; = \active
\catcode`&gt; = \active
\catcode`+ = \active
\catcode`&#39; = \active
\gdef\mathactive{%
  \let^ = \ptexhat
  \let&lt; = \ptexless
  \let&gt; = \ptexgtr
  \let+ = \ptexplus
  \let&#39; = \ptexquoteright
}</pre>

<p>}</p>

<p>% ctrl is no longer a Texinfo command, but leave this definition for fun.
defctrl #1{{tt rawbackslash hat}#1}</p>

<p>% @inlinefmt{FMTNAME,PROCESSED-TEXT} and @inlineraw{FMTNAME,RAW-TEXT}. %
Ignore unless FMTNAME == tex; then it is like @iftex and @tex, % except
specified as a normal braced arg, so no newlines to worry about. % 
defoutfmtnametex{tex} % longdefinlinefmt#1{doinlinefmt #1,finish}
longdefdoinlinefmt#1,#2,finish{%</p>

<pre>\def\inlinefmtname{#1}%
\ifx\inlinefmtname\outfmtnametex \ignorespaces #2\fi</pre>

<p>} % For raw, must switch into @tex before parsing the argument, to avoid %
setting catcodes prematurely.  Doing it this way means that, for % example,
@inlineraw{html, foo{bar} gets a parse error instead of being % ignored. 
But this isn&#39;t important because if people want a literal %
<strong>right</strong> brace they would have to use a command anyway, so
they may as % well use a command to get a left brace too.  We could re-use
the % delimiter character idea from verb, but it seems like overkill. % 
longdefinlineraw{tex doinlineraw} longdefdoinlineraw#1{doinlinerawtwo
#1,finish} defdoinlinerawtwo#1,#2,finish{%</p>

<pre>\def\inlinerawname{#1}%
\ifx\inlinerawname\outfmtnametex \ignorespaces #2\fi
\endgroup % close group opened by \tex.</pre>

<p>}</p>

<p>message{glyphs,} % and logos.</p>

<p>% @@ prints an @, as does @atchar{}. def@{char64 } letatchar=@</p>

<p>% @{ @} @lbracechar{} @rbracechar{} all generate brace characters. % Unless
we&#39;re in typewriter, use ecfont because the CM text fonts do % not have
braces, and we don&#39;t want to switch into math.
defmylbrace{{ifmonospaceelseecfontfi char123}}
defmyrbrace{{ifmonospaceelseecfontfi char125}} let{=mylbrace
letlbracechar={ let}=myrbrace letrbracechar=} begingroup</p>

<pre>% Definitions to produce \{ and \} commands for indices,
% and @{ and @} for the aux/toc files.
\catcode`\{ = \other \catcode`\} = \other
\catcode`\[ = 1 \catcode`\] = 2
\catcode`\! = 0 \catcode`\\ = \other
!gdef!lbracecmd[\{]%
!gdef!rbracecmd[\}]%
!gdef!lbraceatcmd[@{]%
!gdef!rbraceatcmd[@}]%</pre>

<p>!endgroup</p>

<p>% @comma{} to avoid , parsing problems. letcomma = ,</p>

<p>% Accents: @, @dotaccent @ringaccent @ubaraccent @udotaccent % Others are
defined by plain TeX: @` @&#39; @“ @^ @~ @= @u @v @H. let, = ptexc
letdotaccent = ptexdot defringaccent#1{{accent23 #1}} lettieaccent = ptext
letubaraccent = ptexb letudotaccent = d</p>

<p>% Other special characters: @questiondown @exclamdown @ordf @ordm % Plain
TeX defines: @AA @AE @O @OE @L (plus lowercase versions) @ss.
defquestiondown{?`} defexclamdown{!`}
defordf{leavevmoderaise1exhbox{selectfontslllsize underbar{a}}}
defordm{leavevmoderaise1exhbox{selectfontslllsize underbar{o}}}</p>

<p>% Dotless i and dotless j, used for accents. defimacro{i} defjmacro{j}
defdotless#1{%</p>

<pre>\def\temp{#1}%
\ifx\temp\imacro \ifmmode\imath \else\ptexi \fi
\else\ifx\temp\jmacro \ifmmode\jmath \else\j \fi
\else \errmessage{@dotless can be used only with i or j}%
\fi\fi</pre>

<p>}</p>

<p>% The TeX{} logo, as in plain, but resetting the spacing so that a % period
following counts as ending a sentence.  (Idea found in latex.) %
edefTeX{TeX spacefactor=1000 }</p>

<p>% @LaTeX{} logo.  Not quite the same results as the definition in %
latex.ltx, since we use a different font for the raised A; it&#39;s most %
convenient for us to use an explicitly smaller font, rather than using %
the scriptstyle font (since we don&#39;t reset scriptstyle and %
scriptscriptstyle). % defLaTeX{%</p>

<pre>L\kern-.36em
{\setbox0=\hbox{T}%
 \vbox to \ht0{\hbox{%
   \ifx\textnominalsize\xwordpt
     % for 10pt running text, \lllsize (8pt) is too small for the A in LaTeX.
     % Revert to plain&#39;s \scriptsize, which is 7pt.
     \count255=\the\fam $\fam\count255 \scriptstyle A$%
   \else
     % For 11pt, we can use our lllsize.
     \selectfonts\lllsize A%
   \fi
   }%
   \vss
}}%
\kern-.15em
\TeX</pre>

<p>}</p>

<p>% Some math mode symbols. defbullet{$ptexbullet$} defgeq{ifmmode geelse
$ge$fi} defleq{ifmmode leelse $le$fi} defminus{ifmmode -else $-$fi}</p>

<p>% @dots{} outputs an ellipsis using the current font. % We do .5em per
period so that it has the same spacing in the cm % typewriter fonts as
three actual period characters; on the other hand, % in other typewriter
fonts three periods are wider than 1.5em.  So do % whichever is larger. %
defdots{%</p>

<pre>\leavevmode
\setbox0=\hbox{...}% get width of three periods
\ifdim\wd0 &gt; 1.5em
  \dimen0 = \wd0
\else
  \dimen0 = 1.5em
\fi
\hbox to \dimen0{%
  \hskip 0pt plus.25fil
  .\hskip 0pt plus1fil
  .\hskip 0pt plus1fil
  .\hskip 0pt plus.5fil
}%</pre>

<p>}</p>

<p>% @enddots{} is an end-of-sentence ellipsis. % defenddots{%</p>

<pre>\dots
\spacefactor=\endofsentencespacefactor</pre>

<p>}</p>

<p>% @point{}, @result{}, @expansion{}, @print{}, @equiv{}. % % Since these
characters are used in examples, they should be an even number of % tt
widths. Each tt character is 1en, so two makes it 1em. % defpoint{$star$}
defarrow{leavevmoderaise.05exhbox to 1em{hfil$rightarrow$hfil}}
defresult{leavevmoderaise.05exhbox to 1em{hfil$Rightarrow$hfil}}
defexpansion{leavevmodehbox to 1em{hfil$mapsto$hfil}}
defprint{leavevmodelower.1exhbox to 1em{hfil$dashv$hfil}}
defequiv{leavevmodehbox to 1em{hfil$ptexequiv$hfil}}</p>

<p>% The @error{} command. % Adapted from the TeXbook&#39;s boxit. %
newboxerrorbox % {tentt globaldimen0 = 3em}% Width of the box. dimen2 =
.55pt % Thickness of rules % The text. (`r&#39; is open on the right,
`e&#39; somewhat less so on the left.) setbox0 = hbox{kern-.75pt reducedsf
putworderrorkern-1.5pt} % setboxerrorbox=hbox to dimen0{hfil</p>

<pre>\hsize = \dimen0 \advance\hsize by -5.8pt % Space to left+right.
\advance\hsize by -2\dimen2 % Rules.
\vbox{%
   \hrule height\dimen2
   \hbox{\vrule width\dimen2 \kern3pt          % Space to left of text.
      \vtop{\kern2.4pt \box0 \kern2.4pt}% Space above/below.
      \kern3pt\vrule width\dimen2}% Space to right.
   \hrule height\dimen2}
 \hfil}</pre>

<p>% deferror{leavevmodelower.7excopyerrorbox}</p>

<p>% @pounds{} is a sterling sign, which Knuth put in the CM italic font. %
defpounds{{it$}}</p>

<p>% @euro{} comes from a separate font, depending on the current style. % We
use the free feym* fonts from the eurosym package by Henrik % Theiling,
which support regular, slanted, bold and bold slanted (and % “outlined”
(blackboard board, sort of) versions, which we don&#39;t need). % It is
available from <a
href="http://www.ctan.org/tex-archive/fonts/eurosym">www.ctan.org/tex-archive/fonts/eurosym</a>.
% % Although only regular is the truly official Euro symbol, we ignore %
that.  The Euro is designed to be slightly taller than the regular % font
height. % % feymr - regular % feymo - slanted % feybr - bold % feybo - bold
slanted % % There is no good (free) typewriter version, to my knowledge. %
A feymr10 euro is ~7.3pt wide, while a normal cmtt10 char is ~5.25pt wide.
% Hmm. % % Also doesn&#39;t work in math.  Do we need to do math with euro
symbols? % Hope not. % % defeuro{{eurofont e}} defeurofont{%</p>

<pre>% We set the font at each command, rather than predefining it in
% \textfonts and the other font-switching commands, so that
% installations which never need the symbol don&#39;t have to have the
% font installed.
%
% There is only one designed size (nominal 10pt), so we always scale
% that to the current nominal size.
%
% By the way, simply using &quot;at 1em&quot; works for cmr10 and the like, but
% does not work for cmbx10 and other extended/shrunken fonts.
%
\def\eurosize{\csname\curfontsize nominalsize\endcsname}%
%
\ifx\curfontstyle\bfstylename
  % bold:
  \font\thiseurofont = \ifusingit{feybo10}{feybr10} at \eurosize
\else
  % regular:
  \font\thiseurofont = \ifusingit{feymo10}{feymr10} at \eurosize
\fi
\thiseurofont</pre>

<p>}</p>

<p>% Glyphs from the EC fonts.  We don&#39;t use let for the aliases, because
% sometimes we redefine the original macro, and the alias should reflect %
the redefinition. % % Use LaTeX names for the Icelandic letters.
defDH{{ecfont char“D0}} % Eth defdh{{ecfont char”F0}} % eth defTH{{ecfont
char“DE}} % Thorn defth{{ecfont char”FE}} % thorn %
defguillemetleft{{ecfont char“13}} defguillemotleft{guillemetleft}
defguillemetright{{ecfont char”14}} defguillemotright{guillemetright}
defguilsinglleft{{ecfont char“0E}} defguilsinglright{{ecfont char”0F}}
defquotedblbase{{ecfont char“12}} defquotesinglbase{{ecfont char”0D}} % %
This positioning is not perfect (see the ogonek LaTeX package), but % we
have the precomposed glyphs for the most common cases.  We put the % tests
to use those glyphs in the single ogonek macro so we have fewer % dummy
definitions to worry about for index entries, etc. % % ogonek is also used
with other letters in Lithuanian (IOU), but using % the precomposed glyphs
for those is not so easy since they aren&#39;t in % the same EC font.
defogonek#1{{%</p>

<pre>\def\temp{#1}%
\ifx\temp\macrocharA\Aogonek
\else\ifx\temp\macrochara\aogonek
\else\ifx\temp\macrocharE\Eogonek
\else\ifx\temp\macrochare\eogonek
\else
  \ecfont \setbox0=\hbox{#1}%
  \ifdim\ht0=1ex\accent&quot;0C #1%
  \else\ooalign{\unhbox0\crcr\hidewidth\char&quot;0C \hidewidth}%
  \fi
\fi\fi\fi\fi
}%</pre>

<p>} defAogonek{{ecfont char“81}}defmacrocharA{A} defaogonek{{ecfont
char”A1}}defmacrochara{a} defEogonek{{ecfont char“86}}defmacrocharE{E}
defeogonek{{ecfont char”A6}}defmacrochare{e} % % Use the ec* fonts
(cm-super in outline format) for non-CM glyphs. defecfont{%</p>

<pre>% We can&#39;t distinguish serif/sans and italic/slanted, but this
% is used for crude hacks anyway (like adding French and German
% quotes to documents typeset with CM, where we lose kerning), so
% hopefully nobody will notice/care.
\edef\ecsize{\csname\curfontsize ecsize\endcsname}%
\edef\nominalsize{\csname\curfontsize nominalsize\endcsname}%
\ifmonospace
  % typewriter:
  \font\thisecfont = ectt\ecsize \space at \nominalsize
\else
  \ifx\curfontstyle\bfstylename
    % bold:
    \font\thisecfont = ecb\ifusingit{i}{x}\ecsize \space at \nominalsize
  \else
    % regular:
    \font\thisecfont = ec\ifusingit{ti}{rm}\ecsize \space at \nominalsize
  \fi
\fi
\thisecfont</pre>

<p>}</p>

<p>% @registeredsymbol - R in a circle.  The font for the R should really % be
smaller yet, but lllsize is the best we can do for now. % Adapted from the
plain.tex definition of copyright. % defregisteredsymbol{%</p>

<pre>$^{{\ooalign{\hfil\raise.07ex\hbox{\selectfonts\lllsize R}%
             \hfil\crcr\Orb}}%
  }$%</pre>

<p>}</p>

<p>% @textdegree - the normal degrees sign. % deftextdegree{$^circ$}</p>

<p>% Laurent Siebenmann reports Orb undefined with: %  Textures 1.7.7
(preloaded format=plain 93.10.14)  (68K)  16 APR 2004 02:38 % so we&#39;ll
define it if necessary. % ifxOrbthisisundefined defOrb{mathhexbox20D} fi</p>

<p>% Quotes. chardefquotedblleft=“5C chardefquotedblright=`&quot;
chardefquoteleft=`` chardefquoteright=`&#39;</p>

<p>message{page headings,}</p>

<p>newskiptitlepagetopglue titlepagetopglue = 1.5in newskiptitlepagebottomglue
titlepagebottomglue = 2pc</p>

<p>% First the title page.  Must do @settitle before @titlepage.
newififseenauthor newififfinishedtitlepage</p>

<p>% Do an implicit @contents or @shortcontents after @end titlepage if the %
user says @setcontentsaftertitlepage or @setshortcontentsaftertitlepage. %
newififsetcontentsaftertitlepage</p>

<pre>\let\setcontentsaftertitlepage = \setcontentsaftertitlepagetrue</pre>

<p>newififsetshortcontentsaftertitlepage</p>

<pre>\let\setshortcontentsaftertitlepage = \setshortcontentsaftertitlepagetrue</pre>

<p>parseargdefshorttitlepage{%</p>

<pre>\begingroup \hbox{}\vskip 1.5in \chaprm \centerline{#1}%
\endgroup\page\hbox{}\page}</pre>

<p>envdeftitlepage{%</p>

<pre>% Open one extra group, as we want to close it in the middle of \Etitlepage.
\begingroup
  \parindent=0pt \textfonts
  % Leave some space at the very top of the page.
  \vglue\titlepagetopglue
  % No rule at page bottom unless we print one at the top with @title.
  \finishedtitlepagetrue
  %
  % Most title ``pages&#39;&#39; are actually two pages long, with space
  % at the top of the second.  We don&#39;t want the ragged left on the second.
  \let\oldpage = \page
  \def\page{%
    \iffinishedtitlepage\else
       \finishtitlepage
    \fi
    \let\page = \oldpage
    \page
    \null
  }%</pre>

<p>}</p>

<p>defEtitlepage{%</p>

<pre>  \iffinishedtitlepage\else
      \finishtitlepage
  \fi
  % It is important to do the page break before ending the group,
  % because the headline and footline are only empty inside the group.
  % If we use the new definition of \page, we always get a blank page
  % after the title page, which we certainly don&#39;t want.
  \oldpage
\endgroup
%
% Need this before the \...aftertitlepage checks so that if they are
% in effect the toc pages will come out with page numbers.
\HEADINGSon
%
% If they want short, they certainly want long too.
\ifsetshortcontentsaftertitlepage
  \shortcontents
  \contents
  \global\let\shortcontents = \relax
  \global\let\contents = \relax
\fi
%
\ifsetcontentsaftertitlepage
  \contents
  \global\let\contents = \relax
  \global\let\shortcontents = \relax
\fi</pre>

<p>}</p>

<p>deffinishtitlepage{%</p>

<pre>\vskip4pt \hrule height 2pt width \hsize
\vskip\titlepagebottomglue
\finishedtitlepagetrue</pre>

<p>}</p>

<p>% Settings used for typesetting titles: no hyphenation, no indentation, %
don&#39;t worry much about spacing, ragged right.  This should be used %
inside a vbox, and fonts need to be set appropriately first.  Because % it
is always used for titles, nothing else, we call rmisbold.  par % should be
specified before the end of the vbox, since a vbox is a group. % 
defraggedtitlesettings{%</p>

<pre>\rmisbold
\hyphenpenalty=10000
\parindent=0pt
\tolerance=5000
\ptexraggedright</pre>

<p>}</p>

<p>% Macros to be used within @titlepage:</p>

<p>letsubtitlerm=tenrm defsubtitlefont{subtitlerm normalbaselineskip = 13pt
normalbaselines}</p>

<p>parseargdeftitle{%</p>

<pre>\checkenv\titlepage
\vbox{\titlefonts \raggedtitlesettings #1\par}%
% print a rule at the page bottom also.
\finishedtitlepagefalse
\vskip4pt \hrule height 4pt width \hsize \vskip4pt</pre>

<p>}</p>

<p>parseargdefsubtitle{%</p>

<pre>\checkenv\titlepage
{\subtitlefont \rightline{#1}}%</pre>

<p>}</p>

<p>% @author should come last, but may come many times. % It can also be used
inside @quotation. % parseargdefauthor{%</p>

<pre>\def\temp{\quotation}%
\ifx\thisenv\temp
  \def\quotationauthor{#1}% printed in \Equotation.
\else
  \checkenv\titlepage
  \ifseenauthor\else \vskip 0pt plus 1filll \seenauthortrue \fi
  {\secfonts\rmisbold \leftline{#1}}%
\fi</pre>

<p>}</p>

<p>% Set up page headings and footings.</p>

<p>letthispage=folio</p>

<p>newtoksevenheadline    % headline on even pages newtoksoddheadline     %
headline on odd pages newtoksevenfootline    % footline on even pages
newtoksoddfootline     % footline on odd pages</p>

<p>% Now make TeX use those variables headline={{textfontsrm ifoddpageno
theoddheadline</p>

<pre>\else \the\evenheadline \fi}}</pre>

<p>footline={{textfontsrm ifoddpageno theoddfootline</p>

<pre>\else \the\evenfootline \fi}\HEADINGShook}</pre>

<p>letHEADINGShook=relax</p>

<p>% Commands to set those variables. % For example, this is what  @headings
on  does % @evenheading @thistitle|@thispage|@thischapter % @oddheading
@thischapter|@thispage|@thistitle % @evenfooting @thisfile|| % @oddfooting
||@thisfile</p>

<p>defevenheading{parseargevenheadingxxx} defevenheadingxxx #1{evenheadingyyy
#1||||finish} defevenheadingyyy #1|#2|#3|#4finish{%
globalevenheadline={rlap{centerline{#2}}line{#1hfil#3}}}</p>

<p>defoddheading{parseargoddheadingxxx} defoddheadingxxx #1{oddheadingyyy
#1||||finish} defoddheadingyyy #1|#2|#3|#4finish{%
globaloddheadline={rlap{centerline{#2}}line{#1hfil#3}}}</p>

<p>parseargdefeveryheading{oddheadingxxx{#1}evenheadingxxx{#1}}%</p>

<p>defevenfooting{parseargevenfootingxxx} defevenfootingxxx #1{evenfootingyyy
#1||||finish} defevenfootingyyy #1|#2|#3|#4finish{%
globalevenfootline={rlap{centerline{#2}}line{#1hfil#3}}}</p>

<p>defoddfooting{parseargoddfootingxxx} defoddfootingxxx #1{oddfootingyyy
#1||||finish} defoddfootingyyy #1|#2|#3|#4finish{%</p>

<pre>\global\oddfootline = {\rlap{\centerline{#2}}\line{#1\hfil#3}}%
%
% Leave some space for the footline.  Hopefully ok to assume
% @evenfooting will not be used by itself.
\global\advance\pageheight by -12pt
\global\advance\vsize by -12pt</pre>

<p>}</p>

<p>parseargdefeveryfooting{oddfootingxxx{#1}evenfootingxxx{#1}}</p>

<p>% @evenheadingmarks top     thischapter &lt;- chapter at the top of a page
% @evenheadingmarks bottom  thischapter &lt;- chapter at the bottom of a
page % % The same set of arguments for: % % @oddheadingmarks %
@evenfootingmarks % @oddfootingmarks % @everyheadingmarks %
@everyfootingmarks</p>

<p>defevenheadingmarks{headingmarks{even}{heading}}
defoddheadingmarks{headingmarks{odd}{heading}}
defevenfootingmarks{headingmarks{even}{footing}}
defoddfootingmarks{headingmarks{odd}{footing}} defeveryheadingmarks#1
{headingmarks{even}{heading}{#1}</p>

<pre>\headingmarks{odd}{heading}{#1} }</pre>

<p>defeveryfootingmarks#1 {headingmarks{even}{footing}{#1}</p>

<pre>\headingmarks{odd}{footing}{#1} }</pre>

<p>% #1 = even/odd, #2 = heading/footing, #3 = top/bottom.
defheadingmarks#1#2#3 {%</p>

<pre>\expandafter\let\expandafter\temp \csname get#3headingmarks\endcsname
\global\expandafter\let\csname get#1#2marks\endcsname \temp</pre>

<p>}</p>

<p>everyheadingmarks bottom everyfootingmarks bottom</p>

<p>% @headings double      turns headings on for double-sided printing. %
@headings single      turns headings on for single-sided printing. %
@headings off         turns them off. % @headings on          same as
@headings double, retained for compatibility. % @headings after       turns
on double-sided headings after this page. % @headings doubleafter turns on
double-sided headings after this page. % @headings singleafter turns on
single-sided headings after this page. % By default, they are off at the
start of a document, % and turned `on&#39; after @end titlepage.</p>

<p>defheadings #1 {csname HEADINGS#1endcsname}</p>

<p>defheadingsoff{% non-global headings elimination</p>

<pre>\evenheadline={\hfil}\evenfootline={\hfil}%
 \oddheadline={\hfil}\oddfootline={\hfil}%</pre>

<p>}</p>

<p>defHEADINGSoff{{globaldefs=1 headingsoff}} % global setting HEADINGSoff  %
it&#39;s the default</p>

<p>% When we turn headings on, set the page number to 1. % For double-sided
printing, put current file name in lower left corner, % chapter name on
inside top of right hand pages, document % title on inside top of left hand
pages, and page numbers on outside top % edge of all pages.
defHEADINGSdouble{% globalpageno=1 globalevenfootline={hfil}
globaloddfootline={hfil} globalevenheadline={line{foliohfilthistitle}}
globaloddheadline={line{thischapterhfilfolio}} globalletcontentsalignmacro
= chapoddpage } letcontentsalignmacro = chappager</p>

<p>% For single-sided printing, chapter title goes across top left of page, %
page number on top right. defHEADINGSsingle{% globalpageno=1
globalevenfootline={hfil} globaloddfootline={hfil}
globalevenheadline={line{thischapterhfilfolio}}
globaloddheadline={line{thischapterhfilfolio}} globalletcontentsalignmacro
= chappager } defHEADINGSon{HEADINGSdouble}</p>

<p>defHEADINGSafter{letHEADINGShook=HEADINGSdoublex}
letHEADINGSdoubleafter=HEADINGSafter defHEADINGSdoublex{%
globalevenfootline={hfil} globaloddfootline={hfil}
globalevenheadline={line{foliohfilthistitle}}
globaloddheadline={line{thischapterhfilfolio}} globalletcontentsalignmacro
= chapoddpage }</p>

<p>defHEADINGSsingleafter{letHEADINGShook=HEADINGSsinglex}
defHEADINGSsinglex{% globalevenfootline={hfil} globaloddfootline={hfil}
globalevenheadline={line{thischapterhfilfolio}}
globaloddheadline={line{thischapterhfilfolio}} globalletcontentsalignmacro
= chappager }</p>

<p>% Subroutines used in generating headings % This produces Day Month Year
style of output. % Only define if not already defined, in case a txi-??.tex
file has set % up a different format (e.g., txi-cs.tex does this).
ifxtodaythisisundefined deftoday{%</p>

<pre>\number\day\space
\ifcase\month
\or\putwordMJan\or\putwordMFeb\or\putwordMMar\or\putwordMApr
\or\putwordMMay\or\putwordMJun\or\putwordMJul\or\putwordMAug
\or\putwordMSep\or\putwordMOct\or\putwordMNov\or\putwordMDec
\fi
\space\number\year}</pre>

<p>fi</p>

<p>% @settitle line…  specifies the title of the document, for headings. % It
generates no output of its own. defthistitle{putwordNoTitle}
defsettitle{parsearg{gdefthistitle}}</p>

<p>message{tables,} % Tables – @table, @ftable, @vtable, @item(x).</p>

<p>% default indentation of table text newdimentableindent tableindent=.8in %
default indentation of @itemize and @enumerate text newdimenitemindent 
itemindent=.3in % margin between end of table item and start of table text.
newdimenitemmargin  itemmargin=.1in</p>

<p>% used internally for itemindent minus itemmargin newdimenitemmax</p>

<p>% Note @table, @ftable, and @vtable define @item, @itemx, etc., with %
these defs. % They also define itemindex % to index the item name in
whatever manner is desired (perhaps none).</p>

<p>newififitemxneedsnegativevskip</p>

<p>defitemxpar{parifitemxneedsnegativevskipnobreakvskip-parskipnobreakfi}</p>

<p>definternalBitem{smallbreak parseargitemzzz} definternalBitemx{itemxpar
parseargitemzzz}</p>

<p>defitemzzz #1{begingroup %</p>

<pre>\advance\hsize by -\rightskip
\advance\hsize by -\tableindent
\setbox0=\hbox{\itemindicate{#1}}%
\itemindex{#1}%
\nobreak % This prevents a break before @itemx.
%
% If the item text does not fit in the space we have, put it on a line
% by itself, and do not allow a page break either before or after that
% line.  We do not start a paragraph here because then if the next
% command is, e.g., @kindex, the whatsit would get put into the
% horizontal list on a line by itself, resulting in extra blank space.
\ifdim \wd0&gt;\itemmax
  %
  % Make this a paragraph so we get the \parskip glue and wrapping,
  % but leave it ragged-right.
  \begingroup
    \advance\leftskip by-\tableindent
    \advance\hsize by\tableindent
    \advance\rightskip by0pt plus1fil\relax
    \leavevmode\unhbox0\par
  \endgroup
  %
  % We&#39;re going to be starting a paragraph, but we don&#39;t want the
  % \parskip glue -- logically it&#39;s part of the @item we just started.
  \nobreak \vskip-\parskip
  %
  % Stop a page break at the \parskip glue coming up.  However, if
  % what follows is an environment such as @example, there will be no
  % \parskip glue; then the negative vskip we just inserted would
  % cause the example and the item to crash together.  So we use this
  % bizarre value of 10001 as a signal to \aboveenvbreak to insert
  % \parskip glue after all.  Section titles are handled this way also.
  %
  \penalty 10001
  \endgroup
  \itemxneedsnegativevskipfalse
\else
  % The item text fits into the space.  Start a paragraph, so that the
  % following text (if any) will end up on the same line.
  \noindent
  % Do this with kerns and \unhbox so that if there is a footnote in
  % the item text, it can migrate to the main vertical list and
  % eventually be printed.
  \nobreak\kern-\tableindent
  \dimen0 = \itemmax  \advance\dimen0 by \itemmargin \advance\dimen0 by -\wd0
  \unhbox0
  \nobreak\kern\dimen0
  \endgroup
  \itemxneedsnegativevskiptrue
\fi</pre>

<p>}</p>

<p>defitem{errmessage{@item while not in a list environment}}
defitemx{errmessage{@itemx while not in a list environment}}</p>

<p>% @table, @ftable, @vtable. envdeftable{%</p>

<pre>\let\itemindex\gobble
\tablecheck{table}%</pre>

<p>} envdefftable{%</p>

<pre>\def\itemindex ##1{\doind {fn}{\code{##1}}}%
\tablecheck{ftable}%</pre>

<p>} envdefvtable{%</p>

<pre>\def\itemindex ##1{\doind {vr}{\code{##1}}}%
\tablecheck{vtable}%</pre>

<p>} deftablecheck#1{%</p>

<pre>\ifnum \the\catcode`\^^M=\active
  \endgroup
  \errmessage{This command won&#39;t work in this context; perhaps the problem is
    that we are \inenvironment\thisenv}%
  \def\next{\doignore{#1}}%
\else
  \let\next\tablex
\fi
\next</pre>

<p>} deftablex#1{%</p>

<pre>\def\itemindicate{#1}%
\parsearg\tabley</pre>

<p>} deftabley#1{%</p>

<pre>{%
  \makevalueexpandable
  \edef\temp{\noexpand\tablez #1\space\space\space}%
  \expandafter
}\temp \endtablez</pre>

<p>} deftablez #1 #2 #3 #4endtablez{%</p>

<pre>\aboveenvbreak
\ifnum 0#1&gt;0 \advance \leftskip by #1\mil \fi
\ifnum 0#2&gt;0 \tableindent=#2\mil \fi
\ifnum 0#3&gt;0 \advance \rightskip by #3\mil \fi
\itemmax=\tableindent
\advance \itemmax by -\itemmargin
\advance \leftskip by \tableindent
\exdentamount=\tableindent
\parindent = 0pt
\parskip = \smallskipamount
\ifdim \parskip=0pt \parskip=2pt \fi
\let\item = \internalBitem
\let\itemx = \internalBitemx</pre>

<p>} defEtable{endgrafafterenvbreak} letEftableEtable letEvtableEtable
letEitemizeEtable letEenumerateEtable</p>

<p>% This is the counter used by @enumerate, which is really @itemize</p>

<p>newcount itemno</p>

<p>envdefitemize{parseargdoitemize}</p>

<p>defdoitemize#1{%</p>

<pre>\aboveenvbreak
\itemmax=\itemindent
\advance\itemmax by -\itemmargin
\advance\leftskip by \itemindent
\exdentamount=\itemindent
\parindent=0pt
\parskip=\smallskipamount
\ifdim\parskip=0pt \parskip=2pt \fi
%
% Try typesetting the item mark that if the document erroneously says
% something like @itemize @samp (intending @table), there&#39;s an error
% right away at the @itemize.  It&#39;s not the best error message in the
% world, but it&#39;s better than leaving it to the @item.  This means if
% the user wants an empty mark, they have to say @w{} not just @w.
\def\itemcontents{#1}%
\setbox0 = \hbox{\itemcontents}%
%
% @itemize with no arg is equivalent to @itemize @bullet.
\ifx\itemcontents\empty\def\itemcontents{\bullet}\fi
%
\let\item=\itemizeitem</pre>

<p>}</p>

<p>% Definition of @item while inside @itemize and @enumerate. %
defitemizeitem{%</p>

<pre>\advance\itemno by 1  % for enumerations
{\let\par=\endgraf \smallbreak}% reasonable place to break
{%
 % If the document has an @itemize directly after a section title, a
 % \nobreak will be last on the list, and \sectionheading will have
 % done a \vskip-\parskip.  In that case, we don&#39;t want to zero
 % parskip, or the item text will crash with the heading.  On the
 % other hand, when there is normal text preceding the item (as there
 % usually is), we do want to zero parskip, or there would be too much
 % space.  In that case, we won&#39;t have a \nobreak before.  At least
 % that&#39;s the theory.
 \ifnum\lastpenalty&lt;10000 \parskip=0in \fi
 \noindent
 \hbox to 0pt{\hss \itemcontents \kern\itemmargin}%
 %
 \vadjust{\penalty 1200}}% not good to break after first line of item.
\flushcr</pre>

<p>}</p>

<p>% splitoff TOKENSendmark defines first to be the first token in % TOKENS,
and rest to be the remainder. %
defsplitoff#1#2endmark{deffirst{#1}defrest{#2}}%</p>

<p>% Allow an optional argument of an uppercase letter, lowercase letter, % or
number, to specify the first label in the enumerated list.  No % argument
is the same as `1&#39;. % envparseargdefenumerate{enumeratey #1 
endenumeratey} defenumeratey #1 #2endenumeratey{%</p>

<pre>% If we were given no argument, pretend we were given `1&#39;.
\def\thearg{#1}%
\ifx\thearg\empty \def\thearg{1}\fi
%
% Detect if the argument is a single token.  If so, it might be a
% letter.  Otherwise, the only valid thing it can be is a number.
% (We will always have one token, because of the test we just made.
% This is a good thing, since \splitoff doesn&#39;t work given nothing at
% all -- the first parameter is undelimited.)
\expandafter\splitoff\thearg\endmark
\ifx\rest\empty
  % Only one token in the argument.  It could still be anything.
  % A ``lowercase letter&#39;&#39; is one whose \lccode is nonzero.
  % An ``uppercase letter&#39;&#39; is one whose \lccode is both nonzero, and
  %   not equal to itself.
  % Otherwise, we assume it&#39;s a number.
  %
  % We need the \relax at the end of the \ifnum lines to stop TeX from
  % continuing to look for a &lt;number&gt;.
  %
  \ifnum\lccode\expandafter`\thearg=0\relax
    \numericenumerate % a number (we hope)
  \else
    % It&#39;s a letter.
    \ifnum\lccode\expandafter`\thearg=\expandafter`\thearg\relax
      \lowercaseenumerate % lowercase letter
    \else
      \uppercaseenumerate % uppercase letter
    \fi
  \fi
\else
  % Multiple tokens in the argument.  We hope it&#39;s a number.
  \numericenumerate
\fi</pre>

<p>}</p>

<p>% An @enumerate whose labels are integers.  The starting integer is % given
in thearg. % defnumericenumerate{%</p>

<pre>\itemno = \thearg
\startenumeration{\the\itemno}%</pre>

<p>}</p>

<p>% The starting (lowercase) letter is in thearg. deflowercaseenumerate{%</p>

<pre>\itemno = \expandafter`\thearg
\startenumeration{%
  % Be sure we&#39;re not beyond the end of the alphabet.
  \ifnum\itemno=0
    \errmessage{No more lowercase letters in @enumerate; get a bigger
                alphabet}%
  \fi
  \char\lccode\itemno
}%</pre>

<p>}</p>

<p>% The starting (uppercase) letter is in thearg. defuppercaseenumerate{%</p>

<pre>\itemno = \expandafter`\thearg
\startenumeration{%
  % Be sure we&#39;re not beyond the end of the alphabet.
  \ifnum\itemno=0
    \errmessage{No more uppercase letters in @enumerate; get a bigger
                alphabet}
  \fi
  \char\uccode\itemno
}%</pre>

<p>}</p>

<p>% Call doitemize, adding a period to the first argument and supplying the %
common last two arguments.  Also subtract one from the initial value in %
itemno, since @item increments itemno. % defstartenumeration#1{%</p>

<pre>\advance\itemno by -1
\doitemize{#1.}\flushcr</pre>

<p>}</p>

<p>% @alphaenumerate and @capsenumerate are abbreviations for giving an arg %
to @enumerate. % defalphaenumerate{enumerate{a}}
defcapsenumerate{enumerate{A}} defEalphaenumerate{Eenumerate}
defEcapsenumerate{Eenumerate}</p>

<p>% @multitable macros % Amy Hendrickson, 8/18/94, 3/6/96 % % @multitable …
@end multitable will make as many columns as desired. % Contents of each
column will wrap at width given in preamble.  Width % can be specified
either with sample text given in a template line, % or in percent of hsize,
the current width of text on page.</p>

<p>% Table can continue over pages but will only break between lines.</p>

<p>% To make preamble: % % Either define widths of columns in terms of percent
of hsize: %   @multitable @columnfractions .25 .3 .45 %   @item … % %  
Numbers following @columnfractions are the percent of the total %   current
hsize to be used for each column. You may use as many %   columns as
desired.</p>

<p>% Or use a template: %   @multitable {Column 1 template} {Column 2
template} {Column 3 template} %   @item … %   using the widest term desired
in each column.</p>

<p>% Each new table line starts with @item, each subsequent new column %
starts with @tab. Empty columns may be produced by supplying @tab&#39;s %
with nothing between them for as many times as empty columns are needed, %
ie, @tab@tab@tab will produce two empty columns.</p>

<p>% @item, @tab do not need to be on their own lines, but it will not hurt %
if they are.</p>

<p>% <a href="../../../../../../../../../../Sample.html">Sample</a>
multitable:</p>

<p>%   @multitable {Column 1 template} {Column 2 template} {Column 3 template}
%   @item first col stuff @tab second col stuff @tab third col %   @item % 
first col stuff %   @tab %   second col stuff %   @tab %   third col %  
@item first col stuff @tab second col stuff %   @tab Many paragraphs of
text may be used in any column. % %         They will wrap at the width
determined by the template. %   @item@tab@tab This will be in third column.
%   @end multitable</p>

<p>% Default dimensions may be reset by user. % @multitableparskip is vertical
space between paragraphs in table. % @multitableparindent is paragraph
indent in table. % @multitablecolmargin is horizontal space to be left
between columns. % @multitablelinespace is space to leave between table
items, baseline %                                                          
to baseline. %   0pt means it depends on current normal line spacing. %
newskipmultitableparskip newskipmultitableparindent
newdimenmultitablecolspace newskipmultitablelinespace multitableparskip=0pt
multitableparindent=6pt multitablecolspace=12pt multitablelinespace=0pt</p>

<p>% Macros used to set up halign preamble: % letendsetuptablerelax
defxendsetuptable{endsetuptable} letcolumnfractionsrelax
defxcolumnfractions{columnfractions} newififsetpercent</p>

<p>% #1 is the @columnfraction, usually a decimal number like .5, but might %
be just 1.  We just use it, whatever it is. % defpickupwholefraction#1 {%</p>

<pre>\global\advance\colcount by 1
\expandafter\xdef\csname col\the\colcount\endcsname{#1\hsize}%
\setuptable</pre>

<p>}</p>

<p>newcountcolcount defsetuptable#1{%</p>

<pre>\def\firstarg{#1}%
\ifx\firstarg\xendsetuptable
  \let\go = \relax
\else
  \ifx\firstarg\xcolumnfractions
    \global\setpercenttrue
  \else
    \ifsetpercent
       \let\go\pickupwholefraction
    \else
       \global\advance\colcount by 1
       \setbox0=\hbox{#1\unskip\space}% Add a normal word space as a
                 % separator; typically that is always in the input, anyway.
       \expandafter\xdef\csname col\the\colcount\endcsname{\the\wd0}%
    \fi
  \fi
  \ifx\go\pickupwholefraction
    % Put the argument back for the \pickupwholefraction call, so
    % we&#39;ll always have a period there to be parsed.
    \def\go{\pickupwholefraction#1}%
  \else
    \let\go = \setuptable
  \fi%
\fi
\go</pre>

<p>}</p>

<p>% multitable-only commands. % % @headitem starts a heading row, which we
typeset in bold. % Assignments have to be global since we are inside the
implicit group % of an alignment entry.  everycr resets everytab so we
don&#39;t have to % undo it ourselves. defheaditemfont{b}% for people to
use in the template row; not changeable defheaditem{%</p>

<pre>\checkenv\multitable
\crcr
\global\everytab={\bf}% can&#39;t use \headitemfont since the parsing differs
\the\everytab % for the first item</pre>

<p>}% % % A tab used to include hskip1sp.  But then the space in a template %
line is not enough.  That is bad.  So let&#39;s go back to just `&amp;&#39;
until % we again encounter the problem the 1sp was intended to solve. %    
–karl, nathan@acm.org, 20apr99. deftab{checkenvmultitable
&amp;theeverytab}%</p>

<p>% @multitable … @end multitable definitions: % newtokseverytab  % insert
after every tab. % envdefmultitable{%</p>

<pre>\vskip\parskip
\startsavinginserts
%
% @item within a multitable starts a normal row.
% We use \def instead of \let so that if one of the multitable entries
% contains an @itemize, we don&#39;t choke on the \item (seen as \crcr aka
% \endtemplate) expanding \doitemize.
\def\item{\crcr}%
%
\tolerance=9500
\hbadness=9500
\setmultitablespacing
\parskip=\multitableparskip
\parindent=\multitableparindent
\overfullrule=0pt
\global\colcount=0
%
\everycr = {%
  \noalign{%
    \global\everytab={}%
    \global\colcount=0 % Reset the column counter.
    % Check for saved footnotes, etc.
    \checkinserts
    % Keeps underfull box messages off when table breaks over pages.
    %\filbreak
      % Maybe so, but it also creates really weird page breaks when the
      % table breaks over pages. Wouldn&#39;t \vfil be better?  Wait until the
      % problem manifests itself, so it can be fixed for real --karl.
  }%
}%
%
\parsearg\domultitable</pre>

<p>} defdomultitable#1{%</p>

<pre>% To parse everything between @multitable and @item:
\setuptable#1 \endsetuptable
%
% This preamble sets up a generic column definition, which will
% be used as many times as user calls for columns.
% \vtop will set a single line and will also let text wrap and
% continue for many paragraphs if desired.
\halign\bgroup &amp;%
  \global\advance\colcount by 1
  \multistrut
  \vtop{%
    % Use the current \colcount to find the correct column width:
    \hsize=\expandafter\csname col\the\colcount\endcsname
    %
    % In order to keep entries from bumping into each other
    % we will add a \leftskip of \multitablecolspace to all columns after
    % the first one.
    %
    % If a template has been used, we will add \multitablecolspace
    % to the width of each template entry.
    %
    % If the user has set preamble in terms of percent of \hsize we will
    % use that dimension as the width of the column, and the \leftskip
    % will keep entries from bumping into each other.  Table will start at
    % left margin and final column will justify at right margin.
    %
    % Make sure we don&#39;t inherit \rightskip from the outer environment.
    \rightskip=0pt
    \ifnum\colcount=1
      % The first column will be indented with the surrounding text.
      \advance\hsize by\leftskip
    \else
      \ifsetpercent \else
        % If user has not set preamble in terms of percent of \hsize
        % we will advance \hsize by \multitablecolspace.
        \advance\hsize by \multitablecolspace
      \fi
     % In either case we will make \leftskip=\multitablecolspace:
    \leftskip=\multitablecolspace
    \fi
    % Ignoring space at the beginning and end avoids an occasional spurious
    % blank line, when TeX decides to break the line at the space before the
    % box from the multistrut, so the strut ends up on a line by itself.
    % For example:
    % @multitable @columnfractions .11 .89
    % @item @code{#}
    % @tab Legal holiday which is valid in major parts of the whole country.
    % Is automatically provided with highlighting sequences respectively
    % marking characters.
    \noindent\ignorespaces##\unskip\multistrut
  }\cr</pre>

<p>} defEmultitable{%</p>

<pre>\crcr
\egroup % end the \halign
\global\setpercentfalse</pre>

<p>}</p>

<p>defsetmultitablespacing{%</p>

<pre>\def\multistrut{\strut}% just use the standard line spacing
%
% Compute \multitablelinespace (if not defined by user) for use in
% \multitableparskip calculation.  We used define \multistrut based on
% this, but (ironically) that caused the spacing to be off.
% See bug-texinfo report from Werner Lemberg, 31 Oct 2004 12:52:20 +0100.</pre>

<p>ifdimmultitablelinespace=0pt
setbox0=vbox{X}globalmultitablelinespace=thebaselineskip
globaladvancemultitablelinespace by-ht0 fi % <a
href="../../../../../../../../../../Test.html">Test</a> to see if parskip
is larger than space between lines of % table. If not, do nothing. %       
If so, set to same dimension as multitablelinespace.
ifdimmultitableparskip&gt;multitablelinespace
globalmultitableparskip=multitablelinespace
globaladvancemultitableparskip-7pt % to keep parskip somewhat smaller</p>

<pre>% than skip between lines in the table.</pre>

<p>fi% ifdimmultitableparskip=0pt globalmultitableparskip=multitablelinespace
globaladvancemultitableparskip-7pt % to keep parskip somewhat smaller</p>

<pre>% than skip between lines in the table.</pre>

<p>fi}</p>

<p>message{conditionals,}</p>

<p>% @iftex, @ifnotdocbook, @ifnothtml, @ifnotinfo, @ifnotplaintext, %
@ifnotxml always succeed.  They currently do nothing; we don&#39;t %
attempt to check whether the conditionals are properly nested.  But we %
have to remember that they are conditionals, so that @end doesn&#39;t %
attempt to close an environment group. % defmakecond#1{%</p>

<pre>\expandafter\let\csname #1\endcsname = \relax
\expandafter\let\csname iscond.#1\endcsname = 1</pre>

<p>} makecond{iftex} makecond{ifnotdocbook} makecond{ifnothtml}
makecond{ifnotinfo} makecond{ifnotplaintext} makecond{ifnotxml}</p>

<p>% Ignore @ignore, @ifhtml, @ifinfo, and the like. %
defdirentry{doignore{direntry}}
defdocumentdescription{doignore{documentdescription}}
defdocbook{doignore{docbook}} defhtml{doignore{html}}
defifdocbook{doignore{ifdocbook}} defifhtml{doignore{ifhtml}}
defifinfo{doignore{ifinfo}} defifnottex{doignore{ifnottex}}
defifplaintext{doignore{ifplaintext}} defifxml{doignore{ifxml}}
defignore{doignore{ignore}} defmenu{doignore{menu}} defxml{doignore{xml}}</p>

<p>% Ignore text until a line `@end #1&#39;, keeping track of nested
conditionals. % % A count to remember the depth of nesting.
newcountdoignorecount</p>

<p>defdoignore#1{begingroup</p>

<pre>% Scan in ``verbatim&#39;&#39; mode:
\obeylines
\catcode`\@ = \other
\catcode`\{ = \other
\catcode`\} = \other
%
% Make sure that spaces turn into tokens that match what \doignoretext wants.
\spaceisspace
%
% Count number of #1&#39;s that we&#39;ve seen.
\doignorecount = 0
%
% Swallow text until we reach the matching `@end #1&#39;.
\dodoignore{#1}%</pre>

<p>}</p>

<p>{ catcode`_=11 % We want to use _STOP_ which cannot appear in texinfo
source.</p>

<pre>\obeylines %
%
\gdef\dodoignore#1{%
  % #1 contains the command name as a string, e.g., `ifinfo&#39;.
  %
  % Define a command to find the next `@end #1&#39;.
  \long\def\doignoretext##1^^M@end #1{%
    \doignoretextyyy##1^^M@#1\_STOP_}%
  %
  % And this command to find another #1 command, at the beginning of a
  % line.  (Otherwise, we would consider a line `@c @ifset&#39;, for
  % example, to count as an @ifset for nesting.)
  \long\def\doignoretextyyy##1^^M@#1##2\_STOP_{\doignoreyyy{##2}\_STOP_}%
  %
  % And now expand that command.
  \doignoretext ^^M%
}%</pre>

<p>}</p>

<p>defdoignoreyyy#1{%</p>

<pre>\def\temp{#1}%
\ifx\temp\empty                       % Nothing found.
  \let\next\doignoretextzzz
\else                                 % Found a nested condition, ...
  \advance\doignorecount by 1
  \let\next\doignoretextyyy           % ..., look for another.
  % If we&#39;re here, #1 ends with ^^M\ifinfo (for example).
\fi
\next #1% the token \_STOP_ is present just after this macro.</pre>

<p>}</p>

<p>% We have to swallow the remaining “_STOP_”. % defdoignoretextzzz#1{%</p>

<pre>\ifnum\doignorecount = 0      % We have just found the outermost @end.
  \let\next\enddoignore
\else                         % Still inside a nested condition.
  \advance\doignorecount by -1
  \let\next\doignoretext      % Look for the next @end.
\fi
\next</pre>

<p>}</p>

<p>% Finish off ignored text. { obeylines%</p>

<pre>% Ignore anything after the last `@end #1&#39;; this matters in verbatim
% environments, where otherwise the newline after an ignored conditional
% would result in a blank line in the output.
\gdef\enddoignore#1^^M{\endgroup\ignorespaces}%</pre>

<p>}</p>

<p>% @set VAR sets the variable VAR to an empty value. % @set VAR REST-OF-LINE
sets VAR to the value REST-OF-LINE. % % Since we want to separate VAR from
REST-OF-LINE (which might be % empty), we can&#39;t just use parsearg; we
have to insert a space of our % own to delimit the rest of the line, and
then take it out again if we % didn&#39;t need it. % We rely on the fact
that parsearg sets catcode`\ =10. % parseargdefset{setyyy#1 endsetyyy}
defsetyyy#1 #2endsetyyy{%</p>

<pre>{%
  \makevalueexpandable
  \def\temp{#2}%
  \edef\next{\gdef\makecsname{SET#1}}%
  \ifx\temp\empty
    \next{}%
  \else
    \setzzz#2\endsetzzz
  \fi
}%</pre>

<p>} % Remove the trailing space setxxx inserted. defsetzzz#1
endsetzzz{next{#1}}</p>

<p>% @clear VAR clears (i.e., unsets) the variable VAR. % parseargdefclear{%</p>

<pre>{%
  \makevalueexpandable
  \global\expandafter\let\csname SET#1\endcsname=\relax
}%</pre>

<p>}</p>

<p>% @value{foo} gets the text saved in variable foo.
defvalue{begingroupmakevalueexpandablevaluexxx}
defvaluexxx#1{expandablevalue{#1}endgroup} {</p>

<pre>\catcode`\- = \active \catcode`\_ = \active
%
\gdef\makevalueexpandable{%
  \let\value = \expandablevalue
  % We don&#39;t want these characters active, ...
  \catcode`\-=\other \catcode`\_=\other
  % ..., but we might end up with active ones in the argument if
  % we&#39;re called from @code, as @code{@value{foo-bar_}}, though.
  % So \let them to their normal equivalents.
  \let-\normaldash \let_\normalunderscore
}</pre>

<p>}</p>

<p>% We have this subroutine so that we can handle at least some @value&#39;s
% properly in indexes (we call makevalueexpandable in indexdummies). % The
command has to be fully expandable (if the variable is set), since % the
result winds up in the index file.  This means that if the % variable&#39;s
value contains other Texinfo commands, it&#39;s almost certain % it will
fail (although perhaps we could fix that with sufficient work % to do a
one-level expansion on the result, instead of complete). %
defexpandablevalue#1{%</p>

<pre>\expandafter\ifx\csname SET#1\endcsname\relax
  {[No value for ``#1&#39;&#39;]}%
  \message{Variable `#1&#39;, used in @value, is not set.}%
\else
  \csname SET#1\endcsname
\fi</pre>

<p>}</p>

<p>% @ifset VAR … @end ifset reads the `…&#39; iff VAR has been defined % with
@set. % % To get special treatment of `@end ifset,&#39; call makeond and
the redefine. % makecond{ifset}
defifset{parsearg{doifset{letnext=ifsetfail}}} defdoifset#1#2{%</p>

<pre>{%
  \makevalueexpandable
  \let\next=\empty
  \expandafter\ifx\csname SET#2\endcsname\relax
    #1% If not set, redefine \next.
  \fi
  \expandafter
}\next</pre>

<p>} defifsetfail{doignore{ifset}}</p>

<p>% @ifclear VAR … @end executes the `…&#39; iff VAR has never been % defined
with @set, or has been undefined with @clear. % % The `else&#39; inside the
`doifset&#39; parameter is a trick to reuse the % above code: if the
variable is not set, do nothing, if it is set, % then redefine next to
ifclearfail. % makecond{ifclear} defifclear{parsearg{doifset{else
letnext=ifclearfail}}} defifclearfail{doignore{ifclear}}</p>

<p>% @ifcommandisdefined CMD … @end executes the `…&#39; if CMD (written %
without the @) is in fact defined.  We can only feasibly check at the % TeX
level, so something like `mathcode&#39; is going to considered % defined
even though it is not a Texinfo command. %  makecond{ifcommanddefined}
defifcommanddefined{parsearg{doifcmddefined{letnext=ifcmddefinedfail}}} %
defdoifcmddefined#1#2{{%</p>

<pre>  \makevalueexpandable
  \let\next=\empty
  \expandafter\ifx\csname #2\endcsname\relax
    #1% If not defined, \let\next as above.
  \fi
  \expandafter
}\next</pre>

<p>} defifcmddefinedfail{doignore{ifcommanddefined}}</p>

<p>% @ifcommandnotdefined CMD … handled similar to @ifclear above.
makecond{ifcommandnotdefined} defifcommandnotdefined{%</p>

<pre>\parsearg{\doifcmddefined{\else \let\next=\ifcmdnotdefinedfail}}}</pre>

<p>defifcmdnotdefinedfail{doignore{ifcommandnotdefined}}</p>

<p>% Set the `txicommandconditionals&#39; variable, so documents have a way to
% test if the @ifcommand…defined conditionals are available. set
txicommandconditionals</p>

<p>% @dircategory CATEGORY  – specify a category of the dir file % which this
file should belong to.  Ignore this in TeX. letdircategory=comment</p>

<p>% @defininfoenclose. letdefinfoenclose=comment</p>

<p>message{indexing,} % Index generation facilities</p>

<p>% Define newwrite to be identical to plain tex&#39;s newwrite % except not
outer, so it can be used within macros and if&#39;s.
edefnewwrite{makecsname{ptexnewwrite}}</p>

<p>% newindex {foo} defines an index named foo. % It automatically defines
fooindex such that % fooindex …rest of line… puts an entry in the index
foo. % It also defines fooindfile to be the number of the output channel
for % the file that accumulates this index.  The file&#39;s extension is
foo. % The name of an index should be no more than 2 characters long % for
the sake of vms. % defnewindex#1{%</p>

<pre>\iflinks
  \expandafter\newwrite \csname#1indfile\endcsname
  \openout \csname#1indfile\endcsname \jobname.#1 % Open the file
\fi
\expandafter\xdef\csname#1index\endcsname{%     % Define @#1index
  \noexpand\doindex{#1}}</pre>

<p>}</p>

<p>% @defindex foo  ==  newindex{foo} % defdefindex{parseargnewindex}</p>

<p>% Define @defcodeindex, like @defindex except put all entries in @code. %
defdefcodeindex{parseargnewcodeindex} % defnewcodeindex#1{%</p>

<pre>\iflinks
  \expandafter\newwrite \csname#1indfile\endcsname
  \openout \csname#1indfile\endcsname \jobname.#1
\fi
\expandafter\xdef\csname#1index\endcsname{%
  \noexpand\docodeindex{#1}}%</pre>

<p>}</p>

<p>% @synindex foo bar    makes index foo feed into index bar. % Do this
instead of @defindex foo if you don&#39;t want it as a separate index. % %
@syncodeindex foo bar   similar, but put all entries made for index foo %
inside @code. % defsynindex#1 #2 {dosynindexdoindex{#1}{#2}}
defsyncodeindex#1 #2 {dosynindexdocodeindex{#1}{#2}}</p>

<p>% #1 is doindex or docodeindex, #2 the index getting redefined (foo), % #3
the target index (bar). defdosynindex#1#2#3{%</p>

<pre>% Only do \closeout if we haven&#39;t already done it, else we&#39;ll end up
% closing the target index.
\expandafter \ifx\csname donesynindex#2\endcsname \relax
  % The \closeout helps reduce unnecessary open files; the limit on the
  % Acorn RISC OS is a mere 16 files.
  \expandafter\closeout\csname#2indfile\endcsname
  \expandafter\let\csname donesynindex#2\endcsname = 1
\fi
% redefine \fooindfile:
\expandafter\let\expandafter\temp\expandafter=\csname#3indfile\endcsname
\expandafter\let\csname#2indfile\endcsname=\temp
% redefine \fooindex:
\expandafter\xdef\csname#2index\endcsname{\noexpand#1{#3}}%</pre>

<p>}</p>

<p>% Define doindex, the driver for all fooindex macros. % Argument #1 is
generated by the calling fooindex macro, %  and it is “foo”, the name of
the index.</p>

<p>% doindex just uses parsearg; it calls doind for the actual work. % This is
because doind is more useful to call from other macros.</p>

<p>% There is also dosubind {index}{topic}{subtopic} % which makes an entry in
a two-level index such as the operation index.</p>

<p>defdoindex#1{edefindexname{#1}parseargsingleindexer} defsingleindexer
#1{doind{indexname}{#1}}</p>

<p>% like the previous two, but they put @code around the argument.
defdocodeindex#1{edefindexname{#1}parseargsinglecodeindexer}
defsinglecodeindexer #1{doind{indexname}{code{#1}}}</p>

<p>% Take care of Texinfo commands that can appear in an index entry. % Since
there are some commands we want to expand, and others we don&#39;t, % we
have to laboriously prevent expansion for those that we don&#39;t. %
defindexdummies{%</p>

<pre>\escapechar = `\\     % use backslash in output files.
\def\@{@}% change to @@ when we switch to @ as escape char in index files.
\def\ {\realbackslash\space }%
%
% Need these unexpandable (because we define \tt as a dummy)
% definitions when @{ or @} appear in index entry text.  Also, more
% complicated, when \tex is in effect and \{ is a \delimiter again.
% We can&#39;t use \lbracecmd and \rbracecmd because texindex assumes
% braces and backslashes are used only as delimiters.  Perhaps we
% should define @lbrace and @rbrace commands a la @comma.
\def\{{{\tt\char123}}%
\def\}{{\tt\char125}}%
%
% I don&#39;t entirely understand this, but when an index entry is
% generated from a macro call, the \endinput which \scanmacro inserts
% causes processing to be prematurely terminated.  This is,
% apparently, because \indexsorttmp is fully expanded, and \endinput
% is an expandable command.  The redefinition below makes \endinput
% disappear altogether for that purpose -- although logging shows that
% processing continues to some further point.  On the other hand, it
% seems \endinput does not hurt in the printed index arg, since that
% is still getting written without apparent harm.
%
% Sample source (mac-idx3.tex, reported by Graham Percival to
% help-texinfo, 22may06):
% @macro funindex {WORD}
% @findex xyz
% @end macro
% ...
% @funindex commtest
%
% The above is not enough to reproduce the bug, but it gives the flavor.
%
% Sample whatsit resulting:
% .@write3{\entry{xyz}{@folio }{@code {xyz@endinput }}}
%
% So:
\let\endinput = \empty
%
% Do the redefinitions.
\commondummies</pre>

<p>}</p>

<p>% For the aux and toc files, @ is the escape character.  So we want to %
redefine everything using @ as the escape character (instead of %
realbackslash, still used for index files).  When everything uses @, % this
will be simpler. % defatdummies{%</p>

<pre>\def\@{@@}%
\def\ {@ }%
\let\{ = \lbraceatcmd
\let\} = \rbraceatcmd
%
% Do the redefinitions.
\commondummies
\otherbackslash</pre>

<p>}</p>

<p>% Called from indexdummies and atdummies. % defcommondummies{%</p>

<pre>%
% \definedummyword defines \#1 as \string\#1\space, thus effectively
% preventing its expansion.  This is used only for control words,
% not control letters, because the \space would be incorrect for
% control characters, but is needed to separate the control word
% from whatever follows.
%
% For control letters, we have \definedummyletter, which omits the
% space.
%
% These can be used both for control words that take an argument and
% those that do not.  If it is followed by {arg} in the input, then
% that will dutifully get written to the index (or wherever).
%
\def\definedummyword  ##1{\def##1{\string##1\space}}%
\def\definedummyletter##1{\def##1{\string##1}}%
\let\definedummyaccent\definedummyletter
%
\commondummiesnofonts
%
\definedummyletter\_%
\definedummyletter\-%
%
% Non-English letters.
\definedummyword\AA
\definedummyword\AE
\definedummyword\DH
\definedummyword\L
\definedummyword\O
\definedummyword\OE
\definedummyword\TH
\definedummyword\aa
\definedummyword\ae
\definedummyword\dh
\definedummyword\exclamdown
\definedummyword\l
\definedummyword\o
\definedummyword\oe
\definedummyword\ordf
\definedummyword\ordm
\definedummyword\questiondown
\definedummyword\ss
\definedummyword\th
%
% Although these internal commands shouldn&#39;t show up, sometimes they do.
\definedummyword\bf
\definedummyword\gtr
\definedummyword\hat
\definedummyword\less
\definedummyword\sf
\definedummyword\sl
\definedummyword\tclose
\definedummyword\tt
%
\definedummyword\LaTeX
\definedummyword\TeX
%
% Assorted special characters.
\definedummyword\arrow
\definedummyword\bullet
\definedummyword\comma
\definedummyword\copyright
\definedummyword\registeredsymbol
\definedummyword\dots
\definedummyword\enddots
\definedummyword\entrybreak
\definedummyword\equiv
\definedummyword\error
\definedummyword\euro
\definedummyword\expansion
\definedummyword\geq
\definedummyword\guillemetleft
\definedummyword\guillemetright
\definedummyword\guilsinglleft
\definedummyword\guilsinglright
\definedummyword\lbracechar
\definedummyword\leq
\definedummyword\minus
\definedummyword\ogonek
\definedummyword\pounds
\definedummyword\point
\definedummyword\print
\definedummyword\quotedblbase
\definedummyword\quotedblleft
\definedummyword\quotedblright
\definedummyword\quoteleft
\definedummyword\quoteright
\definedummyword\quotesinglbase
\definedummyword\rbracechar
\definedummyword\result
\definedummyword\textdegree
%
% We want to disable all macros so that they are not expanded by \write.
\macrolist
%
\normalturnoffactive
%
% Handle some cases of @value -- where it does not contain any
% (non-fully-expandable) commands.
\makevalueexpandable</pre>

<p>}</p>

<p>% commondummiesnofonts: common to commondummies and indexnofonts. %
defcommondummiesnofonts{%</p>

<pre>% Control letters and accents.
\definedummyletter\!%
\definedummyaccent\&quot;%
\definedummyaccent\&#39;%
\definedummyletter\*%
\definedummyaccent\,%
\definedummyletter\.%
\definedummyletter\/%
\definedummyletter\:%
\definedummyaccent\=%
\definedummyletter\?%
\definedummyaccent\^%
\definedummyaccent\`%
\definedummyaccent\~%
\definedummyword\u
\definedummyword\v
\definedummyword\H
\definedummyword\dotaccent
\definedummyword\ogonek
\definedummyword\ringaccent
\definedummyword\tieaccent
\definedummyword\ubaraccent
\definedummyword\udotaccent
\definedummyword\dotless
%
% Texinfo font commands.
\definedummyword\b
\definedummyword\i
\definedummyword\r
\definedummyword\sansserif
\definedummyword\sc
\definedummyword\slanted
\definedummyword\t
%
% Commands that take arguments.
\definedummyword\abbr
\definedummyword\acronym
\definedummyword\anchor
\definedummyword\cite
\definedummyword\code
\definedummyword\command
\definedummyword\dfn
\definedummyword\dmn
\definedummyword\email
\definedummyword\emph
\definedummyword\env
\definedummyword\file
\definedummyword\image
\definedummyword\indicateurl
\definedummyword\inforef
\definedummyword\kbd
\definedummyword\key
\definedummyword\math
\definedummyword\option
\definedummyword\pxref
\definedummyword\ref
\definedummyword\samp
\definedummyword\strong
\definedummyword\tie
\definedummyword\uref
\definedummyword\url
\definedummyword\var
\definedummyword\verb
\definedummyword\w
\definedummyword\xref</pre>

<p>}</p>

<p>% indexnofonts is used when outputting the strings to sort the index % by,
and when constructing control sequence names.  It eliminates all % control
sequences and just writes whatever the best ASCII sort string % would be
for a given command (usually its argument). % defindexnofonts{%</p>

<pre>% Accent commands should become @asis.
\def\definedummyaccent##1{\let##1\asis}%
% We can just ignore other control letters.
\def\definedummyletter##1{\let##1\empty}%
% All control words become @asis by default; overrides below.
\let\definedummyword\definedummyaccent
%
\commondummiesnofonts
%
% Don&#39;t no-op \tt, since it isn&#39;t a user-level command
% and is used in the definitions of the active chars like &lt;, &gt;, |, etc.
% Likewise with the other plain tex font commands.
%\let\tt=\asis
%
\def\ { }%
\def\@{@}%
\def\_{\normalunderscore}%
\def\-{}% @- shouldn&#39;t affect sorting
%
% Unfortunately, texindex is not prepared to handle braces in the
% content at all.  So for index sorting, we map @{ and @} to strings
% starting with |, since that ASCII character is between ASCII { and }.
\def\{{|a}%
\def\lbracechar{|a}%
%
\def\}{|b}%
\def\rbracechar{|b}%
%
% Non-English letters.
\def\AA{AA}%
\def\AE{AE}%
\def\DH{DZZ}%
\def\L{L}%
\def\OE{OE}%
\def\O{O}%
\def\TH{ZZZ}%
\def\aa{aa}%
\def\ae{ae}%
\def\dh{dzz}%
\def\exclamdown{!}%
\def\l{l}%
\def\oe{oe}%
\def\ordf{a}%
\def\ordm{o}%
\def\o{o}%
\def\questiondown{?}%
\def\ss{ss}%
\def\th{zzz}%
%
\def\LaTeX{LaTeX}%
\def\TeX{TeX}%
%
% Assorted special characters.
% (The following {} will end up in the sort string, but that&#39;s ok.)
\def\arrow{-&gt;}%
\def\bullet{bullet}%
\def\comma{,}%
\def\copyright{copyright}%
\def\dots{...}%
\def\enddots{...}%
\def\equiv{==}%
\def\error{error}%
\def\euro{euro}%
\def\expansion{==&gt;}%
\def\geq{&gt;=}%
\def\guillemetleft{&lt;&lt;}%
\def\guillemetright{&gt;&gt;}%
\def\guilsinglleft{&lt;}%
\def\guilsinglright{&gt;}%
\def\leq{&lt;=}%
\def\minus{-}%
\def\point{.}%
\def\pounds{pounds}%
\def\print{-|}%
\def\quotedblbase{&quot;}%
\def\quotedblleft{&quot;}%
\def\quotedblright{&quot;}%
\def\quoteleft{`}%
\def\quoteright{&#39;}%
\def\quotesinglbase{,}%
\def\registeredsymbol{R}%
\def\result{=&gt;}%
\def\textdegree{o}%
%
\expandafter\ifx\csname SETtxiindexlquoteignore\endcsname\relax
\else \indexlquoteignore \fi
%
% We need to get rid of all macros, leaving only the arguments (if present).
% Of course this is not nearly correct, but it is the best we can do for now.
% makeinfo does not expand macros in the argument to @deffn, which ends up
% writing an index entry, and texindex isn&#39;t prepared for an index sort entry
% that starts with \.
%
% Since macro invocations are followed by braces, we can just redefine them
% to take a single TeX argument.  The case of a macro invocation that
% goes to end-of-line is not handled.
%
\macrolist</pre>

<p>}</p>

<p>% Undocumented (for FSFS 2nd ed.): @set txiindexlquoteignore makes us %
ignore left quotes in the sort term. {catcode``=active</p>

<pre>\gdef\indexlquoteignore{\let`=\empty}}</pre>

<p>letindexbackslash=0  %overridden during printindex. letSETmarginindex=relax
% put index entries in margin (undocumented)?</p>

<p>% Most index entries go through here, but dosubind is the general case. %
#1 is the index name, #2 is the entry text.
defdoind#1#2{dosubind{#1}{#2}{}}</p>

<p>% Workhorse for all fooindexes. % #1 is name of index, #2 is stuff to put
there, #3 is subentry – % empty if called from doind, as we usually are
(the main exception % is with most defuns, which call us directly). %
defdosubind#1#2#3{%</p>

<pre>\iflinks
{%
  % Store the main index entry text (including the third arg).
  \toks0 = {#2}%
  % If third arg is present, precede it with a space.
  \def\thirdarg{#3}%
  \ifx\thirdarg\empty \else
    \toks0 = \expandafter{\the\toks0 \space #3}%
  \fi
  %
  \edef\writeto{\csname#1indfile\endcsname}%
  %
  \safewhatsit\dosubindwrite
}%
\fi</pre>

<p>}</p>

<p>% Write the entry in toks0 to the index file: % defdosubindwrite{%</p>

<pre>% Put the index entry in the margin if desired.
\ifx\SETmarginindex\relax\else
  \insert\margin{\hbox{\vrule height8pt depth3pt width0pt \the\toks0}}%
\fi
%
% Remember, we are within a group.
\indexdummies % Must do this here, since \bf, etc expand at this stage
\def\backslashcurfont{\indexbackslash}% \indexbackslash isn&#39;t defined now
    % so it will be output as is; and it will print as backslash.
%
% Process the index entry with all font commands turned off, to
% get the string to sort by.
{\indexnofonts
 \edef\temp{\the\toks0}% need full expansion
 \xdef\indexsorttmp{\temp}%
}%
%
% Set up the complete index entry, with both the sort key and
% the original text, including any font commands.  We write
% three arguments to \entry to the .?? file (four in the
% subentry case), texindex reduces to two when writing the .??s
% sorted result.
\edef\temp{%
  \write\writeto{%
    \string\entry{\indexsorttmp}{\noexpand\folio}{\the\toks0}}%
}%
\temp</pre>

<p>}</p>

<p>% Take care of unwanted page breaks/skips around a whatsit: % % If a skip
is the last thing on the list now, preserve it % by backing up by lastskip,
doing the write, then inserting % the skip again.  Otherwise, the whatsit
generated by the % write or pdfdest will make lastskip zero.  The result is
that % sequences like this: % @end defun % @tindex whatever % @defun … %
will have extra space inserted, because the medbreak in the % start of the
@defun won&#39;t see the skip inserted by the @end of % the previous defun.
% % But don&#39;t do any of this if we&#39;re not in vertical mode.  We %
don&#39;t want to do a vskip and prematurely end a paragraph. % % Avoid
page breaks due to these extra skips, too. % % But wait, there is a catch
there: % We&#39;ll have to check whether lastskip is zero skip.  ifdim is
not % sufficient for this purpose, as it ignores stretch and shrink parts %
of the skip.  The only way seems to be to check the textual %
representation of the skip. % % The following is almost like
defzeroskipmacro{0.0pt} except that % the “p&#39;&#39; and “t&#39;&#39;
characters have catcode other, not 11 (letter). %
edefzeroskipmacro{expandafterthecsname z@skipendcsname} %
newskipwhatsitskip newcountwhatsitpenalty % % …, ready, GO: %
defsafewhatsit#1{ifhmode</p>

<pre> #1%
\else
 % \lastskip and \lastpenalty cannot both be nonzero simultaneously.
 \whatsitskip = \lastskip
 \edef\lastskipmacro{\the\lastskip}%
 \whatsitpenalty = \lastpenalty
 %
 % If \lastskip is nonzero, that means the last item was a
 % skip.  And since a skip is discardable, that means this
 % -\whatsitskip glue we&#39;re inserting is preceded by a
 % non-discardable item, therefore it is not a potential
 % breakpoint, therefore no \nobreak needed.
 \ifx\lastskipmacro\zeroskipmacro
 \else
   \vskip-\whatsitskip
 \fi
 %
 #1%
 %
 \ifx\lastskipmacro\zeroskipmacro
   % If \lastskip was zero, perhaps the last item was a penalty, and
   % perhaps it was &gt;=10000, e.g., a \nobreak.  In that case, we want
   % to re-insert the same penalty (values &gt;10000 are used for various
   % signals); since we just inserted a non-discardable item, any
   % following glue (such as a \parskip) would be a breakpoint.  For example:
   %   @deffn deffn-whatever
   %   @vindex index-whatever
   %   Description.
   % would allow a break between the index-whatever whatsit
   % and the &quot;Description.&quot; paragraph.
   \ifnum\whatsitpenalty&gt;9999 \penalty\whatsitpenalty \fi
 \else
   % On the other hand, if we had a nonzero \lastskip,
   % this make-up glue would be preceded by a non-discardable item
   % (the whatsit from the \write), so we must insert a \nobreak.
   \nobreak\vskip\whatsitskip
 \fi</pre>

<p>fi}</p>

<p>% The index entry written in the file actually looks like %  entry
{sortstring}{page}{topic} % or %  entry {sortstring}{page}{topic}{subtopic}
% The texindex program reads in these files and writes files % containing
these kinds of lines: %  initial {c} %     before the first topic whose
initial is c %  entry {topic}{pagelist} %     for a topic that is used
without subtopics %  primary {topic} %     for the beginning of a topic
that is used with subtopics %  secondary {subtopic}{pagelist} %     for
each subtopic.</p>

<p>% Define the user-accessible indexing commands % @findex, @vindex, @kindex,
@cindex.</p>

<p>deffindex {fnindex} defkindex {kyindex} defcindex {cpindex} defvindex
{vrindex} deftindex {tpindex} defpindex {pgindex}</p>

<p>defcindexsub {begingroupobeylinescindexsub} {obeylines % gdefcindexsub “#1”
#2^^M{endgroup % dosubind{cp}{#2}{#1}}}</p>

<p>% Define the macros used in formatting output of the sorted index material.</p>

<p>% @printindex causes a particular index (the ??s file) to get printed. % It
does not print any chapter heading (usually an @unnumbered). %
parseargdefprintindex{begingroup</p>

<pre>\dobreak \chapheadingskip{10000}%
%
\smallfonts \rm
\tolerance = 9500
\plainfrenchspacing
\everypar = {}% don&#39;t want the \kern\-parindent from indentation suppression.
%
% See if the index file exists and is nonempty.
% Change catcode of @ here so that if the index file contains
% \initial {@}
% as its first line, TeX doesn&#39;t complain about mismatched braces
% (because it thinks @} is a control sequence).
\catcode`\@ = 11
\openin 1 \jobname.#1s
\ifeof 1
  % \enddoublecolumns gets confused if there is no text in the index,
  % and it loses the chapter title and the aux file entries for the
  % index.  The easiest way to prevent this problem is to make sure
  % there is some text.
  \putwordIndexNonexistent
\else
  %
  % If the index file exists but is empty, then \openin leaves \ifeof
  % false.  We have to make TeX try to read something from the file, so
  % it can discover if there is anything in it.
  \read 1 to \temp
  \ifeof 1
    \putwordIndexIsEmpty
  \else
    % Index files are almost Texinfo source, but we use \ as the escape
    % character.  It would be better to use @, but that&#39;s too big a change
    % to make right now.
    \def\indexbackslash{\backslashcurfont}%
    \catcode`\\ = 0
    \escapechar = `\\
    \begindoublecolumns
    \input \jobname.#1s
    \enddoublecolumns
  \fi
\fi
\closein 1</pre>

<p>endgroup}</p>

<p>% These macros are used by the sorted index file itself. % Change them to
control the appearance of the index.</p>

<p>definitial#1{{%</p>

<pre>% Some minor font changes for the special characters.
\let\tentt=\sectt \let\tt=\sectt \let\sf=\sectt
%
% Remove any glue we may have, we&#39;ll be inserting our own.
\removelastskip
%
% We like breaks before the index initials, so insert a bonus.
\nobreak
\vskip 0pt plus 3\baselineskip
\penalty 0
\vskip 0pt plus -3\baselineskip
%
% Typeset the initial.  Making this add up to a whole number of
% baselineskips increases the chance of the dots lining up from column
% to column.  It still won&#39;t often be perfect, because of the stretch
% we need before each entry, but it&#39;s better.
%
% No shrink because it confuses \balancecolumns.
\vskip 1.67\baselineskip plus .5\baselineskip
\leftline{\secbf #1}%
% Do our best not to break after the initial.
\nobreak
\vskip .33\baselineskip plus .1\baselineskip</pre>

<p>}}</p>

<p>% entry typesets a paragraph consisting of the text (#1), dot leaders, and
% then page number (#2) flushed to the right margin.  It is used for index
% and table of contents entries.  The paragraph is indented by leftskip. %
% A straightforward implementation would start like this: %      
defentry#1#2{… % But this freezes the catcodes in the argument, and can
cause problems to % @code, which sets - active.  This problem was fixed by
a kludge— % “-&#39;&#39; was active throughout whole index, but this
isn&#39;t really right. % The right solution is to prevent entry from
swallowing the whole text. %                                 –kasal,
21nov03 defentry{%</p>

<pre>\begingroup
  %
  % Start a new paragraph if necessary, so our assignments below can&#39;t
  % affect previous text.
  \par
  %
  % Do not fill out the last line with white space.
  \parfillskip = 0in
  %
  % No extra space above this paragraph.
  \parskip = 0in
  %
  % Do not prefer a separate line ending with a hyphen to fewer lines.
  \finalhyphendemerits = 0
  %
  % \hangindent is only relevant when the entry text and page number
  % don&#39;t both fit on one line.  In that case, bob suggests starting the
  % dots pretty far over on the line.  Unfortunately, a large
  % indentation looks wrong when the entry text itself is broken across
  % lines.  So we use a small indentation and put up with long leaders.
  %
  % \hangafter is reset to 1 (which is the value we want) at the start
  % of each paragraph, so we need not do anything with that.
  \hangindent = 2em
  %
  % When the entry text needs to be broken, just fill out the first line
  % with blank space.
  \rightskip = 0pt plus1fil
  %
  % A bit of stretch before each entry for the benefit of balancing
  % columns.
  \vskip 0pt plus1pt
  %
  % When reading the text of entry, convert explicit line breaks
  % from @* into spaces.  The user might give these in long section
  % titles, for instance.
  \def\*{\unskip\space\ignorespaces}%
  \def\entrybreak{\hfil\break}%
  %
  % Swallow the left brace of the text (first parameter):
  \afterassignment\doentry
  \let\temp =</pre>

<p>} defentrybreak{unskipspaceignorespaces}% defdoentry{%</p>

<pre>\bgroup % Instead of the swallowed brace.
  \noindent
  \aftergroup\finishentry
  % And now comes the text of the entry.</pre>

<p>} deffinishentry#1{%</p>

<pre>  % #1 is the page number.
  %
  % The following is kludged to not output a line of dots in the index if
  % there are no page numbers.  The next person who breaks this will be
  % cursed by a Unix daemon.
  \setbox\boxA = \hbox{#1}%
  \ifdim\wd\boxA = 0pt
    \ %
  \else
    %
    % If we must, put the page number on a line of its own, and fill out
    % this line with blank space.  (The \hfil is overwhelmed with the
    % fill leaders glue in \indexdotfill if the page number does fit.)
    \hfil\penalty50
    \null\nobreak\indexdotfill % Have leaders before the page number.
    %
    % The `\ &#39; here is removed by the implicit \unskip that TeX does as
    % part of (the primitive) \par.  Without it, a spurious underfull
    % \hbox ensues.
    \ifpdf
      \pdfgettoks#1.%
      \ \the\toksA
    \else
      \ #1%
    \fi
  \fi
  \par
\endgroup</pre>

<p>}</p>

<p>% Like plain.tex&#39;s dotfill, except uses up at least 1 em.
defindexdotfill{cleaders</p>

<pre>\hbox{$\mathsurround=0pt \mkern1.5mu.\mkern1.5mu$}\hskip 1em plus 1fill}</pre>

<p>defprimary #1{line{#1hfil}}</p>

<p>newskipsecondaryindent secondaryindent=0.5cm defsecondary#1#2{{%</p>

<pre>\parfillskip=0in
\parskip=0in
\hangindent=1in
\hangafter=1
\noindent\hskip\secondaryindent\hbox{#1}\indexdotfill
\ifpdf
  \pdfgettoks#2.\ \the\toksA % The page number ends the paragraph.
\else
  #2
\fi
\par</pre>

<p>}}</p>

<p>% Define two-column mode, which we use to typeset indexes. % Adapted from
the TeXbook, page 416, which is to say, % the manmac.tex format used to
print the TeXbook itself. catcode`@=11</p>

<p>newboxpartialpage newdimendoublecolumnhsize</p>

<p>defbegindoublecolumns{begingroup % ended by enddoublecolumns</p>

<pre>% Grab any single-column material above us.
\output = {%
  %
  % Here is a possibility not foreseen in manmac: if we accumulate a
  % whole lot of material, we might end up calling this \output
  % routine twice in a row (see the doublecol-lose test, which is
  % essentially a couple of indexes with @setchapternewpage off).  In
  % that case we just ship out what is in \partialpage with the normal
  % output routine.  Generally, \partialpage will be empty when this
  % runs and this will be a no-op.  See the indexspread.tex test case.
  \ifvoid\partialpage \else
    \onepageout{\pagecontents\partialpage}%
  \fi
  %
  \global\setbox\partialpage = \vbox{%
    % Unvbox the main output page.
    \unvbox\PAGE
    \kern-\topskip \kern\baselineskip
  }%
}%
\eject % run that output routine to set \partialpage
%
% Use the double-column output routine for subsequent pages.
\output = {\doublecolumnout}%
%
% Change the page size parameters.  We could do this once outside this
% routine, in each of @smallbook, @afourpaper, and the default 8.5x11
% format, but then we repeat the same computation.  Repeating a couple
% of assignments once per index is clearly meaningless for the
% execution time, so we may as well do it in one place.
%
% First we halve the line length, less a little for the gutter between
% the columns.  We compute the gutter based on the line length, so it
% changes automatically with the paper format.  The magic constant
% below is chosen so that the gutter has the same value (well, +-&lt;1pt)
% as it did when we hard-coded it.
%
% We put the result in a separate register, \doublecolumhsize, so we
% can restore it in \pagesofar, after \hsize itself has (potentially)
% been clobbered.
%
\doublecolumnhsize = \hsize
  \advance\doublecolumnhsize by -.04154\hsize
  \divide\doublecolumnhsize by 2
\hsize = \doublecolumnhsize
%
% Double the \vsize as well.  (We don&#39;t need a separate register here,
% since nobody clobbers \vsize.)
\vsize = 2\vsize</pre>

<p>}</p>

<p>% The double-column output routine for all double-column pages except % the
last. % defdoublecolumnout{%</p>

<pre>\splittopskip=\topskip \splitmaxdepth=\maxdepth
% Get the available space for the double columns -- the normal
% (undoubled) page height minus any material left over from the
% previous page.
\dimen@ = \vsize
\divide\dimen@ by 2
\advance\dimen@ by -\ht\partialpage
%
% box0 will be the left-hand column, box2 the right.
\setbox0=\vsplit255 to\dimen@ \setbox2=\vsplit255 to\dimen@
\onepageout\pagesofar
\unvbox255
\penalty\outputpenalty</pre>

<p>} % % Re-output the contents of the output page – any previous material, %
followed by the two boxes we just split, in box0 and box2. defpagesofar{%</p>

<pre>\unvbox\partialpage
%
\hsize = \doublecolumnhsize
\wd0=\hsize \wd2=\hsize
\hbox to\pagewidth{\box0\hfil\box2}%</pre>

<p>} % % All done with double columns. defenddoublecolumns{%</p>

<pre>% The following penalty ensures that the page builder is exercised
% _before_ we change the output routine.  This is necessary in the
% following situation:
%
% The last section of the index consists only of a single entry.
% Before this section, \pagetotal is less than \pagegoal, so no
% break occurs before the last section starts.  However, the last
% section, consisting of \initial and the single \entry, does not
% fit on the page and has to be broken off.  Without the following
% penalty the page builder will not be exercised until \eject
% below, and by that time we&#39;ll already have changed the output
% routine to the \balancecolumns version, so the next-to-last
% double-column page will be processed with \balancecolumns, which
% is wrong:  The two columns will go to the main vertical list, with
% the broken-off section in the recent contributions.  As soon as
% the output routine finishes, TeX starts reconsidering the page
% break.  The two columns and the broken-off section both fit on the
% page, because the two columns now take up only half of the page
% goal.  When TeX sees \eject from below which follows the final
% section, it invokes the new output routine that we&#39;ve set after
% \balancecolumns below; \onepageout will try to fit the two columns
% and the final section into the vbox of \pageheight (see
% \pagebody), causing an overfull box.
%
% Note that glue won&#39;t work here, because glue does not exercise the
% page builder, unlike penalties (see The TeXbook, pp. 280-281).
\penalty0
%
\output = {%
  % Split the last of the double-column material.  Leave it on the
  % current page, no automatic page break.
  \balancecolumns
  %
  % If we end up splitting too much material for the current page,
  % though, there will be another page break right after this \output
  % invocation ends.  Having called \balancecolumns once, we do not
  % want to call it again.  Therefore, reset \output to its normal
  % definition right away.  (We hope \balancecolumns will never be
  % called on to balance too much material, but if it is, this makes
  % the output somewhat more palatable.)
  \global\output = {\onepageout{\pagecontents\PAGE}}%
}%
\eject
\endgroup % started in \begindoublecolumns
%
% \pagegoal was set to the doubled \vsize above, since we restarted
% the current page.  We&#39;re now back to normal single-column
% typesetting, so reset \pagegoal to the normal \vsize (after the
% \endgroup where \vsize got restored).
\pagegoal = \vsize</pre>

<p>} % % Called at the end of the double column material. defbalancecolumns{%</p>

<pre>\setbox0 = \vbox{\unvbox255}% like \box255 but more efficient, see p.120.
\dimen@ = \ht0
\advance\dimen@ by \topskip
\advance\dimen@ by-\baselineskip
\divide\dimen@ by 2 % target to split to
%debug\message{final 2-column material height=\the\ht0, target=\the\dimen@.}%
\splittopskip = \topskip
% Loop until we get a decent breakpoint.
{%
  \vbadness = 10000
  \loop
    \global\setbox3 = \copy0
    \global\setbox1 = \vsplit3 to \dimen@
  \ifdim\ht3&gt;\dimen@
    \global\advance\dimen@ by 1pt
  \repeat
}%
%debug\message{split to \the\dimen@, column heights: \the\ht1, \the\ht3.}%
\setbox0=\vbox to\dimen@{\unvbox1}%
\setbox2=\vbox to\dimen@{\unvbox3}%
%
\pagesofar</pre>

<p>} catcode`@ = other</p>

<p>message{sectioning,} % Chapters, sections, etc.</p>

<p>% Let&#39;s start with @part. outerparseargdefpart{partzzz{#1}}
defpartzzz#1{%</p>

<pre>\chapoddpage
\null
\vskip.3\vsize  % move it down on the page a bit
\begingroup
  \noindent \titlefonts\rmisbold #1\par % the text
  \let\lastnode=\empty      % no node to associate with
  \writetocentry{part}{#1}{}% but put it in the toc
  \headingsoff              % no headline or footline on the part page
  \chapoddpage
\endgroup</pre>

<p>}</p>

<p>% unnumberedno is an oxymoron.  But we count the unnumbered % sections so
that we can refer to them unambiguously in the pdf % outlines by their
“section number”.  We avoid collisions with chapter % numbers by starting
them at 10000.  (If a document ever has 10000 % chapters, we&#39;re in
trouble anyway, I&#39;m sure.) newcountunnumberedno unnumberedno = 10000
newcountchapno newcountsecno        secno=0 newcountsubsecno     subsecno=0
newcountsubsubsecno  subsubsecno=0</p>

<p>% This counter is funny since it counts through charcodes of letters A, B,
… newcountappendixno  appendixno = `@ % %
defappendixletter{chartheappendixno} % We do the following ugly conditional
instead of the above simple % construct for the sake of pdftex, which needs
the actual % letter in the expansion, not just typeset. %
defappendixletter{%</p>

<pre>\ifnum\appendixno=`A A%
\else\ifnum\appendixno=`B B%
\else\ifnum\appendixno=`C C%
\else\ifnum\appendixno=`D D%
\else\ifnum\appendixno=`E E%
\else\ifnum\appendixno=`F F%
\else\ifnum\appendixno=`G G%
\else\ifnum\appendixno=`H H%
\else\ifnum\appendixno=`I I%
\else\ifnum\appendixno=`J J%
\else\ifnum\appendixno=`K K%
\else\ifnum\appendixno=`L L%
\else\ifnum\appendixno=`M M%
\else\ifnum\appendixno=`N N%
\else\ifnum\appendixno=`O O%
\else\ifnum\appendixno=`P P%
\else\ifnum\appendixno=`Q Q%
\else\ifnum\appendixno=`R R%
\else\ifnum\appendixno=`S S%
\else\ifnum\appendixno=`T T%
\else\ifnum\appendixno=`U U%
\else\ifnum\appendixno=`V V%
\else\ifnum\appendixno=`W W%
\else\ifnum\appendixno=`X X%
\else\ifnum\appendixno=`Y Y%
\else\ifnum\appendixno=`Z Z%
% The \the is necessary, despite appearances, because \appendixletter is
% expanded while writing the .toc file.  \char\appendixno is not
% expandable, thus it is written literally, thus all appendixes come out
% with the same letter (or @) in the toc without it.
\else\char\the\appendixno
\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi
\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi\fi}</pre>

<p>% Each @chapter defines these (using marks) as the number+name, number %
and name of the chapter.  Page headings and footings can use % these. 
@section does likewise. defthischapter{} defthischapternum{}
defthischaptername{} defthissection{} defthissectionnum{}
defthissectionname{}</p>

<p>newcountabsseclevel % used to calculate proper heading level
newcountsecbasesecbase=0 % @raisesections/@lowersections modify this count</p>

<p>% @raisesections: treat @section as chapter, @subsection as section, etc.
defraisesections{globaladvancesecbase by -1} letup=raisesections % original
BFox name</p>

<p>% @lowersections: treat @chapter as section, @section as subsection, etc.
deflowersections{globaladvancesecbase by 1} letdown=lowersections %
original BFox name</p>

<p>% we only have subsub. chardefmaxseclevel = 3 % % A numbered section within
an unnumbered changes to unnumbered too. % To achieve this, remember the
“biggest” unnum. sec. we are currently in: chardefunnlevel = maxseclevel %
% Trace whether the current chapter is an appendix or not: % chapheadtype
is “N” or “A”, unnumbered chapters are ignored. defchapheadtype{N}</p>

<p>% Choose a heading macro % #1 is heading type % #2 is heading level % #3 is
text for heading defgenhead#1#2#3{%</p>

<pre>% Compute the abs. sec. level:
\absseclevel=#2
\advance\absseclevel by \secbase
% Make sure \absseclevel doesn&#39;t fall outside the range:
\ifnum \absseclevel &lt; 0
  \absseclevel = 0
\else
  \ifnum \absseclevel &gt; 3
    \absseclevel = 3
  \fi
\fi
% The heading type:
\def\headtype{#1}%
\if \headtype U%
  \ifnum \absseclevel &lt; \unnlevel
    \chardef\unnlevel = \absseclevel
  \fi
\else
  % Check for appendix sections:
  \ifnum \absseclevel = 0
    \edef\chapheadtype{\headtype}%
  \else
    \if \headtype A\if \chapheadtype N%
      \errmessage{@appendix... within a non-appendix chapter}%
    \fi\fi
  \fi
  % Check for numbered within unnumbered:
  \ifnum \absseclevel &gt; \unnlevel
    \def\headtype{U}%
  \else
    \chardef\unnlevel = 3
  \fi
\fi
% Now print the heading:
\if \headtype U%
  \ifcase\absseclevel
      \unnumberedzzz{#3}%
  \or \unnumberedseczzz{#3}%
  \or \unnumberedsubseczzz{#3}%
  \or \unnumberedsubsubseczzz{#3}%
  \fi
\else
  \if \headtype A%
    \ifcase\absseclevel
        \appendixzzz{#3}%
    \or \appendixsectionzzz{#3}%
    \or \appendixsubseczzz{#3}%
    \or \appendixsubsubseczzz{#3}%
    \fi
  \else
    \ifcase\absseclevel
        \chapterzzz{#3}%
    \or \seczzz{#3}%
    \or \numberedsubseczzz{#3}%
    \or \numberedsubsubseczzz{#3}%
    \fi
  \fi
\fi
\suppressfirstparagraphindent</pre>

<p>}</p>

<p>% an interface: defnumhead{genhead N} defapphead{genhead A}
defunnmhead{genhead U}</p>

<p>% @chapter, @appendix, @unnumbered.  Increment top-level counter, reset %
all lower-level sectioning counters to zero. % % Also set chaplevelprefix,
which we prepend to @float sequence numbers % (e.g., figures), q.v.  By
default (before any chapter), that is empty. letchaplevelprefix = empty %
outerparseargdefchapter{numhead0{#1}} % normally numhead0 calls chapterzzz
defchapterzzz#1{%</p>

<pre>% section resetting is \global in case the chapter is in a group, such
% as an @include file.
\global\secno=0 \global\subsecno=0 \global\subsubsecno=0
  \global\advance\chapno by 1
%
% Used for \float.
\gdef\chaplevelprefix{\the\chapno.}%
\resetallfloatnos
%
% \putwordChapter can contain complex things in translations.
\toks0=\expandafter{\putwordChapter}%
\message{\the\toks0 \space \the\chapno}%
%
% Write the actual heading.
\chapmacro{#1}{Ynumbered}{\the\chapno}%
%
% So @section and the like are numbered underneath this chapter.
\global\let\section = \numberedsec
\global\let\subsection = \numberedsubsec
\global\let\subsubsection = \numberedsubsubsec</pre>

<p>}</p>

<p>outerparseargdefappendix{apphead0{#1}} % normally calls appendixzzz %
defappendixzzz#1{%</p>

<pre>\global\secno=0 \global\subsecno=0 \global\subsubsecno=0
  \global\advance\appendixno by 1
\gdef\chaplevelprefix{\appendixletter.}%
\resetallfloatnos
%
% \putwordAppendix can contain complex things in translations.
\toks0=\expandafter{\putwordAppendix}%
\message{\the\toks0 \space \appendixletter}%
%
\chapmacro{#1}{Yappendix}{\appendixletter}%
%
\global\let\section = \appendixsec
\global\let\subsection = \appendixsubsec
\global\let\subsubsection = \appendixsubsubsec</pre>

<p>}</p>

<p>% normally unnmhead0 calls unnumberedzzz:
outerparseargdefunnumbered{unnmhead0{#1}} defunnumberedzzz#1{%</p>

<pre>\global\secno=0 \global\subsecno=0 \global\subsubsecno=0
  \global\advance\unnumberedno by 1
%
% Since an unnumbered has no number, no prefix for figures.
\global\let\chaplevelprefix = \empty
\resetallfloatnos
%
% This used to be simply \message{#1}, but TeX fully expands the
% argument to \message.  Therefore, if #1 contained @-commands, TeX
% expanded them.  For example, in `@unnumbered The @cite{Book}&#39;, TeX
% expanded @cite (which turns out to cause errors because \cite is meant
% to be executed, not expanded).
%
% Anyway, we don&#39;t want the fully-expanded definition of @cite to appear
% as a result of the \message, we just want `@cite&#39; itself.  We use
% \the&lt;toks register&gt; to achieve this: TeX expands \the&lt;toks&gt; only once,
% simply yielding the contents of &lt;toks register&gt;.  (We also do this for
% the toc entries.)
\toks0 = {#1}%
\message{(\the\toks0)}%
%
\chapmacro{#1}{Ynothing}{\the\unnumberedno}%
%
\global\let\section = \unnumberedsec
\global\let\subsection = \unnumberedsubsec
\global\let\subsubsection = \unnumberedsubsubsec</pre>

<p>}</p>

<p>% @centerchap is like @unnumbered, but the heading is centered.
outerparseargdefcenterchap{%</p>

<pre>% Well, we could do the following in a group, but that would break
% an assumption that \chapmacro is called at the outermost level.
% Thus we are safer this way:         --kasal, 24feb04
\let\centerparametersmaybe = \centerparameters
\unnmhead0{#1}%
\let\centerparametersmaybe = \relax</pre>

<p>}</p>

<p>% @top is like @unnumbered. lettopunnumbered</p>

<p>% Sections. %  outerparseargdefnumberedsec{numhead1{#1}} % normally calls
seczzz defseczzz#1{%</p>

<pre>\global\subsecno=0 \global\subsubsecno=0  \global\advance\secno by 1
\sectionheading{#1}{sec}{Ynumbered}{\the\chapno.\the\secno}%</pre>

<p>}</p>

<p>% normally calls appendixsectionzzz:
outerparseargdefappendixsection{apphead1{#1}} defappendixsectionzzz#1{%</p>

<pre>\global\subsecno=0 \global\subsubsecno=0  \global\advance\secno by 1
\sectionheading{#1}{sec}{Yappendix}{\appendixletter.\the\secno}%</pre>

<p>} letappendixsecappendixsection</p>

<p>% normally calls unnumberedseczzz:
outerparseargdefunnumberedsec{unnmhead1{#1}} defunnumberedseczzz#1{%</p>

<pre>\global\subsecno=0 \global\subsubsecno=0  \global\advance\secno by 1
\sectionheading{#1}{sec}{Ynothing}{\the\unnumberedno.\the\secno}%</pre>

<p>}</p>

<p>% Subsections. %  % normally calls numberedsubseczzz:
outerparseargdefnumberedsubsec{numhead2{#1}} defnumberedsubseczzz#1{%</p>

<pre>\global\subsubsecno=0  \global\advance\subsecno by 1
\sectionheading{#1}{subsec}{Ynumbered}{\the\chapno.\the\secno.\the\subsecno}%</pre>

<p>}</p>

<p>% normally calls appendixsubseczzz:
outerparseargdefappendixsubsec{apphead2{#1}} defappendixsubseczzz#1{%</p>

<pre>\global\subsubsecno=0  \global\advance\subsecno by 1
\sectionheading{#1}{subsec}{Yappendix}%
               {\appendixletter.\the\secno.\the\subsecno}%</pre>

<p>}</p>

<p>% normally calls unnumberedsubseczzz:
outerparseargdefunnumberedsubsec{unnmhead2{#1}} defunnumberedsubseczzz#1{%</p>

<pre>\global\subsubsecno=0  \global\advance\subsecno by 1
\sectionheading{#1}{subsec}{Ynothing}%
               {\the\unnumberedno.\the\secno.\the\subsecno}%</pre>

<p>}</p>

<p>% Subsubsections. %  % normally numberedsubsubseczzz:
outerparseargdefnumberedsubsubsec{numhead3{#1}} defnumberedsubsubseczzz#1{%</p>

<pre>\global\advance\subsubsecno by 1
\sectionheading{#1}{subsubsec}{Ynumbered}%
               {\the\chapno.\the\secno.\the\subsecno.\the\subsubsecno}%</pre>

<p>}</p>

<p>% normally appendixsubsubseczzz:
outerparseargdefappendixsubsubsec{apphead3{#1}} defappendixsubsubseczzz#1{%</p>

<pre>\global\advance\subsubsecno by 1
\sectionheading{#1}{subsubsec}{Yappendix}%
               {\appendixletter.\the\secno.\the\subsecno.\the\subsubsecno}%</pre>

<p>}</p>

<p>% normally unnumberedsubsubseczzz:
outerparseargdefunnumberedsubsubsec{unnmhead3{#1}}
defunnumberedsubsubseczzz#1{%</p>

<pre>\global\advance\subsubsecno by 1
\sectionheading{#1}{subsubsec}{Ynothing}%
               {\the\unnumberedno.\the\secno.\the\subsecno.\the\subsubsecno}%</pre>

<p>}</p>

<p>% These macros control what the section commands do, according % to what
kind of chapter we are in (ordinary, appendix, or unnumbered). % Define
them by default for a numbered chapter. letsection = numberedsec
letsubsection = numberedsubsec letsubsubsection = numberedsubsubsec</p>

<p>% Define @majorheading, @heading and @subheading</p>

<p>defmajorheading{%</p>

<pre>{\advance\chapheadingskip by 10pt \chapbreak }%
\parsearg\chapheadingzzz</pre>

<p>}</p>

<p>defchapheading{chapbreak parseargchapheadingzzz} defchapheadingzzz#1{%</p>

<pre>\vbox{\chapfonts \raggedtitlesettings #1\par}%
\nobreak\bigskip \nobreak
\suppressfirstparagraphindent</pre>

<p>}</p>

<p>% @heading, @subheading, @subsubheading.
parseargdefheading{sectionheading{#1}{sec}{Yomitfromtoc}{}</p>

<pre>\suppressfirstparagraphindent}</pre>

<p>parseargdefsubheading{sectionheading{#1}{subsec}{Yomitfromtoc}{}</p>

<pre>\suppressfirstparagraphindent}</pre>

<p>parseargdefsubsubheading{sectionheading{#1}{subsubsec}{Yomitfromtoc}{}</p>

<pre>\suppressfirstparagraphindent}</pre>

<p>% These macros generate a chapter, section, etc. heading only % (including
whitespace, linebreaking, etc. around it), % given all the information in
convenient, parsed form.</p>

<p>% Args are the skip and penalty (usually negative)
defdobreak#1#2{parifdimlastskip&lt;#1removelastskippenalty#2vskip#1fi}</p>

<p>% Parameter controlling skip before chapter headings (if needed)
newskipchapheadingskip</p>

<p>% Define plain chapter starts, and page on/off switching for it.
defchapbreak{dobreak chapheadingskip {-4000}}
defchappager{parvfillsupereject} % Because domark is called before
chapoddpage, the filler page will % get the headings for the next chapter,
which is wrong.  But we don&#39;t % care – we just disable all headings on
the filler page. defchapoddpage{%</p>

<pre>\chappager
\ifodd\pageno \else
  \begingroup
    \headingsoff
    \null
    \chappager
  \endgroup
\fi</pre>

<p>}</p>

<p>defsetchapternewpage #1 {csname CHAPPAG#1endcsname}</p>

<p>defCHAPPAGoff{% globalletcontentsalignmacro = chappager
globalletpchapsepmacro=chapbreak globalletpagealignmacro=chappager}</p>

<p>defCHAPPAGon{% globalletcontentsalignmacro = chappager
globalletpchapsepmacro=chappager globalletpagealignmacro=chappager
globaldefHEADINGSon{HEADINGSsingle}}</p>

<p>defCHAPPAGodd{% globalletcontentsalignmacro = chapoddpage
globalletpchapsepmacro=chapoddpage globalletpagealignmacro=chapoddpage
globaldefHEADINGSon{HEADINGSdouble}}</p>

<p>CHAPPAGon</p>

<p>% Chapter opening. % % #1 is the text, #2 is the section type (Ynumbered,
Ynothing, % Yappendix, Yomitfromtoc), #3 the chapter number. % % To test
against our argument. defYnothingkeyword{Ynothing}
defYomitfromtockeyword{Yomitfromtoc} defYappendixkeyword{Yappendix} %
defchapmacro#1#2#3{%</p>

<pre>% Insert the first mark before the heading break (see notes for \domark).
\let\prevchapterdefs=\lastchapterdefs
\let\prevsectiondefs=\lastsectiondefs
\gdef\lastsectiondefs{\gdef\thissectionname{}\gdef\thissectionnum{}%
                      \gdef\thissection{}}%
%
\def\temptype{#2}%
\ifx\temptype\Ynothingkeyword
  \gdef\lastchapterdefs{\gdef\thischaptername{#1}\gdef\thischapternum{}%
                        \gdef\thischapter{\thischaptername}}%
\else\ifx\temptype\Yomitfromtockeyword
  \gdef\lastchapterdefs{\gdef\thischaptername{#1}\gdef\thischapternum{}%
                        \gdef\thischapter{}}%
\else\ifx\temptype\Yappendixkeyword
  \toks0={#1}%
  \xdef\lastchapterdefs{%
    \gdef\noexpand\thischaptername{\the\toks0}%
    \gdef\noexpand\thischapternum{\appendixletter}%
    % \noexpand\putwordAppendix avoids expanding indigestible
    % commands in some of the translations.
    \gdef\noexpand\thischapter{\noexpand\putwordAppendix{}
                               \noexpand\thischapternum:
                               \noexpand\thischaptername}%
  }%
\else
  \toks0={#1}%
  \xdef\lastchapterdefs{%
    \gdef\noexpand\thischaptername{\the\toks0}%
    \gdef\noexpand\thischapternum{\the\chapno}%
    % \noexpand\putwordChapter avoids expanding indigestible
    % commands in some of the translations.
    \gdef\noexpand\thischapter{\noexpand\putwordChapter{}
                               \noexpand\thischapternum:
                               \noexpand\thischaptername}%
  }%
\fi\fi\fi
%
% Output the mark.  Pass it through \safewhatsit, to take care of
% the preceding space.
\safewhatsit\domark
%
% Insert the chapter heading break.
\pchapsepmacro
%
% Now the second mark, after the heading break.  No break points
% between here and the heading.
\let\prevchapterdefs=\lastchapterdefs
\let\prevsectiondefs=\lastsectiondefs
\domark
%
{%
  \chapfonts \rmisbold
  %
  % Have to define \lastsection before calling \donoderef, because the
  % xref code eventually uses it.  On the other hand, it has to be called
  % after \pchapsepmacro, or the headline will change too soon.
  \gdef\lastsection{#1}%
  %
  % Only insert the separating space if we have a chapter/appendix
  % number, and don&#39;t print the unnumbered ``number&#39;&#39;.
  \ifx\temptype\Ynothingkeyword
    \setbox0 = \hbox{}%
    \def\toctype{unnchap}%
  \else\ifx\temptype\Yomitfromtockeyword
    \setbox0 = \hbox{}% contents like unnumbered, but no toc entry
    \def\toctype{omit}%
  \else\ifx\temptype\Yappendixkeyword
    \setbox0 = \hbox{\putwordAppendix{} #3\enspace}%
    \def\toctype{app}%
  \else
    \setbox0 = \hbox{#3\enspace}%
    \def\toctype{numchap}%
  \fi\fi\fi
  %
  % Write the toc entry for this chapter.  Must come before the
  % \donoderef, because we include the current node name in the toc
  % entry, and \donoderef resets it to empty.
  \writetocentry{\toctype}{#1}{#3}%
  %
  % For pdftex, we have to write out the node definition (aka, make
  % the pdfdest) after any page break, but before the actual text has
  % been typeset.  If the destination for the pdf outline is after the
  % text, then jumping from the outline may wind up with the text not
  % being visible, for instance under high magnification.
  \donoderef{#2}%
  %
  % Typeset the actual heading.
  \nobreak % Avoid page breaks at the interline glue.
  \vbox{\raggedtitlesettings \hangindent=\wd0 \centerparametersmaybe
        \unhbox0 #1\par}%
}%
\nobreak\bigskip % no page break after a chapter title
\nobreak</pre>

<p>}</p>

<p>% @centerchap – centered and unnumbered. letcenterparametersmaybe = relax
defcenterparameters{%</p>

<pre>\advance\rightskip by 3\rightskip
\leftskip = \rightskip
\parfillskip = 0pt</pre>

<p>}</p>

<p>% I don&#39;t think this chapter style is supported any more, so I&#39;m
not % updating it with the new noderef stuff.  We&#39;ll see.  –karl,
11aug03. % defsetchapterstyle #1 {csname CHAPF#1endcsname} % defunnchfopen
#1{%</p>

<pre>\chapoddpage
\vbox{\chapfonts \raggedtitlesettings #1\par}%
\nobreak\bigskip\nobreak</pre>

<p>} defchfopen #1#2{chapoddpage {chapfonts vbox to 3in{vfil hbox tohsize{hfil
#2} hbox tohsize{hfil #1} vfil}}% parpenalty 5000 % } defcenterchfopen #1{%</p>

<pre>\chapoddpage
\vbox{\chapfonts \raggedtitlesettings \hfill #1\hfill}%
\nobreak\bigskip \nobreak</pre>

<p>} defCHAPFopen{%</p>

<pre>\global\let\chapmacro=\chfopen
\global\let\centerchapmacro=\centerchfopen}</pre>

<p>% Section titles.  These macros combine the section number parts and % call
the generic sectionheading to do the printing. % newskipsecheadingskip
defsecheadingbreak{dobreak secheadingskip{-1000}}</p>

<p>% Subsection titles. newskipsubsecheadingskip defsubsecheadingbreak{dobreak
subsecheadingskip{-500}}</p>

<p>% Subsubsection titles. defsubsubsecheadingskip{subsecheadingskip}
defsubsubsecheadingbreak{subsecheadingbreak}</p>

<p>% Print any size, any type, section title. % % #1 is the text, #2 is the
section level (sec/subsec/subsubsec), #3 is % the section type for xrefs
(Ynumbered, Ynothing, Yappendix), #4 is the % section number. %
defseckeyword{sec} % defsectionheading#1#2#3#4{%</p>

<pre>{%
  \checkenv{}% should not be in an environment.
  %
  % Switch to the right set of fonts.
  \csname #2fonts\endcsname \rmisbold
  %
  \def\sectionlevel{#2}%
  \def\temptype{#3}%
  %
  % Insert first mark before the heading break (see notes for \domark).
  \let\prevsectiondefs=\lastsectiondefs
  \ifx\temptype\Ynothingkeyword
    \ifx\sectionlevel\seckeyword
      \gdef\lastsectiondefs{\gdef\thissectionname{#1}\gdef\thissectionnum{}%
                            \gdef\thissection{\thissectionname}}%
    \fi
  \else\ifx\temptype\Yomitfromtockeyword
    % Don&#39;t redefine \thissection.
  \else\ifx\temptype\Yappendixkeyword
    \ifx\sectionlevel\seckeyword
      \toks0={#1}%
      \xdef\lastsectiondefs{%
        \gdef\noexpand\thissectionname{\the\toks0}%
        \gdef\noexpand\thissectionnum{#4}%
        % \noexpand\putwordSection avoids expanding indigestible
        % commands in some of the translations.
        \gdef\noexpand\thissection{\noexpand\putwordSection{}
                                   \noexpand\thissectionnum:
                                   \noexpand\thissectionname}%
      }%
    \fi
  \else
    \ifx\sectionlevel\seckeyword
      \toks0={#1}%
      \xdef\lastsectiondefs{%
        \gdef\noexpand\thissectionname{\the\toks0}%
        \gdef\noexpand\thissectionnum{#4}%
        % \noexpand\putwordSection avoids expanding indigestible
        % commands in some of the translations.
        \gdef\noexpand\thissection{\noexpand\putwordSection{}
                                   \noexpand\thissectionnum:
                                   \noexpand\thissectionname}%
      }%
    \fi
  \fi\fi\fi
  %
  % Go into vertical mode.  Usually we&#39;ll already be there, but we
  % don&#39;t want the following whatsit to end up in a preceding paragraph
  % if the document didn&#39;t happen to have a blank line.
  \par
  %
  % Output the mark.  Pass it through \safewhatsit, to take care of
  % the preceding space.
  \safewhatsit\domark
  %
  % Insert space above the heading.
  \csname #2headingbreak\endcsname
  %
  % Now the second mark, after the heading break.  No break points
  % between here and the heading.
  \let\prevsectiondefs=\lastsectiondefs
  \domark
  %
  % Only insert the space after the number if we have a section number.
  \ifx\temptype\Ynothingkeyword
    \setbox0 = \hbox{}%
    \def\toctype{unn}%
    \gdef\lastsection{#1}%
  \else\ifx\temptype\Yomitfromtockeyword
    % for @headings -- no section number, don&#39;t include in toc,
    % and don&#39;t redefine \lastsection.
    \setbox0 = \hbox{}%
    \def\toctype{omit}%
    \let\sectionlevel=\empty
  \else\ifx\temptype\Yappendixkeyword
    \setbox0 = \hbox{#4\enspace}%
    \def\toctype{app}%
    \gdef\lastsection{#1}%
  \else
    \setbox0 = \hbox{#4\enspace}%
    \def\toctype{num}%
    \gdef\lastsection{#1}%
  \fi\fi\fi
  %
  % Write the toc entry (before \donoderef).  See comments in \chapmacro.
  \writetocentry{\toctype\sectionlevel}{#1}{#4}%
  %
  % Write the node reference (= pdf destination for pdftex).
  % Again, see comments in \chapmacro.
  \donoderef{#3}%
  %
  % Interline glue will be inserted when the vbox is completed.
  % That glue will be a valid breakpoint for the page, since it&#39;ll be
  % preceded by a whatsit (usually from the \donoderef, or from the
  % \writetocentry if there was no node).  We don&#39;t want to allow that
  % break, since then the whatsits could end up on page n while the
  % section is on page n+1, thus toc/etc. are wrong.  Debian bug 276000.
  \nobreak
  %
  % Output the actual section heading.
  \vbox{\hyphenpenalty=10000 \tolerance=5000 \parindent=0pt \ptexraggedright
        \hangindent=\wd0  % zero if no section number
        \unhbox0 #1}%
}%
% Add extra space after the heading -- half of whatever came above it.
% Don&#39;t allow stretch, though.
\kern .5 \csname #2headingskip\endcsname
%
% Do not let the kern be a potential breakpoint, as it would be if it
% was followed by glue.
\nobreak
%
% We&#39;ll almost certainly start a paragraph next, so don&#39;t let that
% glue accumulate.  (Not a breakpoint because it&#39;s preceded by a
% discardable item.)  However, when a paragraph is not started next
% (\startdefun, \cartouche, \center, etc.), this needs to be wiped out
% or the negative glue will cause weirdly wrong output, typically
% obscuring the section heading with something else.
\vskip-\parskip
%
% This is so the last item on the main vertical list is a known
% \penalty &gt; 10000, so \startdefun, etc., can recognize the situation
% and do the needful.
\penalty 10001</pre>

<p>}</p>

<p>message{toc,} % Table of contents. newwritetocfile</p>

<p>% Write an entry to the toc file, opening it if necessary. % Called from
@chapter, etc. % % Example usage: writetocentry{sec}{Section
Name}{thechapno.thesecno} % We append the current node name (if any) and
page number as additional % arguments for the {chap,sec,…}entry macros
which will eventually % read this.  The node name is used in the pdf
outlines as the % destination to jump to. % % We open the .toc file for
writing here instead of at @setfilename (or % any other fixed time) so that
@contents can be anywhere in the document. % But if #1 is `omit&#39;, then
we don&#39;t do anything.  This is used for the % table of contents chapter
openings themselves. % newififtocfileopened defomitkeyword{omit}% %
defwritetocentry#1#2#3{%</p>

<pre>\edef\writetoctype{#1}%
\ifx\writetoctype\omitkeyword \else
  \iftocfileopened\else
    \immediate\openout\tocfile = \jobname.toc
    \global\tocfileopenedtrue
  \fi
  %
  \iflinks
    {\atdummies
     \edef\temp{%
       \write\tocfile{@#1entry{#2}{#3}{\lastnode}{\noexpand\folio}}}%
     \temp
    }%
  \fi
\fi
%
% Tell \shipout to create a pdf destination on each page, if we&#39;re
% writing pdf.  These are used in the table of contents.  We can&#39;t
% just write one on every page because the title pages are numbered
% 1 and 2 (the page numbers aren&#39;t printed), and so are the first
% two pages of the document.  Thus, we&#39;d have two destinations named
% `1&#39;, and two named `2&#39;.
\ifpdf \global\pdfmakepagedesttrue \fi</pre>

<p>}</p>

<p>% These characters do not print properly in the Computer Modern roman %
fonts, so we must take special care.  This is more or less redundant % with
the Texinfo input format setup at the end of this file. %
defactivecatcodes{%</p>

<pre>\catcode`\&quot;=\active
\catcode`\$=\active
\catcode`\&lt;=\active
\catcode`\&gt;=\active
\catcode`\\=\active
\catcode`\^=\active
\catcode`\_=\active
\catcode`\|=\active
\catcode`\~=\active</pre>

<p>}</p>

<p>% Read the toc file, which is essentially Texinfo input. defreadtocfile{%</p>

<pre>\setupdatafile
\activecatcodes
\input \tocreadfilename</pre>

<p>}</p>

<p>newskipcontentsrightmargin contentsrightmargin=1in newcountsavepageno
newcountlastnegativepageno lastnegativepageno = -1</p>

<p>% Prepare to read what we&#39;ve written to tocfile. % defstartcontents#1{%</p>

<pre>% If @setchapternewpage on, and @headings double, the contents should
% start on an odd page, unlike chapters.  Thus, we maintain
% \contentsalignmacro in parallel with \pagealignmacro.
% From: Torbjorn Granlund &lt;tege@matematik.su.se&gt;
\contentsalignmacro
\immediate\closeout\tocfile
%
% Don&#39;t need to put `Contents&#39; or `Short Contents&#39; in the headline.
% It is abundantly clear what they are.
\chapmacro{#1}{Yomitfromtoc}{}%
%
\savepageno = \pageno
\begingroup                  % Set up to handle contents files properly.
  \raggedbottom              % Worry more about breakpoints than the bottom.
  \advance\hsize by -\contentsrightmargin % Don&#39;t use the full line length.
  %
  % Roman numerals for page numbers.
  \ifnum \pageno&gt;0 \global\pageno = \lastnegativepageno \fi</pre>

<p>}</p>

<p>% redefined for the two-volume lispref.  We always output on % jobname.toc
even if this is redefined. % deftocreadfilename{jobname.toc}</p>

<p>% Normal (long) toc. % defcontents{%</p>

<pre>\startcontents{\putwordTOC}%
  \openin 1 \tocreadfilename\space
  \ifeof 1 \else
    \readtocfile
  \fi
  \vfill \eject
  \contentsalignmacro % in case @setchapternewpage odd is in effect
  \ifeof 1 \else
    \pdfmakeoutlines
  \fi
  \closein 1
\endgroup
\lastnegativepageno = \pageno
\global\pageno = \savepageno</pre>

<p>}</p>

<p>% And just the chapters. defsummarycontents{%</p>

<pre>\startcontents{\putwordShortTOC}%
  %
  \let\partentry = \shortpartentry
  \let\numchapentry = \shortchapentry
  \let\appentry = \shortchapentry
  \let\unnchapentry = \shortunnchapentry
  % We want a true roman here for the page numbers.
  \secfonts
  \let\rm=\shortcontrm \let\bf=\shortcontbf
  \let\sl=\shortcontsl \let\tt=\shortconttt
  \rm
  \hyphenpenalty = 10000
  \advance\baselineskip by 1pt % Open it up a little.
  \def\numsecentry##1##2##3##4{}
  \let\appsecentry = \numsecentry
  \let\unnsecentry = \numsecentry
  \let\numsubsecentry = \numsecentry
  \let\appsubsecentry = \numsecentry
  \let\unnsubsecentry = \numsecentry
  \let\numsubsubsecentry = \numsecentry
  \let\appsubsubsecentry = \numsecentry
  \let\unnsubsubsecentry = \numsecentry
  \openin 1 \tocreadfilename\space
  \ifeof 1 \else
    \readtocfile
  \fi
  \closein 1
  \vfill \eject
  \contentsalignmacro % in case @setchapternewpage odd is in effect
\endgroup
\lastnegativepageno = \pageno
\global\pageno = \savepageno</pre>

<p>} letshortcontents = summarycontents</p>

<p>% Typeset the label for a chapter or appendix for the short contents. % The
arg is, e.g., `A&#39; for an appendix, or `3&#39; for a chapter. %
defshortchaplabel#1{%</p>

<pre>% This space should be enough, since a single number is .5em, and the
% widest letter (M) is 1em, at least in the Computer Modern fonts.
% But use \hss just in case.
% (This space doesn&#39;t include the extra space that gets added after
% the label; that gets put in by \shortchapentry above.)
%
% We&#39;d like to right-justify chapter numbers, but that looks strange
% with appendix letters.  And right-justifying numbers and
% left-justifying letters looks strange when there is less than 10
% chapters.  Have to read the whole toc once to know how many chapters
% there are before deciding ...
\hbox to 1em{#1\hss}%</pre>

<p>}</p>

<p>% These macros generate individual entries in the table of contents. % The
first argument is the chapter or section name. % The last argument is the
page number. % The arguments in between are the chapter number, section
number, …</p>

<p>% Parts, in the main contents.  Replace the part number, which doesn&#39;t
% exist, with an empty box.  Let&#39;s hope all the numbers have the same
width. % Also ignore the page number, which is conventionally not printed.
defnumeralbox{setbox0=hbox{8}hbox to wd0{hfil}}
defpartentry#1#2#3#4{dochapentry{numeralboxlabelspace#1}{}} % % Parts, in
the short toc. defshortpartentry#1#2#3#4{%</p>

<pre>\penalty-300
\vskip.5\baselineskip plus.15\baselineskip minus.1\baselineskip
\shortchapentry{{\bf #1}}{\numeralbox}{}{}%</pre>

<p>}</p>

<p>% Chapters, in the main contents.
defnumchapentry#1#2#3#4{dochapentry{#2labelspace#1}{#4}} % % Chapters, in
the short toc. % See comments in dochapentry re vbox and related settings.
defshortchapentry#1#2#3#4{%</p>

<pre>\tocentry{\shortchaplabel{#2}\labelspace #1}{\doshortpageno\bgroup#4\egroup}%</pre>

<p>}</p>

<p>% Appendices, in the main contents. % Need the word Appendix, and a
fixed-size box. % defappendixbox#1{%</p>

<pre>% We use M since it&#39;s probably the widest letter.
\setbox0 = \hbox{\putwordAppendix{} M}%
\hbox to \wd0{\putwordAppendix{} #1\hss}}</pre>

<p>% defappentry#1#2#3#4{dochapentry{appendixbox{#2}labelspace#1}{#4}}</p>

<p>% Unnumbered chapters. defunnchapentry#1#2#3#4{dochapentry{#1}{#4}}
defshortunnchapentry#1#2#3#4{tocentry{#1}{doshortpagenobgroup#4egroup}}</p>

<p>% Sections. defnumsecentry#1#2#3#4{dosecentry{#2labelspace#1}{#4}}
letappsecentry=numsecentry defunnsecentry#1#2#3#4{dosecentry{#1}{#4}}</p>

<p>% Subsections. defnumsubsecentry#1#2#3#4{dosubsecentry{#2labelspace#1}{#4}}
letappsubsecentry=numsubsecentry
defunnsubsecentry#1#2#3#4{dosubsecentry{#1}{#4}}</p>

<p>% And subsubsections.
defnumsubsubsecentry#1#2#3#4{dosubsubsecentry{#2labelspace#1}{#4}}
letappsubsubsecentry=numsubsubsecentry
defunnsubsubsecentry#1#2#3#4{dosubsubsecentry{#1}{#4}}</p>

<p>% This parameter controls the indentation of the various levels. % Same as
defaultparindent. newdimentocindent tocindent = 15pt</p>

<p>% Now for the actual typesetting. In all these, #1 is the text and #2 is
the % page number. % % If the toc has to be broken over pages, we want it
to be at chapters % if at all possible; hence the penalty.
defdochapentry#1#2{%</p>

<pre>\penalty-300 \vskip1\baselineskip plus.33\baselineskip minus.25\baselineskip
\begingroup
  \chapentryfonts
  \tocentry{#1}{\dopageno\bgroup#2\egroup}%
\endgroup
\nobreak\vskip .25\baselineskip plus.1\baselineskip</pre>

<p>}</p>

<p>defdosecentry#1#2{begingroup</p>

<pre>\secentryfonts \leftskip=\tocindent
\tocentry{#1}{\dopageno\bgroup#2\egroup}%</pre>

<p>endgroup}</p>

<p>defdosubsecentry#1#2{begingroup</p>

<pre>\subsecentryfonts \leftskip=2\tocindent
\tocentry{#1}{\dopageno\bgroup#2\egroup}%</pre>

<p>endgroup}</p>

<p>defdosubsubsecentry#1#2{begingroup</p>

<pre>\subsubsecentryfonts \leftskip=3\tocindent
\tocentry{#1}{\dopageno\bgroup#2\egroup}%</pre>

<p>endgroup}</p>

<p>% We use the same entry macro as for the index entries. lettocentry = entry</p>

<p>% Space between chapter (or whatever) number and the title.
deflabelspace{hskip1em relax}</p>

<p>defdopageno#1{{rm #1}} defdoshortpageno#1{{rm #1}}</p>

<p>defchapentryfonts{secfonts rm} defsecentryfonts{textfonts}
defsubsecentryfonts{textfonts} defsubsubsecentryfonts{textfonts}</p>

<p>message{environments,} % @foo … @end foo.</p>

<p>% @tex … @end tex    escapes into raw TeX temporarily. % <a
href="../../../../../../../../../../One.html">One</a> exception: @ is still
an escape character, so that @end tex works. % But \ or @@ will get a plain
@ character.</p>

<p>envdeftex{%</p>

<pre>\setupmarkupstyle{tex}%
\catcode `\\=0 \catcode `\{=1 \catcode `\}=2
\catcode `\$=3 \catcode `\&amp;=4 \catcode `\#=6
\catcode `\^=7 \catcode `\_=8 \catcode `\~=\active \let~=\tie
\catcode `\%=14
\catcode `\+=\other
\catcode `\&quot;=\other
\catcode `\|=\other
\catcode `\&lt;=\other
\catcode `\&gt;=\other
\catcode`\`=\other
\catcode`\&#39;=\other
\escapechar=`\\
%
% &#39; is active in math mode (mathcode&quot;8000).  So reset it, and all our
% other math active characters (just in case), to plain&#39;s definitions.
\mathactive
%
\let\b=\ptexb
\let\bullet=\ptexbullet
\let\c=\ptexc
\let\,=\ptexcomma
\let\.=\ptexdot
\let\dots=\ptexdots
\let\equiv=\ptexequiv
\let\!=\ptexexclam
\let\i=\ptexi
\let\indent=\ptexindent
\let\noindent=\ptexnoindent
\let\{=\ptexlbrace
\let\+=\tabalign
\let\}=\ptexrbrace
\let\/=\ptexslash
\let\*=\ptexstar
\let\t=\ptext
\expandafter \let\csname top\endcsname=\ptextop  % outer
\let\frenchspacing=\plainfrenchspacing
%
\def\endldots{\mathinner{\ldots\ldots\ldots\ldots}}%
\def\enddots{\relax\ifmmode\endldots\else$\mathsurround=0pt \endldots\,$\fi}%
\def\@{@}%</pre>

<p>} % There is no need to define Etex.</p>

<p>% Define @lisp … @end lisp. % @lisp environment forms a group so it can
rebind things, % including the definition of @end lisp (which normally is
erroneous).</p>

<p>% Amount to narrow the margins by for @lisp. newskiplispnarrowing
lispnarrowing=0.4in</p>

<p>% This is the definition that ^^M gets inside @lisp, @example, and other %
such environments.  null is better than a space, since it doesn&#39;t %
have any width. deflisppar{nullendgraf}</p>

<p>% This space is always present above and below environments.
newskipenvskipamount envskipamount = 0pt</p>

<p>% Make spacing and below environment symmetrical.  We use parskip here % to
help in doing that, since in @example-like environments parskip % is reset
to zero; thus the afterenvbreak inserts no space – but the % start of the
next paragraph will insert parskip. % defaboveenvbreak{{%</p>

<pre>% =10000 instead of &lt;10000 because of a special case in \itemzzz and
% \sectionheading, q.v.
\ifnum \lastpenalty=10000 \else
  \advance\envskipamount by \parskip
  \endgraf
  \ifdim\lastskip&lt;\envskipamount
    \removelastskip
    % it&#39;s not a good place to break if the last penalty was \nobreak
    % or better ...
    \ifnum\lastpenalty&lt;10000 \penalty-50 \fi
    \vskip\envskipamount
  \fi
\fi</pre>

<p>}}</p>

<p>letafterenvbreak = aboveenvbreak</p>

<p>% nonarrowing is a flag.  If “set”, @lisp etc don&#39;t narrow margins; it
will % also clear it, so that its embedded environments do the narrowing
again. letnonarrowing=relax</p>

<p>% @cartouche … @end cartouche: draw rectangle w/rounded corners around %
environment contents. fontcircle=lcircle10 newdimencircthick
newdimencartouternewdimencartinner
newskipnormbskipnewskipnormpskipnewskipnormlskip circthick=fontdimen8circle
% defctl{{circlechar&#39;013hskip -6pt}}% 6pt from pl file: 1/2charwidth
defctr{{hskip 6ptcirclechar&#39;010}} defcbl{{circlechar&#39;012hskip
-6pt}} defcbr{{hskip 6ptcirclechar&#39;011}} defcarttop{hbox to
cartouter{hskiplskip</p>

<pre>\ctl\leaders\hrule height\circthick\hfil\ctr
\hskip\rskip}}</pre>

<p>defcartbot{hbox to cartouter{hskiplskip</p>

<pre>\cbl\leaders\hrule height\circthick\hfil\cbr
\hskip\rskip}}</pre>

<p>% newskiplskipnewskiprskip</p>

<p>envdefcartouche{%</p>

<pre>\ifhmode\par\fi  % can&#39;t be in the midst of a paragraph.
\startsavinginserts
\lskip=\leftskip \rskip=\rightskip
\leftskip=0pt\rightskip=0pt % we want these *outside*.
\cartinner=\hsize \advance\cartinner by-\lskip
\advance\cartinner by-\rskip
\cartouter=\hsize
\advance\cartouter by 18.4pt  % allow for 3pt kerns on either
                              % side, and for 6pt waste from
                              % each corner char, and rule thickness
\normbskip=\baselineskip \normpskip=\parskip \normlskip=\lineskip
% Flag to tell @lisp, etc., not to narrow margin.
\let\nonarrowing = t%
%
% If this cartouche directly follows a sectioning command, we need the
% \parskip glue (backspaced over by default) or the cartouche can
% collide with the section heading.
\ifnum\lastpenalty&gt;10000 \vskip\parskip \penalty\lastpenalty \fi
%
\vbox\bgroup
    \baselineskip=0pt\parskip=0pt\lineskip=0pt
    \carttop
    \hbox\bgroup
        \hskip\lskip
        \vrule\kern3pt
        \vbox\bgroup
            \kern3pt
            \hsize=\cartinner
            \baselineskip=\normbskip
            \lineskip=\normlskip
            \parskip=\normpskip
            \vskip -\parskip
            \comment % For explanation, see the end of def\group.</pre>

<p>} defEcartouche{%</p>

<pre>            \ifhmode\par\fi
            \kern3pt
        \egroup
        \kern3pt\vrule
        \hskip\rskip
    \egroup
    \cartbot
\egroup
\checkinserts</pre>

<p>}</p>

<p>% This macro is called at the beginning of all the @example variants, %
inside a group. newdimennonfillparindent defnonfillstart{%</p>

<pre>\aboveenvbreak
\hfuzz = 12pt % Don&#39;t be fussy
\sepspaces % Make spaces be word-separators rather than space tokens.
\let\par = \lisppar % don&#39;t ignore blank lines
\obeylines % each line of input is a line of output
\parskip = 0pt
% Turn off paragraph indentation but redefine \indent to emulate
% the normal \indent.
\nonfillparindent=\parindent
\parindent = 0pt
\let\indent\nonfillindent
%
\emergencystretch = 0pt % don&#39;t try to avoid overfull boxes
\ifx\nonarrowing\relax
  \advance \leftskip by \lispnarrowing
  \exdentamount=\lispnarrowing
\else
  \let\nonarrowing = \relax
\fi
\let\exdent=\nofillexdent</pre>

<p>}</p>

<p>begingroup obeyspaces % We want to swallow spaces (but not other tokens)
after the fake % @indent in our nonfill-environments, where spaces are
normally % active and set to @tie, resulting in them not being ignored
after % @indent. gdefnonfillindent{futurelettempnonfillindentcheck}%
gdefnonfillindentcheck{% ifxtemp % expandafternonfillindentgobble% else%
leavevmodenonfillindentbox% fi% }% endgroup
defnonfillindentgobble#1{nonfillindent} defnonfillindentbox{hbox to
nonfillparindent{hss}}</p>

<p>% If you want all examples etc. small: @set dispenvsize small. % If you
want even small examples the full size: @set dispenvsize nosmall. % This
affects the following displayed environments: %    @example, @display,
@format, @lisp % defsmallword{small} defnosmallword{nosmall}
letSETdispenvsizerelax defsetnormaldispenv{%</p>

<pre>\ifx\SETdispenvsize\smallword
  % end paragraph for sake of leading, in case document has no blank
  % line.  This is redundant with what happens in \aboveenvbreak, but
  % we need to do it before changing the fonts, and it&#39;s inconvenient
  % to change the fonts afterward.
  \ifnum \lastpenalty=10000 \else \endgraf \fi
  \smallexamplefonts \rm
\fi</pre>

<p>} defsetsmalldispenv{%</p>

<pre>\ifx\SETdispenvsize\nosmallword
\else
  \ifnum \lastpenalty=10000 \else \endgraf \fi
  \smallexamplefonts \rm
\fi</pre>

<p>}</p>

<p>% We often define two environments, @foo and @smallfoo. % Let&#39;s do it
in one command.  #1 is the env name, #2 the definition.
defmakedispenvdef#1#2{%</p>

<pre>\expandafter\envdef\csname#1\endcsname {\setnormaldispenv #2}%
\expandafter\envdef\csname small#1\endcsname {\setsmalldispenv #2}%
\expandafter\let\csname E#1\endcsname \afterenvbreak
\expandafter\let\csname Esmall#1\endcsname \afterenvbreak</pre>

<p>}</p>

<p>% Define two environment synonyms (#1 and #2) for an environment.
defmaketwodispenvdef#1#2#3{%</p>

<pre>\makedispenvdef{#1}{#3}%
\makedispenvdef{#2}{#3}%</pre>

<p>} % % @lisp: indented, narrowed, typewriter font; % @example: same as
@lisp. % % @smallexample and @smalllisp: use smaller fonts. % Originally
contributed by xerox at Pavel. % maketwodispenvdef{lisp}{example}{%</p>

<pre>\nonfillstart
\tt\setupmarkupstyle{example}%
\let\kbdfont = \kbdexamplefont % Allow @kbd to do something special.
\gobble % eat return</pre>

<p>} % @display/@smalldisplay: same as @lisp except keep current font. %
makedispenvdef{display}{%</p>

<pre>\nonfillstart
\gobble</pre>

<p>}</p>

<p>% @format/@smallformat: same as @display except don&#39;t narrow margins. %
makedispenvdef{format}{%</p>

<pre>\let\nonarrowing = t%
\nonfillstart
\gobble</pre>

<p>}</p>

<p>% @flushleft: same as @format, but doesn&#39;t obey SETdispenvsize.
envdefflushleft{%</p>

<pre>\let\nonarrowing = t%
\nonfillstart
\gobble</pre>

<p>} letEflushleft = afterenvbreak</p>

<p>% @flushright. % envdefflushright{%</p>

<pre>\let\nonarrowing = t%
\nonfillstart
\advance\leftskip by 0pt plus 1fill\relax
\gobble</pre>

<p>} letEflushright = afterenvbreak</p>

<p>% @raggedright does more-or-less normal line breaking but no right %
justification.  From plain.tex. envdefraggedright{%</p>

<pre>\rightskip0pt plus2em \spaceskip.3333em \xspaceskip.5em\relax</pre>

<p>} letEraggedrightpar</p>

<p>envdefraggedleft{%</p>

<pre>\parindent=0pt \leftskip0pt plus2em
\spaceskip.3333em \xspaceskip.5em \parfillskip=0pt
\hbadness=10000 % Last line will usually be underfull, so turn off
                % badness reporting.</pre>

<p>} letEraggedleftpar</p>

<p>envdefraggedcenter{%</p>

<pre>\parindent=0pt \rightskip0pt plus1em \leftskip0pt plus1em
\spaceskip.3333em \xspaceskip.5em \parfillskip=0pt
\hbadness=10000 % Last line will usually be underfull, so turn off
                % badness reporting.</pre>

<p>} letEraggedcenterpar</p>

<p>% @quotation does normal linebreaking (hence we can&#39;t use nonfillstart)
% and narrows the margins.  We keep parskip nonzero in general, since %
we&#39;re doing normal filling.  So, when using aboveenvbreak and %
afterenvbreak, temporarily make parskip 0. %
makedispenvdef{quotation}{quotationstart} % defquotationstart{%</p>

<pre>\indentedblockstart % same as \indentedblock, but increase right margin too.
\ifx\nonarrowing\relax
  \advance\rightskip by \lispnarrowing
\fi
\parsearg\quotationlabel</pre>

<p>}</p>

<p>% We have retained a nonzero parskip for the environment, since we&#39;re %
doing normal filling. % defEquotation{%</p>

<pre>\par
\ifx\quotationauthor\thisisundefined\else
  % indent a bit.
  \leftline{\kern 2\leftskip \sl ---\quotationauthor}%
\fi
{\parskip=0pt \afterenvbreak}%</pre>

<p>} defEsmallquotation{Equotation}</p>

<p>% If we&#39;re given an argument, typeset it in bold with a colon after.
defquotationlabel#1{%</p>

<pre>\def\temp{#1}%
\ifx\temp\empty \else
  {\bf #1: }%
\fi</pre>

<p>}</p>

<p>% @indentedblock is like @quotation, but indents only on the left and % has
no optional argument. %  makedispenvdef{indentedblock}{indentedblockstart}
% defindentedblockstart{%</p>

<pre>{\parskip=0pt \aboveenvbreak}% because \aboveenvbreak inserts \parskip
\parindent=0pt
%
% @cartouche defines \nonarrowing to inhibit narrowing at next level down.
\ifx\nonarrowing\relax
  \advance\leftskip by \lispnarrowing
  \exdentamount = \lispnarrowing
\else
  \let\nonarrowing = \relax
\fi</pre>

<p>}</p>

<p>% Keep a nonzero parskip for the environment, since we&#39;re doing normal
filling. % defEindentedblock{%</p>

<pre>\par
{\parskip=0pt \afterenvbreak}%</pre>

<p>} defEsmallindentedblock{Eindentedblock}</p>

<p>% LaTeX-like @verbatim…@end verbatim and @verb{&lt;char&gt;…&lt;char&gt;} %
If we want to allow any &lt;char&gt; as delimiter, % we need the curly
braces so that makeinfo sees the @verb command, eg: % `@verbx…x&#39; would
look like the &#39;@verbx&#39; command.  –janneke@gnu.org % % [Knuth]:
Donald Ervin Knuth, 1996.  The TeXbook. % % [Knuth] p.344; only we need to
do the other characters Texinfo sets % active too.  Otherwise, they get
lost as the first character on a % verbatim line. defdospecials{%</p>

<pre>\do\ \do\\\do\{\do\}\do\$\do\&amp;%
\do\#\do\^\do\^^K\do\_\do\^^A\do\%\do\~%
\do\&lt;\do\&gt;\do\|\do\@\do+\do\&quot;%
% Don&#39;t do the quotes -- if we do, @set txicodequoteundirected and
% @set txicodequotebacktick will not have effect on @verb and
% @verbatim, and ?` and !` ligatures won&#39;t get disabled.
%\do\`\do\&#39;%</pre>

<p>} % % [Knuth] p. 380 defuncatcodespecials{%</p>

<pre>\def\do##1{\catcode`##1=\other}\dospecials}</pre>

<p>% % Setup for the @verb command. % % Eight spaces for a tab begingroup</p>

<pre>\catcode`\^^I=\active
\gdef\tabeightspaces{\catcode`\^^I=\active\def^^I{\ \ \ \ \ \ \ \ }}</pre>

<p>endgroup % defsetupverb{%</p>

<pre>\tt  % easiest (and conventionally used) font for verbatim
\def\par{\leavevmode\endgraf}%
\setupmarkupstyle{verb}%
\tabeightspaces
% Respect line breaks,
% print special symbols as themselves, and
% make each space count
% must do in this order:
\obeylines \uncatcodespecials \sepspaces</pre>

<p>}</p>

<p>% Setup for the @verbatim environment % % Real tab expansion. newdimentabw
setbox0=hbox{ttspace} tabw=8wd0 % tab amount % % We typeset each line of
the verbatim in an hbox, so we can handle % tabs.  The global is in case
the verbatim line starts with an accent, % or some other command that
starts with a begin-group.  Otherwise, the % entire verbbox would disappear
at the corresponding end-group, before % it is typeset.  Meanwhile, we
can&#39;t have nested verbatim commands % (can we?), so the global
won&#39;t be overwriting itself. newboxverbbox
defstarttabbox{globalsetboxverbbox=hboxbgroup} % begingroup</p>

<pre>\catcode`\^^I=\active
\gdef\tabexpand{%
  \catcode`\^^I=\active
  \def^^I{\leavevmode\egroup
    \dimen\verbbox=\wd\verbbox % the width so far, or since the previous tab
    \divide\dimen\verbbox by\tabw
    \multiply\dimen\verbbox by\tabw % compute previous multiple of \tabw
    \advance\dimen\verbbox by\tabw  % advance to next multiple of \tabw
    \wd\verbbox=\dimen\verbbox \box\verbbox \starttabbox
  }%
}</pre>

<p>endgroup</p>

<p>% start the verbatim environment. defsetupverbatim{%</p>

<pre>\let\nonarrowing = t%
\nonfillstart
\tt % easiest (and conventionally used) font for verbatim
% The \leavevmode here is for blank lines.  Otherwise, we would
% never \starttabox and the \egroup would end verbatim mode.
\def\par{\leavevmode\egroup\box\verbbox\endgraf}%
\tabexpand
\setupmarkupstyle{verbatim}%
% Respect line breaks,
% print special symbols as themselves, and
% make each space count.
% Must do in this order:
\obeylines \uncatcodespecials \sepspaces
\everypar{\starttabbox}%</pre>

<p>}</p>

<p>% Do the @verb magic: verbatim text is quoted by unique % delimiter
characters.  Before first delimiter expect a % right brace, after last
delimiter expect closing brace: % %   
defdoverb&#39;{&#39;&lt;char&gt;#1&lt;char&gt;&#39;}&#39;{#1} % % [Knuth]
p. 382; only eat outer {} begingroup</p>

<pre>\catcode`[=1\catcode`]=2\catcode`\{=\other\catcode`\}=\other
\gdef\doverb{#1[\def\next##1#1}[##1\endgroup]\next]</pre>

<p>endgroup % defverb{begingroupsetupverbdoverb} % % % Do the @verbatim magic:
define the macro doverbatim so that % the (first) argument ends when
&#39;@end verbatim&#39; is reached, ie: % %     defdoverbatim#1@end
verbatim{#1} % % For Texinfo it&#39;s a lot easier than for LaTeX, %
because texinfo&#39;s verbatim doesn&#39;t stop at &#39;end{verbatim}&#39;:
% we need not redefine &#39;&#39;, &#39;{&#39; and &#39;}&#39;. % %
Inspired by LaTeX&#39;s verbatim command set [latex.ltx] % begingroup</p>

<pre>\catcode`\ =\active
\obeylines %
% ignore everything up to the first ^^M, that&#39;s the newline at the end
% of the @verbatim input line itself.  Otherwise we get an extra blank
% line in the output.
\xdef\doverbatim#1^^M#2@end verbatim{#2\noexpand\end\gobble verbatim}%
% We really want {...\end verbatim} in the body of the macro, but
% without the active space; thus we have to use \xdef and \gobble.</pre>

<p>endgroup % envdefverbatim{%</p>

<pre>\setupverbatim\doverbatim</pre>

<p>} letEverbatim = afterenvbreak</p>

<p>% @verbatiminclude FILE - insert text of file in verbatim environment. %
defverbatiminclude{parseargusingfilenamecatcodesdoverbatiminclude} %
defdoverbatiminclude#1{%</p>

<pre>{%
  \makevalueexpandable
  \setupverbatim
  \indexnofonts       % Allow `@@&#39; and other weird things in file names.
  \wlog{texinfo.tex: doing @verbatiminclude of #1^^J}%
  \input #1
  \afterenvbreak
}%</pre>

<p>}</p>

<p>% @copying … @end copying. % Save the text away for @insertcopying later. %
% We save the uninterpreted tokens, rather than creating a box. % Saving
the text in a box would be much easier, but then all the % typesetting
commands (@smallbook, font changes, etc.) have to be done % beforehand –
and a) we want @copying to be done first in the source % file; b) letting
users define the frontmatter in as flexible order as % possible is very
desirable. % defcopying{checkenv{}begingroupscanargctxtdocopying}
defdocopying#1@end copying{endgroupdefcopyingtext{#1}} % definsertcopying{%</p>

<pre>\begingroup
  \parindent = 0pt  % paragraph indentation looks wrong on title page
  \scanexp\copyingtext
\endgroup</pre>

<p>}</p>

<p>message{defuns,} % @defun etc.</p>

<p>newskipdefbodyindent defbodyindent=.4in newskipdefargsindent
defargsindent=50pt newskipdeflastargmargin deflastargmargin=18pt
newcountdefunpenalty</p>

<p>% Start the processing of @deffn: defstartdefun{%</p>

<pre>\ifnum\lastpenalty&lt;10000
  \medbreak
  \defunpenalty=10003 % Will keep this @deffn together with the
                      % following @def command, see below.
\else
  % If there are two @def commands in a row, we&#39;ll have a \nobreak,
  % which is there to keep the function description together with its
  % header.  But if there&#39;s nothing but headers, we need to allow a
  % break somewhere.  Check specifically for penalty 10002, inserted
  % by \printdefunline, instead of 10000, since the sectioning
  % commands also insert a nobreak penalty, and we don&#39;t want to allow
  % a break between a section heading and a defun.
  %
  % As a further refinement, we avoid &quot;club&quot; headers by signalling
  % with penalty of 10003 after the very first @deffn in the
  % sequence (see above), and penalty of 10002 after any following
  % @def command.
  \ifnum\lastpenalty=10002 \penalty2000 \else \defunpenalty=10002 \fi
  %
  % Similarly, after a section heading, do not allow a break.
  % But do insert the glue.
  \medskip  % preceded by discardable penalty, so not a breakpoint
\fi
%
\parindent=0in
\advance\leftskip by \defbodyindent
\exdentamount=\defbodyindent</pre>

<p>}</p>

<p>defdodefunx#1{%</p>

<pre>% First, check whether we are in the right environment:
\checkenv#1%
%
% As above, allow line break if we have multiple x headers in a row.
% It&#39;s not a great place, though.
\ifnum\lastpenalty=10002 \penalty3000 \else \defunpenalty=10002 \fi
%
% And now, it&#39;s time to reuse the body of the original defun:
\expandafter\gobbledefun#1%</pre>

<p>} defgobbledefun#1startdefun{}</p>

<p>% printdefunline deffnheader{text} % defprintdefunline#1#2{%</p>

<pre>\begingroup
  % call \deffnheader:
  #1#2 \endheader
  % common ending:
  \interlinepenalty = 10000
  \advance\rightskip by 0pt plus 1fil\relax
  \endgraf
  \nobreak\vskip -\parskip
  \penalty\defunpenalty  % signal to \startdefun and \dodefunx
  % Some of the @defun-type tags do not enable magic parentheses,
  % rendering the following check redundant.  But we don&#39;t optimize.
  \checkparencounts
\endgroup</pre>

<p>}</p>

<p>defEdefun{endgrafmedbreak}</p>

<p>% makedefun{deffn} creates deffn, deffnx and Edeffn; % the only thing
remaining is to define deffnheader. % defmakedefun#1{%</p>

<pre>\expandafter\let\csname E#1\endcsname = \Edefun
\edef\temp{\noexpand\domakedefun
  \makecsname{#1}\makecsname{#1x}\makecsname{#1header}}%
\temp</pre>

<p>}</p>

<p>% domakedefun deffn deffnx deffnheader % % Define deffn and deffnx, without
parameters. % deffnheader has to be defined explicitly. %
defdomakedefun#1#2#3{%</p>

<pre>\envdef#1{%
  \startdefun
  \doingtypefnfalse    % distinguish typed functions from all else
  \parseargusing\activeparens{\printdefunline#3}%
}%
\def#2{\dodefunx#1}%
\def#3%</pre>

<p>}</p>

<p>newififdoingtypefn       % doing typed function? newififrettypeownline    %
typeset return type on its own line?</p>

<p>% @deftypefnnewline on|off says whether the return type of typed functions
% are printed on their own line.  This affects @deftypefn, @deftypefun, %
@deftypeop, and @deftypemethod. %  parseargdefdeftypefnnewline{%</p>

<pre>\def\temp{#1}%
\ifx\temp\onword
  \expandafter\let\csname SETtxideftypefnnl\endcsname
    = \empty
\else\ifx\temp\offword
  \expandafter\let\csname SETtxideftypefnnl\endcsname
    = \relax
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @txideftypefnnl value `\temp&#39;,
              must be on|off}%
\fi\fi</pre>

<p>}</p>

<p>% Untyped functions:</p>

<p>% @deffn category name args makedefun{deffn}{deffngeneral{}}</p>

<p>% @deffn category class name args makedefun{defop}#1 {defopon{#1\
putwordon}}</p>

<p>% defopon {category on}class name args defdefopon#1#2
{deffngeneral{putwordon\ code{#2}}{#1\ code{#2}} }</p>

<p>% deffngeneral {subind}category name args % defdeffngeneral#1#2 #3
#4endheader{%</p>

<pre>% Remember that \dosubind{fn}{foo}{} is equivalent to \doind{fn}{foo}.
\dosubind{fn}{\code{#3}}{#1}%
\defname{#2}{}{#3}\magicamp\defunargs{#4\unskip}%</pre>

<p>}</p>

<p>% Typed functions:</p>

<p>% @deftypefn category type name args
makedefun{deftypefn}{deftypefngeneral{}}</p>

<p>% @deftypeop category class type name args makedefun{deftypeop}#1
{deftypeopon{#1\ putwordon}}</p>

<p>% deftypeopon {category on}class type name args defdeftypeopon#1#2
{deftypefngeneral{putwordon\ code{#2}}{#1\ code{#2}} }</p>

<p>% deftypefngeneral {subind}category type name args %
defdeftypefngeneral#1#2 #3 #4 #5endheader{%</p>

<pre>\dosubind{fn}{\code{#4}}{#1}%
\doingtypefntrue
\defname{#2}{#3}{#4}\defunargs{#5\unskip}%</pre>

<p>}</p>

<p>% Typed variables:</p>

<p>% @deftypevr category type var args
makedefun{deftypevr}{deftypecvgeneral{}}</p>

<p>% @deftypecv category class type var args makedefun{deftypecv}#1
{deftypecvof{#1\ putwordof}}</p>

<p>% deftypecvof {category of}class type var args defdeftypecvof#1#2
{deftypecvgeneral{putwordof\ code{#2}}{#1\ code{#2}} }</p>

<p>% deftypecvgeneral {subind}category type var args % defdeftypecvgeneral#1#2
#3 #4 #5endheader{%</p>

<pre>\dosubind{vr}{\code{#4}}{#1}%
\defname{#2}{#3}{#4}\defunargs{#5\unskip}%</pre>

<p>}</p>

<p>% Untyped variables:</p>

<p>% @defvr category var args makedefun{defvr}#1 {deftypevrheader{#1} {} }</p>

<p>% @defcv category class var args makedefun{defcv}#1 {defcvof{#1\
putwordof}}</p>

<p>% defcvof {category of}class var args defdefcvof#1#2 {deftypecvof{#1}#2 {}
}</p>

<p>% Types:</p>

<p>% @deftp category name args makedefun{deftp}#1 #2 #3endheader{%</p>

<pre>\doind{tp}{\code{#2}}%
\defname{#1}{}{#2}\defunargs{#3\unskip}%</pre>

<p>}</p>

<p>% Remaining @defun-like shortcuts:
makedefun{defun}{deffnheader{putwordDeffunc} }
makedefun{defmac}{deffnheader{putwordDefmac} }
makedefun{defspec}{deffnheader{putwordDefspec} }
makedefun{deftypefun}{deftypefnheader{putwordDeffunc} }
makedefun{defvar}{defvrheader{putwordDefvar} }
makedefun{defopt}{defvrheader{putwordDefopt} }
makedefun{deftypevar}{deftypevrheader{putwordDefvar} }
makedefun{defmethod}{defoponputwordMethodon}
makedefun{deftypemethod}{deftypeoponputwordMethodon}
makedefun{defivar}{defcvofputwordInstanceVariableof}
makedefun{deftypeivar}{deftypecvofputwordInstanceVariableof}</p>

<p>% defname, which formats the name of the @def (not the args). % #1 is the
category, such as “Function”. % #2 is the return type, if any. % #3 is the
function name. % % We are followed by (but not passed) the arguments, if
any. % defdefname#1#2#3{%</p>

<pre>\par
% Get the values of \leftskip and \rightskip as they were outside the @def...
\advance\leftskip by -\defbodyindent
%
% Determine if we are typesetting the return type of a typed function
% on a line by itself.
\rettypeownlinefalse
\ifdoingtypefn  % doing a typed function specifically?
  % then check user option for putting return type on its own line:
  \expandafter\ifx\csname SETtxideftypefnnl\endcsname\relax \else
    \rettypeownlinetrue
  \fi
\fi
%
% How we&#39;ll format the category name.  Putting it in brackets helps
% distinguish it from the body text that may end up on the next line
% just below it.
\def\temp{#1}%
\setbox0=\hbox{\kern\deflastargmargin \ifx\temp\empty\else [\rm\temp]\fi}
%
% Figure out line sizes for the paragraph shape.  We&#39;ll always have at
% least two.
\tempnum = 2
%
% The first line needs space for \box0; but if \rightskip is nonzero,
% we need only space for the part of \box0 which exceeds it:
\dimen0=\hsize  \advance\dimen0 by -\wd0  \advance\dimen0 by \rightskip
%
% If doing a return type on its own line, we&#39;ll have another line.
\ifrettypeownline
  \advance\tempnum by 1
  \def\maybeshapeline{0in \hsize}%
\else
  \def\maybeshapeline{}%
\fi
%
% The continuations:
\dimen2=\hsize  \advance\dimen2 by -\defargsindent
%
% The final paragraph shape:
\parshape \tempnum  0in \dimen0  \maybeshapeline  \defargsindent \dimen2
%
% Put the category name at the right margin.
\noindent
\hbox to 0pt{%
  \hfil\box0 \kern-\hsize
  % \hsize has to be shortened this way:
  \kern\leftskip
  % Intentionally do not respect \rightskip, since we need the space.
}%
%
% Allow all lines to be underfull without complaint:
\tolerance=10000 \hbadness=10000
\exdentamount=\defbodyindent
{%
  % defun fonts. We use typewriter by default (used to be bold) because:
  % . we&#39;re printing identifiers, they should be in tt in principle.
  % . in languages with many accents, such as Czech or French, it&#39;s
  %   common to leave accents off identifiers.  The result looks ok in
  %   tt, but exceedingly strange in rm.
  % . we don&#39;t want -- and --- to be treated as ligatures.
  % . this still does not fix the ?` and !` ligatures, but so far no
  %   one has made identifiers using them :).
  \df \tt
  \def\temp{#2}% text of the return type
  \ifx\temp\empty\else
    \tclose{\temp}% typeset the return type
    \ifrettypeownline
      % put return type on its own line; prohibit line break following:
      \hfil\vadjust{\nobreak}\break  
    \else
      \space  % type on same line, so just followed by a space
    \fi
  \fi           % no return type
  #3% output function name
}%
{\rm\enskip}% hskip 0.5 em of \tenrm
%
\boldbrax
% arguments will be output next, if any.</pre>

<p>}</p>

<p>% Print arguments in slanted roman (not ttsl), inconsistently with using %
tt for the name.  This is because literal text is sometimes needed in % the
argument list (groff manual), and ttsl and tt are not very %
distinguishable.  Prevent hyphenation at `-&#39; chars. % defdefunargs#1{%</p>

<pre>% use sl by default (not ttsl),
% tt for the names.
\df \sl \hyphenchar\font=0
%
% On the other hand, if an argument has two dashes (for instance), we
% want a way to get ttsl.  We used to recommend @var for that, so
% leave the code in, but it&#39;s strange for @var to lead to typewriter.
% Nowadays we recommend @code, since the difference between a ttsl hyphen
% and a tt hyphen is pretty tiny.  @code also disables ?` !`.
\def\var##1{{\setupmarkupstyle{var}\ttslanted{##1}}}%
#1%
\sl\hyphenchar\font=45</pre>

<p>}</p>

<p>% We want ()&amp;[] to print specially on the defun line. %
defactiveparens{%</p>

<pre>\catcode`\(=\active \catcode`\)=\active
\catcode`\[=\active \catcode`\]=\active
\catcode`\&amp;=\active</pre>

<p>}</p>

<p>% Make control sequences which act like normal parenthesis chars. letlparen
= ( letrparen = )</p>

<p>% Be sure that we always have a definition for `(&#39;, etc.  For example,
% if the fn name has parens in it, boldbrax will not be in effect yet, % so
TeX would otherwise complain about undefined control sequence. {</p>

<pre>\activeparens
\global\let(=\lparen \global\let)=\rparen
\global\let[=\lbrack \global\let]=\rbrack
\global\let&amp; = \&amp;

\gdef\boldbrax{\let(=\opnr\let)=\clnr\let[=\lbrb\let]=\rbrb}
\gdef\magicamp{\let&amp;=\amprm}</pre>

<p>}</p>

<p>newcountparencount</p>

<p>% If we encounter &amp;foo, then turn on ()-hacking afterwards
newififampseen defamprm#1 {ampseentrue{bf&amp;#1 }}</p>

<p>defparenfont{%</p>

<pre>\ifampseen
  % At the first level, print parens in roman,
  % otherwise use the default font.
  \ifnum \parencount=1 \rm \fi
\else
  % The \sf parens (in \boldbrax) actually are a little bolder than
  % the contained text.  This is especially needed for [ and ] .
  \sf
\fi</pre>

<p>} definfirstlevel#1{%</p>

<pre>\ifampseen
  \ifnum\parencount=1
    #1%
  \fi
\fi</pre>

<p>} defbfafterword#1 {#1 bf}</p>

<p>defopnr{%</p>

<pre>\global\advance\parencount by 1
{\parenfont(}%
\infirstlevel \bfafterword</pre>

<p>} defclnr{%</p>

<pre>{\parenfont)}%
\infirstlevel \sl
\global\advance\parencount by -1</pre>

<p>}</p>

<p>newcountbrackcount deflbrb{%</p>

<pre>\global\advance\brackcount by 1
{\bf[}%</pre>

<p>} defrbrb{%</p>

<pre>{\bf]}%
\global\advance\brackcount by -1</pre>

<p>}</p>

<p>defcheckparencounts{%</p>

<pre>\ifnum\parencount=0 \else \badparencount \fi
\ifnum\brackcount=0 \else \badbrackcount \fi</pre>

<p>} % these should not use errmessage; the glibc manual, at least, actually %
has such constructs (when documenting function pointers).
defbadparencount{%</p>

<pre>\message{Warning: unbalanced parentheses in @def...}%
\global\parencount=0</pre>

<p>} defbadbrackcount{%</p>

<pre>\message{Warning: unbalanced square brackets in @def...}%
\global\brackcount=0</pre>

<p>}</p>

<p>message{macros,} % @macro.</p>

<p>% To do this right we need a feature of e-TeX, scantokens, % which we
arrange to emulate with a temporary file in ordinary TeX.
ifxeTeXversionthisisundefined</p>

<pre>\newwrite\macscribble
\def\scantokens#1{%
  \toks0={#1}%
  \immediate\openout\macscribble=\jobname.tmp
  \immediate\write\macscribble{\the\toks0}%
  \immediate\closeout\macscribble
  \input \jobname.tmp
}</pre>

<p>fi</p>

<p>defscanmacro#1{begingroup</p>

<pre>\newlinechar`\^^M
\let\xeatspaces\eatspaces
%
% Undo catcode changes of \startcontents and \doprintindex
% When called from @insertcopying or (short)caption, we need active
% backslash to get it printed correctly.  Previously, we had
% \catcode`\\=\other instead.  We&#39;ll see whether a problem appears
% with macro expansion.                               --kasal, 19aug04
\catcode`\@=0 \catcode`\\=\active \escapechar=`\@
%
% ... and for \example:
\spaceisspace
%
% The \empty here causes a following catcode 5 newline to be eaten as
% part of reading whitespace after a control sequence.  It does not
% eat a catcode 13 newline.  There&#39;s no good way to handle the two
% cases (untried: maybe e-TeX&#39;s \everyeof could help, though plain TeX
% would then have different behavior).  See the Macro Details node in
% the manual for the workaround we recommend for macros and
% line-oriented commands.
% 
\scantokens{#1\empty}%</pre>

<p>endgroup}</p>

<p>defscanexp#1{%</p>

<pre>\edef\temp{\noexpand\scanmacro{#1}}%
\temp</pre>

<p>}</p>

<p>newcountparamno   % Count of parameters newtoksmacname    % Macro name
newififrecursive  % Is it recursive?</p>

<p>% List of all defined macros in the form %   
definedummywordmacro1definedummywordmacro2… % Currently is also contains
all @aliases; the list can be split % if there is a need. defmacrolist{}</p>

<p>% Add the macro to macrolist defaddtomacrolist#1{expandafter
addtomacrolistxxx csname#1endcsname} defaddtomacrolistxxx#1{%</p>

<pre>\toks0 = \expandafter{\macrolist\definedummyword#1}%
\xdef\macrolist{\the\toks0}%</pre>

<p>}</p>

<p>% Utility routines. % This does let #1 = #2, with csnames; that is, %   let
csname#1endcsname = csname#2endcsname % (except of course we have to play
expansion games). % defcslet#1#2{%</p>

<pre>\expandafter\let
\csname#1\expandafter\endcsname
\csname#2\endcsname</pre>

<p>}</p>

<p>% Trim leading and trailing spaces off a string. % Concepts from aro-bend
problem 15 (see CTAN). {catcode`@=11 gdefeatspaces
#1{expandaftertrim@expandafter{#1 }} gdeftrim@ #1{trim@@ @#1 @ #1 @ @@}
gdeftrim@@ #1@ #2@ #3@@{trim@@@empty #2 @} defunbrace#1{#1}
unbrace{gdeftrim@@@ #1 } #2@{#1} }</p>

<p>% Trim a single trailing ^^M off a string. {catcode`^^M=other catcode`Q=3%
gdefeatcr #1{eatcra #1Q^^MQ}% gdefeatcra#1^^MQ{eatcrb#1Q}%
gdefeatcrb#1Q#2Q{#1}% }</p>

<p>% Macro bodies are absorbed as an argument in a context where % all
characters are catcode 10, 11 or 12, except \ which is active % (as in
normal texinfo). It is necessary to change the definition of \ % to
recognize macro arguments; this is the job of mbodybackslash. % % Non-ASCII
encodings make 8-bit characters active, so un-activate % them to avoid
their expansion.  Must do this non-globally, to % confine the change to the
current group. % % It&#39;s necessary to have hard CRs when the macro is
executed. This is % done by making ^^M (endlinechar) catcode 12 when
reading the macro % body, and then making it the newlinechar in scanmacro.
% defscanctxt{% used as subroutine</p>

<pre>\catcode`\&quot;=\other
\catcode`\+=\other
\catcode`\&lt;=\other
\catcode`\&gt;=\other
\catcode`\@=\other
\catcode`\^=\other
\catcode`\_=\other
\catcode`\|=\other
\catcode`\~=\other
\ifx\declaredencoding\ascii \else \setnonasciicharscatcodenonglobal\other \fi</pre>

<p>}</p>

<p>defscanargctxt{% used for copying and captions, not macros.</p>

<pre>\scanctxt
\catcode`\\=\other
\catcode`\^^M=\other</pre>

<p>}</p>

<p>defmacrobodyctxt{% used for @macro definitions</p>

<pre>\scanctxt
\catcode`\{=\other
\catcode`\}=\other
\catcode`\^^M=\other
\usembodybackslash</pre>

<p>}</p>

<p>defmacroargctxt{% used when scanning invocations</p>

<pre>\scanctxt
\catcode`\\=0</pre>

<p>} % why catcode 0 for \ in the above?  To recognize \ { } as “escapes” %
for the single characters \ { }.  Thus, we end up with the “commands” %
that would be written @\ @{ @} in a Texinfo document. %  % We already have
@{ and @}.  For @, we define it here, and only for % this purpose, to
produce a typewriter backslash (so, the @\ that we % define for @math
can&#39;t be used with @macro calls): % def\{normalbackslash}% %  % We
would like to do this for , too, since that is what makeinfo does. % But it
is not possible, because Texinfo already has a command @, for a % cedilla
accent.  Documents must use @comma{} instead. % % anythingelse will almost
certainly be an error of some kind.</p>

<p>% mbodybackslash is the definition of \ in @macro bodies. % It maps foo\
=&gt; csname macarg.fooendcsname =&gt; #N % where N is the macro parameter
number. % We define csname macarg.endcsname to be realbackslash, so % \ in
macro replacement text gets you a backslash. % {catcode`@=0
@catcode`@=@active</p>

<pre>@gdef@usembodybackslash{@let\=@mbodybackslash}
@gdef@mbodybackslash#1\{@csname macarg.#1@endcsname}</pre>

<p>} expandafterdefcsname macarg.endcsname{realbackslash}</p>

<p>defmargbackslash#1{char`#1 }</p>

<p>defmacro{recursivefalseparseargmacroxxx}
defrmacro{recursivetrueparseargmacroxxx}</p>

<p>defmacroxxx#1{%</p>

<pre>\getargs{#1}% now \macname is the macname and \argl the arglist
\ifx\argl\empty       % no arguments
   \paramno=0\relax
\else
   \expandafter\parsemargdef \argl;%
   \if\paramno&gt;256\relax
     \ifx\eTeXversion\thisisundefined
       \errhelp = \EMsimple
       \errmessage{You need eTeX to compile a file with macros with more than 256 arguments}
     \fi
   \fi
\fi
\if1\csname ismacro.\the\macname\endcsname
   \message{Warning: redefining \the\macname}%
\else
   \expandafter\ifx\csname \the\macname\endcsname \relax
   \else \errmessage{Macro name \the\macname\space already defined}\fi
   \global\cslet{macsave.\the\macname}{\the\macname}%
   \global\expandafter\let\csname ismacro.\the\macname\endcsname=1%
   \addtomacrolist{\the\macname}%
\fi
\begingroup \macrobodyctxt
\ifrecursive \expandafter\parsermacbody
\else \expandafter\parsemacbody
\fi}</pre>

<p>parseargdefunmacro{%</p>

<pre>\if1\csname ismacro.#1\endcsname
  \global\cslet{#1}{macsave.#1}%
  \global\expandafter\let \csname ismacro.#1\endcsname=0%
  % Remove the macro name from \macrolist:
  \begingroup
    \expandafter\let\csname#1\endcsname \relax
    \let\definedummyword\unmacrodo
    \xdef\macrolist{\macrolist}%
  \endgroup
\else
  \errmessage{Macro #1 not defined}%
\fi</pre>

<p>}</p>

<p>% Called by do from dounmacro on each macro.  The idea is to omit any %
macro definitions that have been changed to relax. % defunmacrodo#1{%</p>

<pre>\ifx #1\relax
  % remove this
\else
  \noexpand\definedummyword \noexpand#1%
\fi</pre>

<p>}</p>

<p>% This makes use of the obscure feature that if the last token of a %
&lt;parameter list&gt; is #, then the preceding argument is delimited by %
an opening brace, and that opening brace is not consumed.
defgetargs#1{getargsxxx#1{}} defgetargsxxx#1#{getmacname #1
relaxgetmacargs} defgetmacname#1 #2relax{macname={#1}}
defgetmacargs#1{defargl{#1}}</p>

<p>% For macro processing make @ a letter so that we can make Texinfo private
macro names. edeftexiatcatcode{thecatcode`@} catcode `@=11relax</p>

<p>% Parse the optional {params} list.  Set up paramno and paramlist % so
defmacro knows what to do.  Define macarg.BLAH for each BLAH % in the
params list to some hook where the argument si to be expanded.  If % there
are less than 10 arguments that hook is to be replaced by ##N where N % is
the position in that list, that is to say the macro arguments are to be %
defined `a la TeX in the macro body.</p>

<p>% % That gets used by mbodybackslash (above). % % We need to get `macro
parameter char #&#39; into several definitions. % The technique used is
stolen from LaTeX: let hash be something % unexpandable, insert that
wherever you need a #, and then redefine % it to # just before using the
token list produced. % % The same technique is used to protect eatspaces
till just before % the macro is used. % % If there are 10 or more
arguments, a different technique is used, where the % hook remains in the
body, and when macro is to be expanded the body is % processed again to
replace the arguments. % % In that case, the hook is thetoks N-1, and we
simply set toks N-1 to the % argument N value and then edef  the body
(nothing else will expand because of % the catcode regime underwhich the
body was input). % % If you compile with TeX (not eTeX), and you have
macros with 10 or more % arguments, you need that no macro has more than
256 arguments, otherwise an % error is produced. defparsemargdef#1;{%</p>

<pre>\paramno=0\def\paramlist{}%
\let\hash\relax
\let\xeatspaces\relax
\parsemargdefxxx#1,;,%
% In case that there are 10 or more arguments we parse again the arguments
% list to set new definitions for the \macarg.BLAH macros corresponding to
% each BLAH argument. It was anyhow needed to parse already once this list
% in order to count the arguments, and as macros with at most 9 arguments
% are by far more frequent than macro with 10 or more arguments, defining
% twice the \macarg.BLAH macros does not cost too much processing power.
\ifnum\paramno&lt;10\relax\else
  \paramno0\relax
  \parsemmanyargdef@@#1,;,% 10 or more arguments
\fi</pre>

<p>} defparsemargdefxxx#1,{%</p>

<pre>\if#1;\let\next=\relax
\else \let\next=\parsemargdefxxx
  \advance\paramno by 1
  \expandafter\edef\csname macarg.\eatspaces{#1}\endcsname
      {\xeatspaces{\hash\the\paramno}}%
  \edef\paramlist{\paramlist\hash\the\paramno,}%
\fi\next}</pre>

<p>defparsemmanyargdef@@#1,{%</p>

<pre>\if#1;\let\next=\relax
\else 
  \let\next=\parsemmanyargdef@@
  \edef\tempb{\eatspaces{#1}}%
  \expandafter\def\expandafter\tempa
     \expandafter{\csname macarg.\tempb\endcsname}%
  % Note that we need some extra \noexpand\noexpand, this is because we
  % don&#39;t want \the  to be expanded in the \parsermacbody  as it uses an
  % \xdef .
  \expandafter\edef\tempa
    {\noexpand\noexpand\noexpand\the\toks\the\paramno}%
  \advance\paramno by 1\relax
\fi\next}</pre>

<p>% These two commands read recursive and nonrecursive macro bodies. %
(They&#39;re different since rec and nonrec macros end differently.) %</p>

<p>catcode `@texiatcatcode longdefparsemacbody#1@end macro%
{xdeftemp{eatcr{#1}}endgroupdefmacro}% longdefparsermacbody#1@end rmacro%
{xdeftemp{eatcr{#1}}endgroupdefmacro}% catcode `@=11relax</p>

<p>letendargs@relax letnil@relax defnilm@{nil@}% longdefnillm@{nil@}%</p>

<p>% This macro is expanded during the Texinfo macro expansion, not during its
% definition.  It gets all the arguments values and assigns them to macros
% macarg.ARGNAME % % #1 is the macro name % #2 is the list of argument
names % #3 is the list of argument values defgetargvals@#1#2#3{%</p>

<pre>\def\macargdeflist@{}%
\def\saveparamlist@{#2}% Need to keep a copy for parameter expansion.
\def\paramlist{#2,\nil@}%
\def\macroname{#1}%
\begingroup
\macroargctxt
\def\argvaluelist{#3,\nil@}%
\def\@tempa{#3}%
\ifx\@tempa\empty
  \setemptyargvalues@
\else
  \getargvals@@
\fi</pre>

<p>}</p>

<p>%  defgetargvals@@{%</p>

<pre>\ifx\paramlist\nilm@
    % Some sanity check needed here that \argvaluelist is also empty.
    \ifx\argvaluelist\nillm@
    \else
      \errhelp = \EMsimple
      \errmessage{Too many arguments in macro `\macroname&#39;!}%
    \fi
    \let\next\macargexpandinbody@
\else
  \ifx\argvaluelist\nillm@
     % No more arguments values passed to macro.  Set remaining named-arg
     % macros to empty.
     \let\next\setemptyargvalues@
  \else
    % pop current arg name into \@tempb
    \def\@tempa##1{\pop@{\@tempb}{\paramlist}##1\endargs@}%
    \expandafter\@tempa\expandafter{\paramlist}%
     % pop current argument value into \@tempc
    \def\@tempa##1{\longpop@{\@tempc}{\argvaluelist}##1\endargs@}%
    \expandafter\@tempa\expandafter{\argvaluelist}%
     % Here \@tempb is the current arg name and \@tempc is the current arg value.
     % First place the new argument macro definition into \@tempd
     \expandafter\macname\expandafter{\@tempc}%
     \expandafter\let\csname macarg.\@tempb\endcsname\relax
     \expandafter\def\expandafter\@tempe\expandafter{%
       \csname macarg.\@tempb\endcsname}%
     \edef\@tempd{\long\def\@tempe{\the\macname}}%
     \push@\@tempd\macargdeflist@
     \let\next\getargvals@@
  \fi
\fi
\next</pre>

<p>}</p>

<p>defpush@#1#2{%</p>

<pre>\expandafter\expandafter\expandafter\def
\expandafter\expandafter\expandafter#2%
\expandafter\expandafter\expandafter{%
\expandafter#1#2}%</pre>

<p>}</p>

<p>% Replace arguments by their values in the macro body, and place the result
% in macro tempa defmacvalstoargs@{%</p>

<pre>%  To do this we use the property that token registers that are \the&#39;ed
% within an \edef  expand only once. So we are going to place all argument
% values into respective token registers.
%
% First we save the token context, and initialize argument numbering.
\begingroup
  \paramno0\relax
  % Then, for each argument number #N, we place the corresponding argument
  % value into a new token list register \toks#N
  \expandafter\putargsintokens@\saveparamlist@,;,%
  % Then, we expand the body so that argument are replaced by their
  % values. The trick for values not to be expanded themselves is that they
  % are within tokens and that tokens expand only once in an \edef .
  \edef\@tempc{\csname mac.\macroname .body\endcsname}%
  % Now we restore the token stack pointer to free the token list registers
  % which we have used, but we make sure that expanded body is saved after
  % group.
  \expandafter
\endgroup
\expandafter\def\expandafter\@tempa\expandafter{\@tempc}%
}</pre>

<p>defmacargexpandinbody@{%</p>

<pre>%% Define the named-macro outside of this group and then close this group. 
\expandafter
\endgroup
\macargdeflist@
% First the replace in body the macro arguments by their values, the result
% is in \@tempa .
\macvalstoargs@
% Then we point at the \norecurse or \gobble (for recursive) macro value
% with \@tempb .
\expandafter\let\expandafter\@tempb\csname mac.\macroname .recurse\endcsname
% Depending on whether it is recursive or not, we need some tailing
% \egroup .
\ifx\@tempb\gobble
   \let\@tempc\relax
\else
   \let\@tempc\egroup
\fi
% And now we do the real job:
\edef\@tempd{\noexpand\@tempb{\macroname}\noexpand\scanmacro{\@tempa}\@tempc}%
\@tempd</pre>

<p>}</p>

<p>defputargsintokens@#1,{%</p>

<pre>\if#1;\let\next\relax
\else
  \let\next\putargsintokens@
  % First we allocate the new token list register, and give it a temporary
  % alias \@tempb .
  \toksdef\@tempb\the\paramno
  % Then we place the argument value into that token list register.
  \expandafter\let\expandafter\@tempa\csname macarg.#1\endcsname
  \expandafter\@tempb\expandafter{\@tempa}%
  \advance\paramno by 1\relax
\fi
\next</pre>

<p>}</p>

<p>% Save the token stack pointer into macro #1
deftexisavetoksstackpoint#1{edef#1{the@cclvi}} % Restore the token stack
pointer from number in macro #1
deftexirestoretoksstackpoint#1{expandaftermathchardefexpandafter@cclvi#1relax}
% newtoks that can be used non outer . deftexinonouternewtoks{alloc@ 5toks
toksdef cclvi}</p>

<p>% Tailing missing arguments are set to empty defsetemptyargvalues@{%</p>

<pre>\ifx\paramlist\nilm@
  \let\next\macargexpandinbody@
\else
  \expandafter\setemptyargvaluesparser@\paramlist\endargs@
  \let\next\setemptyargvalues@
\fi
\next</pre>

<p>}</p>

<p>defsetemptyargvaluesparser@#1,#2endargs@{%</p>

<pre>\expandafter\def\expandafter\@tempa\expandafter{%
  \expandafter\def\csname macarg.#1\endcsname{}}%
\push@\@tempa\macargdeflist@
\def\paramlist{#2}%</pre>

<p>}</p>

<p>% #1 is the element target macro % #2 is the list macro % #3,#4endargs@ is
the list value defpop@#1#2#3,#4endargs@{%</p>

<pre>\def#1{#3}%
\def#2{#4}%</pre>

<p>} longdeflongpop@#1#2#3,#4endargs@{%</p>

<pre>\long\def#1{#3}%
\long\def#2{#4}%</pre>

<p>}</p>

<p>% This defines a Texinfo @macro. There are eight cases: recursive and %
nonrecursive macros of zero, one, up to nine, and many arguments. % Much
magic with expandafter here. % xdef is used so that macro definitions will
survive the file % they&#39;re defined in; @include reads the file inside a
group. % defdefmacro{%</p>

<pre>\let\hash=##% convert placeholders to macro parameter chars
\ifrecursive
  \ifcase\paramno
  % 0
    \expandafter\xdef\csname\the\macname\endcsname{%
      \noexpand\scanmacro{\temp}}%
  \or % 1
    \expandafter\xdef\csname\the\macname\endcsname{%
       \bgroup\noexpand\macroargctxt
       \noexpand\braceorline
       \expandafter\noexpand\csname\the\macname xxx\endcsname}%
    \expandafter\xdef\csname\the\macname xxx\endcsname##1{%
       \egroup\noexpand\scanmacro{\temp}}%
  \else
    \ifnum\paramno&lt;10\relax % at most 9
      \expandafter\xdef\csname\the\macname\endcsname{%
         \bgroup\noexpand\macroargctxt
         \noexpand\csname\the\macname xx\endcsname}%
      \expandafter\xdef\csname\the\macname xx\endcsname##1{%
          \expandafter\noexpand\csname\the\macname xxx\endcsname ##1,}%
      \expandafter\expandafter
      \expandafter\xdef
      \expandafter\expandafter
        \csname\the\macname xxx\endcsname
          \paramlist{\egroup\noexpand\scanmacro{\temp}}%
    \else % 10 or more
      \expandafter\xdef\csname\the\macname\endcsname{%
        \noexpand\getargvals@{\the\macname}{\argl}%
      }%    
      \global\expandafter\let\csname mac.\the\macname .body\endcsname\temp
      \global\expandafter\let\csname mac.\the\macname .recurse\endcsname\gobble
    \fi
  \fi
\else
  \ifcase\paramno
  % 0
    \expandafter\xdef\csname\the\macname\endcsname{%
      \noexpand\norecurse{\the\macname}%
      \noexpand\scanmacro{\temp}\egroup}%
  \or % 1
    \expandafter\xdef\csname\the\macname\endcsname{%
       \bgroup\noexpand\macroargctxt
       \noexpand\braceorline
       \expandafter\noexpand\csname\the\macname xxx\endcsname}%
    \expandafter\xdef\csname\the\macname xxx\endcsname##1{%
      \egroup
      \noexpand\norecurse{\the\macname}%
      \noexpand\scanmacro{\temp}\egroup}%
  \else % at most 9
    \ifnum\paramno&lt;10\relax
      \expandafter\xdef\csname\the\macname\endcsname{%
         \bgroup\noexpand\macroargctxt
         \expandafter\noexpand\csname\the\macname xx\endcsname}%
      \expandafter\xdef\csname\the\macname xx\endcsname##1{%
          \expandafter\noexpand\csname\the\macname xxx\endcsname ##1,}%
      \expandafter\expandafter
      \expandafter\xdef
      \expandafter\expandafter
      \csname\the\macname xxx\endcsname
      \paramlist{%
          \egroup
          \noexpand\norecurse{\the\macname}%
          \noexpand\scanmacro{\temp}\egroup}%
    \else % 10 or more:
      \expandafter\xdef\csname\the\macname\endcsname{%
        \noexpand\getargvals@{\the\macname}{\argl}%
      }%
      \global\expandafter\let\csname mac.\the\macname .body\endcsname\temp
      \global\expandafter\let\csname mac.\the\macname .recurse\endcsname\norecurse
    \fi
  \fi
\fi}</pre>

<p>catcode `@texiatcatcoderelax</p>

<p>defnorecurse#1{bgroupcslet{#1}{macsave.#1}}</p>

<p>% braceorline decides whether the next nonwhitespace character is a % {. 
If so it reads up to the closing }, if not, it reads the whole % line. 
Whatever was read is then fed to the next control sequence % as an argument
(by parsebrace or parsearg). % 
defbraceorline#1{letmacnamexxx=#1futureletncharbraceorlinexxx}
defbraceorlinexxx{%</p>

<pre>\ifx\nchar\bgroup\else
  \expandafter\parsearg
\fi \macnamexxx}</pre>

<p>% @alias. % We need some trickery to remove the optional spaces around the
equal % sign.  Make them active and then expand them all to nothing. %
defalias{parseargusingobeyspacesaliasxxx} defaliasxxx #1{aliasyyy#1relax}
defaliasyyy #1=#2relax{%</p>

<pre>{%
  \expandafter\let\obeyedspace=\empty
  \addtomacrolist{#1}%
  \xdef\next{\global\let\makecsname{#1}=\makecsname{#2}}%
}%
\next</pre>

<p>}</p>

<p>message{cross references,}</p>

<p>newwriteauxfile newififhavexrefs    % True if xref values are known.
newififwarnedxrefs  % True if we warned once that they aren&#39;t known.</p>

<p>% @inforef is relatively simple. definforef #1{inforefzzz #1,,,,**}
definforefzzz #1,#2,#3,#4**{%</p>

<pre>\putwordSee{} \putwordInfo{} \putwordfile{} \file{\ignorespaces #3{}},
node \samp{\ignorespaces#1{}}}</pre>

<p>% @node&#39;s only job in TeX is to define lastnode, which is used in %
cross-references.  The @node line might or might not have commas, and %
might or might not have spaces before the first comma, like: % @node foo ,
bar , … % We don&#39;t want such trailing spaces in the node name. %
parseargdefnode{checkenv{}donode #1 ,finishnodeparse} % % also remove a
trailing comma, in case of something like this: % @node Help-Cross,  ,  ,
Cross-refs defdonode#1 ,#2finishnodeparse{dodonode #1,finishnodeparse}
defdodonode#1,#2finishnodeparse{gdeflastnode{#1}}</p>

<p>letnwnode=node letlastnode=empty</p>

<p>% Write a cross-reference definition for the current node.  #1 is the %
type (Ynumbered, Yappendix, Ynothing). % defdonoderef#1{%</p>

<pre>\ifx\lastnode\empty\else
  \setref{\lastnode}{#1}%
  \global\let\lastnode=\empty
\fi</pre>

<p>}</p>

<p>% @anchor{NAME} – define xref target at arbitrary point. %
newcountsavesfregister % defsavesf{relax ifhmode savesfregister=spacefactor
fi} defrestoresf{relax ifhmode spacefactor=savesfregister fi}
defanchor#1{savesf setref{#1}{Ynothing}restoresf ignorespaces}</p>

<p>% setref{NAME}{SNT} defines a cross-reference point NAME (a node or an %
anchor), which consists of three parts: % 1) NAME-title - the current
sectioning name taken from lastsection, %                 or the anchor
name. % 2) NAME-snt   - section number and type, passed as the SNT arg, or
%                 empty for anchors. % 3) NAME-pg    - the page number. % %
This is called from donoderef, anchor, and dofloat.  In the case of %
floats, there is an additional part, which is not written here: % 4)
NAME-lof   - the text as it should appear in a @listoffloats. %
defsetref#1#2{%</p>

<pre>\pdfmkdest{#1}%
\iflinks
  {%
    \atdummies  % preserve commands, but don&#39;t expand them
    \edef\writexrdef##1##2{%
      \write\auxfile{@xrdef{#1-% #1 of \setref, expanded by the \edef
        ##1}{##2}}% these are parameters of \writexrdef
    }%
    \toks0 = \expandafter{\lastsection}%
    \immediate \writexrdef{title}{\the\toks0 }%
    \immediate \writexrdef{snt}{\csname #2\endcsname}% \Ynumbered etc.
    \safewhatsit{\writexrdef{pg}{\folio}}% will be written later, at \shipout
  }%
\fi</pre>

<p>}</p>

<p>% @xrefautosectiontitle on|off says whether @section(ing) names are used %
automatically in xrefs, if the third arg is not explicitly specified. %
This was provided as a “secret” @set xref-automatic-section-title %
variable, now it&#39;s official. %  parseargdefxrefautomaticsectiontitle{%</p>

<pre>\def\temp{#1}%
\ifx\temp\onword
  \expandafter\let\csname SETxref-automatic-section-title\endcsname
    = \empty
\else\ifx\temp\offword
  \expandafter\let\csname SETxref-automatic-section-title\endcsname
    = \relax
\else
  \errhelp = \EMsimple
  \errmessage{Unknown @xrefautomaticsectiontitle value `\temp&#39;,
              must be on|off}%
\fi\fi</pre>

<p>}</p>

<p>%  % @xref, @pxref, and @ref generate cross-references.  For xrefX, #1 is
% the node name, #2 the name of the Info cross-reference, #3 the printed %
node name, #4 the name of the Info file, #5 the name of the printed %
manual.  All but the node name can be omitted. % defpxref#1{putwordsee{}
xrefX[#1,,,,,,,]} defxref#1{putwordSee{} xrefX[#1,,,,,,,]} defref#1{<a
href=“#1,,,,,,,”>xrefX</a>} % newboxtoprefbox newboxprintedrefnamebox
newboxinfofilenamebox newboxprintedmanualbox %
defxrefX[#1,#2,#3,#4,#5,#6]{begingroup</p>

<pre>\unsepspaces
%
% Get args without leading/trailing spaces.
\def\printedrefname{\ignorespaces #3}%
\setbox\printedrefnamebox = \hbox{\printedrefname\unskip}%
%
\def\infofilename{\ignorespaces #4}%
\setbox\infofilenamebox = \hbox{\infofilename\unskip}%
%
\def\printedmanual{\ignorespaces #5}%
\setbox\printedmanualbox  = \hbox{\printedmanual\unskip}%
%
% If the printed reference name (arg #3) was not explicitly given in
% the @xref, figure out what we want to use.
\ifdim \wd\printedrefnamebox = 0pt
  % No printed node name was explicitly given.
  \expandafter\ifx\csname SETxref-automatic-section-title\endcsname \relax
    % Not auto section-title: use node name inside the square brackets.
    \def\printedrefname{\ignorespaces #1}%
  \else
    % Auto section-title: use chapter/section title inside
    % the square brackets if we have it.
    \ifdim \wd\printedmanualbox &gt; 0pt
      % It is in another manual, so we don&#39;t have it; use node name.
      \def\printedrefname{\ignorespaces #1}%
    \else
      \ifhavexrefs
        % We (should) know the real title if we have the xref values.
        \def\printedrefname{\refx{#1-title}{}}%
      \else
        % Otherwise just copy the Info node name.
        \def\printedrefname{\ignorespaces #1}%
      \fi%
    \fi
  \fi
\fi
%
% Make link in pdf output.
\ifpdf
  {\indexnofonts
   \turnoffactive
   \makevalueexpandable
   % This expands tokens, so do it after making catcode changes, so _
   % etc. don&#39;t get their TeX definitions.  This ignores all spaces in
   % #4, including (wrongly) those in the middle of the filename.
   \getfilename{#4}%
   %
   % This (wrongly) does not take account of leading or trailing
   % spaces in #1, which should be ignored.
   \edef\pdfxrefdest{#1}%
   \ifx\pdfxrefdest\empty
     \def\pdfxrefdest{Top}% no empty targets
   \else
     \txiescapepdf\pdfxrefdest  % escape PDF special chars
   \fi
   %
   \leavevmode
   \startlink attr{/Border [0 0 0]}%
   \ifnum\filenamelength&gt;0
     goto file{\the\filename.pdf} name{\pdfxrefdest}%
   \else
     goto name{\pdfmkpgn{\pdfxrefdest}}%
   \fi
  }%
  \setcolor{\linkcolor}%
\fi
%
% Float references are printed completely differently: &quot;Figure 1.2&quot;
% instead of &quot;[somenode], p.3&quot;.  We distinguish them by the
% LABEL-title being set to a magic string.
{%
  % Have to otherify everything special to allow the \csname to
  % include an _ in the xref name, etc.
  \indexnofonts
  \turnoffactive
  \expandafter\global\expandafter\let\expandafter\Xthisreftitle
    \csname XR#1-title\endcsname
}%
\iffloat\Xthisreftitle
  % If the user specified the print name (third arg) to the ref,
  % print it instead of our usual &quot;Figure 1.2&quot;.
  \ifdim\wd\printedrefnamebox = 0pt
    \refx{#1-snt}{}%
  \else
    \printedrefname
  \fi
  %
  % If the user also gave the printed manual name (fifth arg), append
  % &quot;in MANUALNAME&quot;.
  \ifdim \wd\printedmanualbox &gt; 0pt
    \space \putwordin{} \cite{\printedmanual}%
  \fi
\else
  % node/anchor (non-float) references.
  % 
  % If we use \unhbox to print the node names, TeX does not insert
  % empty discretionaries after hyphens, which means that it will not
  % find a line break at a hyphen in a node names.  Since some manuals
  % are best written with fairly long node names, containing hyphens,
  % this is a loss.  Therefore, we give the text of the node name
  % again, so it is as if TeX is seeing it for the first time.
  % 
  \ifdim \wd\printedmanualbox &gt; 0pt
    % Cross-manual reference with a printed manual name.
    % 
    \crossmanualxref{\cite{\printedmanual\unskip}}%
  %
  \else\ifdim \wd\infofilenamebox &gt; 0pt
    % Cross-manual reference with only an info filename (arg 4), no
    % printed manual name (arg 5).  This is essentially the same as
    % the case above; we output the filename, since we have nothing else.
    % 
    \crossmanualxref{\code{\infofilename\unskip}}%
  %
  \else
    % Reference within this manual.
    %
    % _ (for example) has to be the character _ for the purposes of the
    % control sequence corresponding to the node, but it has to expand
    % into the usual \leavevmode...\vrule stuff for purposes of
    % printing. So we \turnoffactive for the \refx-snt, back on for the
    % printing, back off for the \refx-pg.
    {\turnoffactive
     % Only output a following space if the -snt ref is nonempty; for
     % @unnumbered and @anchor, it won&#39;t be.
     \setbox2 = \hbox{\ignorespaces \refx{#1-snt}{}}%
     \ifdim \wd2 &gt; 0pt \refx{#1-snt}\space\fi
    }%
    % output the `[mynode]&#39; via the macro below so it can be overridden.
    \xrefprintnodename\printedrefname
    %
    % But we always want a comma and a space:
    ,\space
    %
    % output the `page 3&#39;.
    \turnoffactive \putwordpage\tie\refx{#1-pg}{}%
  \fi\fi
\fi
\endlink</pre>

<p>endgroup}</p>

<p>% Output a cross-manual xref to #1.  Used just above (twice). %  % Only
include the text “Section “foo&#39;&#39; in” if the foo is neither %
missing or Top.  Thus, @xref{,,,foo,The Foo Manual} outputs simply % “see
The Foo Manual”, the idea being to refer to the whole manual. %  % But,
this being TeX, we can&#39;t easily compare our node name against the %
string “Top” while ignoring the possible spaces before and after in % the
input.  By adding the arbitrary 7sp below, we make it much less % likely
that a real node name would have the same width as “Top” (e.g., % in a
monospaced font).  Hopefully it will never happen in practice. %  % For the
same basic reason, we retypeset the “Top” at every % reference, since the
current font is indeterminate. %  defcrossmanualxref#1{%</p>

<pre>\setbox\toprefbox = \hbox{Top\kern7sp}%
\setbox2 = \hbox{\ignorespaces \printedrefname \unskip \kern7sp}%
\ifdim \wd2 &gt; 7sp  % nonempty?
  \ifdim \wd2 = \wd\toprefbox \else  % same as Top?
    \putwordSection{} ``\printedrefname&#39;&#39; \putwordin{}\space
  \fi
\fi
#1%</pre>

<p>}</p>

<p>% This macro is called from xrefX for the `[nodename]&#39; part of xref %
output.  It&#39;s a separate macro only so it can be changed more easily, %
since square brackets don&#39;t work well in some documents.  Particularly
% one that Bob is working on :). % defxrefprintnodename#1{[#1]}</p>

<p>% Things referred to by setref. % defYnothing{} defYomitfromtoc{}
defYnumbered{%</p>

<pre>\ifnum\secno=0
  \putwordChapter@tie \the\chapno
\else \ifnum\subsecno=0
  \putwordSection@tie \the\chapno.\the\secno
\else \ifnum\subsubsecno=0
  \putwordSection@tie \the\chapno.\the\secno.\the\subsecno
\else
  \putwordSection@tie \the\chapno.\the\secno.\the\subsecno.\the\subsubsecno
\fi\fi\fi</pre>

<p>} defYappendix{%</p>

<pre>\ifnum\secno=0
   \putwordAppendix@tie @char\the\appendixno{}%
\else \ifnum\subsecno=0
   \putwordSection@tie @char\the\appendixno.\the\secno
\else \ifnum\subsubsecno=0
  \putwordSection@tie @char\the\appendixno.\the\secno.\the\subsecno
\else
  \putwordSection@tie
    @char\the\appendixno.\the\secno.\the\subsecno.\the\subsubsecno
\fi\fi\fi</pre>

<p>}</p>

<p>% Define refx{NAME}{SUFFIX} to reference a cross-reference string named
NAME. % If its value is nonempty, SUFFIX is output afterward. %
defrefx#1#2{%</p>

<pre>{%
  \indexnofonts
  \otherbackslash
  \expandafter\global\expandafter\let\expandafter\thisrefX
    \csname XR#1\endcsname
}%
\ifx\thisrefX\relax
  % If not defined, say something at least.
  \angleleft un\-de\-fined\angleright
  \iflinks
    \ifhavexrefs
      {\toks0 = {#1}% avoid expansion of possibly-complex value
       \message{\linenumber Undefined cross reference `\the\toks0&#39;.}}%
    \else
      \ifwarnedxrefs\else
        \global\warnedxrefstrue
        \message{Cross reference values unknown; you must run TeX again.}%
      \fi
    \fi
  \fi
\else
  % It&#39;s defined, so just use it.
  \thisrefX
\fi
#2% Output the suffix in any case.</pre>

<p>}</p>

<p>% This is the macro invoked by entries in the aux file.  Usually it&#39;s %
just a def (we prepend XR to the control sequence name to avoid %
collisions).  But if this is a float type, we have more work to do. %
defxrdef#1#2{%</p>

<pre>{% The node name might contain 8-bit characters, which in our current
 % implementation are changed to commands like @&#39;e.  Don&#39;t let these
 % mess up the control sequence name.
  \indexnofonts
  \turnoffactive
  \xdef\safexrefname{#1}%
}%
%
\expandafter\gdef\csname XR\safexrefname\endcsname{#2}% remember this xref
%
% Was that xref control sequence that we just defined for a float?
\expandafter\iffloat\csname XR\safexrefname\endcsname
  % it was a float, and we have the (safe) float type in \iffloattype.
  \expandafter\let\expandafter\floatlist
    \csname floatlist\iffloattype\endcsname
  %
  % Is this the first time we&#39;ve seen this float type?
  \expandafter\ifx\floatlist\relax
    \toks0 = {\do}% yes, so just \do
  \else
    % had it before, so preserve previous elements in list.
    \toks0 = \expandafter{\floatlist\do}%
  \fi
  %
  % Remember this xref in the control sequence \floatlistFLOATTYPE,
  % for later use in \listoffloats.
  \expandafter\xdef\csname floatlist\iffloattype\endcsname{\the\toks0
    {\safexrefname}}%
\fi</pre>

<p>}</p>

<p>% Read the last existing aux file, if any.  No error if none exists. %
deftryauxfile{%</p>

<pre>\openin 1 \jobname.aux
\ifeof 1 \else
  \readdatafile{aux}%
  \global\havexrefstrue
\fi
\closein 1</pre>

<p>}</p>

<p>defsetupdatafile{%</p>

<pre>\catcode`\^^@=\other
\catcode`\^^A=\other
\catcode`\^^B=\other
\catcode`\^^C=\other
\catcode`\^^D=\other
\catcode`\^^E=\other
\catcode`\^^F=\other
\catcode`\^^G=\other
\catcode`\^^H=\other
\catcode`\^^K=\other
\catcode`\^^L=\other
\catcode`\^^N=\other
\catcode`\^^P=\other
\catcode`\^^Q=\other
\catcode`\^^R=\other
\catcode`\^^S=\other
\catcode`\^^T=\other
\catcode`\^^U=\other
\catcode`\^^V=\other
\catcode`\^^W=\other
\catcode`\^^X=\other
\catcode`\^^Z=\other
\catcode`\^^[=\other
\catcode`\^^\=\other
\catcode`\^^]=\other
\catcode`\^^^=\other
\catcode`\^^_=\other
% It was suggested to set the catcode of ^ to 7, which would allow ^^e4 etc.
% in xref tags, i.e., node names.  But since ^^e4 notation isn&#39;t
% supported in the main text, it doesn&#39;t seem desirable.  Furthermore,
% that is not enough: for node names that actually contain a ^
% character, we would end up writing a line like this: &#39;xrdef {&#39;hat
% b-title}{&#39;hat b} and \xrdef does a \csname...\endcsname on the first
% argument, and \hat is not an expandable control sequence.  It could
% all be worked out, but why?  Either we support ^^ or we don&#39;t.
%
% The other change necessary for this was to define \auxhat:
% \def\auxhat{\def^{&#39;hat }}% extra space so ok if followed by letter
% and then to call \auxhat in \setq.
%
\catcode`\^=\other
%
% Special characters.  Should be turned off anyway, but...
\catcode`\~=\other
\catcode`\[=\other
\catcode`\]=\other
\catcode`\&quot;=\other
\catcode`\_=\other
\catcode`\|=\other
\catcode`\&lt;=\other
\catcode`\&gt;=\other
\catcode`\$=\other
\catcode`\#=\other
\catcode`\&amp;=\other
\catcode`\%=\other
\catcode`+=\other % avoid \+ for paranoia even though we&#39;ve turned it off
%
% This is to support \ in node names and titles, since the \
% characters end up in a \csname.  It&#39;s easier than
% leaving it active and making its active definition an actual \
% character.  What I don&#39;t understand is why it works in the *value*
% of the xrdef.  Seems like it should be a catcode12 \, and that
% should not typeset properly.  But it works, so I&#39;m moving on for
% now.  --karl, 15jan04.
\catcode`\\=\other
%
% Make the characters 128-255 be printing characters.
{%
  \count1=128
  \def\loop{%
    \catcode\count1=\other
    \advance\count1 by 1
    \ifnum \count1&lt;256 \loop \fi
  }%
}%
%
% @ is our escape character in .aux files, and we need braces.
\catcode`\{=1
\catcode`\}=2
\catcode`\@=0</pre>

<p>}</p>

<p>defreaddatafile#1{% begingroup</p>

<pre>\setupdatafile
\input\jobname.#1</pre>

<p>endgroup}</p>

<p>message{insertions,} % including footnotes.</p>

<p>newcount footnoteno</p>

<p>% The trailing space in the following definition for supereject is % vital
for proper filling; pages come out unaligned when you do a % pagealignmacro
call if that space before the closing brace is % removed. (Generally,
numeric constants should always be followed by a % space to prevent strange
expansion errors.) defsupereject{parpenalty -20000footnoteno =0 }</p>

<p>% @footnotestyle is meaningful for Info output only.
letfootnotestyle=comment</p>

<p>{catcode `@=11 % % Auto-number footnotes.  Otherwise like plain.
gdeffootnote{%</p>

<pre>\let\indent=\ptexindent
\let\noindent=\ptexnoindent
\global\advance\footnoteno by \@ne
\edef\thisfootno{$^{\the\footnoteno}$}%
%
% In case the footnote comes at the end of a sentence, preserve the
% extra spacing after we do the footnote number.
\let\@sf\empty
\ifhmode\edef\@sf{\spacefactor\the\spacefactor}\ptexslash\fi
%
% Remove inadvertent blank space before typesetting the footnote number.
\unskip
\thisfootno\@sf
\dofootnote</pre>

<p>}%</p>

<p>% Don&#39;t bother with the trickery in plain.tex to not require the %
footnote text as a parameter.  Our footnotes don&#39;t need to be so
general. % % Oh yes, they do; otherwise, @ifset (and anything else that
uses % parseargline) fails inside footnotes because the tokens are fixed
when % the footnote is read.  –karl, 16nov96. % gdefdofootnote{%</p>

<pre>\insert\footins\bgroup
% We want to typeset this text as a normal paragraph, even if the
% footnote reference occurs in (for example) a display environment.
% So reset some parameters.
\hsize=\pagewidth
\interlinepenalty\interfootnotelinepenalty
\splittopskip\ht\strutbox % top baseline for broken footnotes
\splitmaxdepth\dp\strutbox
\floatingpenalty\@MM
\leftskip\z@skip
\rightskip\z@skip
\spaceskip\z@skip
\xspaceskip\z@skip
\parindent\defaultparindent
%
\smallfonts \rm
%
% Because we use hanging indentation in footnotes, a @noindent appears
% to exdent this text, so make it be a no-op.  makeinfo does not use
% hanging indentation so @noindent can still be needed within footnote
% text after an @example or the like (not that this is good style).
\let\noindent = \relax
%
% Hang the footnote text off the number.  Use \everypar in case the
% footnote extends for more than one paragraph.
\everypar = {\hang}%
\textindent{\thisfootno}%
%
% Don&#39;t crash into the line above the footnote text.  Since this
% expands into a box, it must come within the paragraph, lest it
% provide a place where TeX can split the footnote.
\footstrut
%
% Invoke rest of plain TeX footnote routine.
\futurelet\next\fo@t</pre>

<p>} }%end catcode `@=11</p>

<p>% In case a @footnote appears in a vbox, save the footnote text and create
% the real insert just after the vbox finished.  Otherwise, the insertion %
would be lost. % Similarly, if a @footnote appears inside an alignment,
save the footnote % text to a box and make the insert when a row of the
table is finished. % And the same can be done for other insert classes. 
–kasal, 16nov03.</p>

<p>% Replace the insert primitive by a cheating macro. % Deeper inside, just
make sure that the saved insertions are not spilled % out prematurely. %
defstartsavinginserts{%</p>

<pre>\ifx \insert\ptexinsert
  \let\insert\saveinsert
\else
  \let\checkinserts\relax
\fi</pre>

<p>}</p>

<p>% This insert replacement works for both insertfootins{foo} and %
insertfootinsbgroup fooegroup, but it doesn&#39;t work for insert27{foo}. %
defsaveinsert#1{%</p>

<pre>\edef\next{\noexpand\savetobox \makeSAVEname#1}%
\afterassignment\next
% swallow the left brace
\let\temp =</pre>

<p>} defmakeSAVEname#1{makecsname{SAVEexpandaftergobblestring#1}}
defsavetobox#1{globalsetbox#1 = vboxbgroup unvbox#1}</p>

<p>defchecksaveins#1{ifvoid#1else placesaveins#1fi}</p>

<p>defplacesaveins#1{%</p>

<pre>\ptexinsert \csname\expandafter\gobblesave\string#1\endcsname
  {\box#1}%</pre>

<p>}</p>

<p>% eat @SAVE – beware, all of them have catcode other: {</p>

<pre>\def\dospecials{\do S\do A\do V\do E} \uncatcodespecials  %  ;-)
\gdef\gobblesave @SAVE{}</pre>

<p>}</p>

<p>% initialization: defnewsaveins #1{%</p>

<pre>\edef\next{\noexpand\newsaveinsX \makeSAVEname#1}%
\next</pre>

<p>} defnewsaveinsX #1{%</p>

<pre>\csname newbox\endcsname #1%
\expandafter\def\expandafter\checkinserts\expandafter{\checkinserts
  \checksaveins #1}%</pre>

<p>}</p>

<p>% initialize: letcheckinsertsempty newsaveinsfootins newsaveinsmargin</p>

<p>% @image.  We use the macros from epsf.tex to support this. % If epsf.tex
is not installed and @image is used, we complain. % % Check for and read
epsf.tex up front.  If we read it only at @image % time, we might be inside
a group, and then its definitions would get % undone and the next image
would fail. openin 1 = epsf.tex ifeof 1 else</p>

<pre>% Do not bother showing banner with epsf.tex v2.7k (available in
% doc/epsf.tex and on ctan).
\def\epsfannounce{\toks0 = }%
\input epsf.tex</pre>

<p>fi closein 1 % % We will only complain once about lack of epsf.tex.
newififwarnednoepsf newhelpnoepsfhelp{epsf.tex must be installed for images
to</p>

<pre>work.  It is also included in the Texinfo distribution, or you can get
it from ftp://tug.org/tex/epsf.tex.}</pre>

<p>% defimage#1{%</p>

<pre>\ifx\epsfbox\thisisundefined
  \ifwarnednoepsf \else
    \errhelp = \noepsfhelp
    \errmessage{epsf.tex not found, images will be ignored}%
    \global\warnednoepsftrue
  \fi
\else
  \imagexxx #1,,,,,\finish
\fi</pre>

<p>} % % Arguments to @image: % #1 is (mandatory) image filename; we tack on
.eps extension. % #2 is (optional) width, #3 is (optional) height. % #4 is
(ignored optional) html alt text. % #5 is (ignored optional) extension. %
#6 is just the usual extra ignored arg for parsing stuff. newififimagevmode
defimagexxx#1,#2,#3,#4,#5,#6finish{begingroup</p>

<pre>\catcode`\^^M = 5     % in case we&#39;re inside an example
\normalturnoffactive  % allow _ et al. in names
% If the image is by itself, center it.
\ifvmode
  \imagevmodetrue
\else \ifx\centersub\centerV
  % for @center @image, we need a vbox so we can have our vertical space
  \imagevmodetrue
  \vbox\bgroup % vbox has better behavior than vtop herev
\fi\fi
%
\ifimagevmode
  \nobreak\medskip
  % Usually we&#39;ll have text after the image which will insert
  % \parskip glue, so insert it here too to equalize the space
  % above and below.
  \nobreak\vskip\parskip
  \nobreak
\fi
%
% Leave vertical mode so that indentation from an enclosing
%  environment such as @quotation is respected.
% However, if we&#39;re at the top level, we don&#39;t want the
%  normal paragraph indentation.
% On the other hand, if we are in the case of @center @image, we don&#39;t
%  want to start a paragraph, which will create a hsize-width box and
%  eradicate the centering.
\ifx\centersub\centerV\else \noindent \fi
%
% Output the image.
\ifpdf
  \dopdfimage{#1}{#2}{#3}%
\else
  % \epsfbox itself resets \epsf?size at each figure.
  \setbox0 = \hbox{\ignorespaces #2}\ifdim\wd0 &gt; 0pt \epsfxsize=#2\relax \fi
  \setbox0 = \hbox{\ignorespaces #3}\ifdim\wd0 &gt; 0pt \epsfysize=#3\relax \fi
  \epsfbox{#1.eps}%
\fi
%
\ifimagevmode
  \medskip  % space after a standalone image
\fi  
\ifx\centersub\centerV \egroup \fi</pre>

<p>endgroup}</p>

<p>% @float FLOATTYPE,LABEL,LOC … @end float for displayed figures, tables, %
etc.  We don&#39;t actually implement floating yet, we always include the %
float “here”.  But it seemed the best name for the future. %
envparseargdeffloat{eatcommaspaceeatcommaspacedofloat#1, , ,finish}</p>

<p>% There may be a space before second and/or third parameter; delete it.
defeatcommaspace#1, {#1,}</p>

<p>% #1 is the optional FLOATTYPE, the text label for this float, typically %
“Figure”, “Table”, “Example”, etc.  Can&#39;t contain commas.  If omitted,
% this float will not be numbered and cannot be referred to. % % #2 is the
optional xref label.  Also must be present for the float to % be referable.
% % #3 is the optional positioning argument; for now, it is ignored.  It %
will somehow specify the positions allowed to float to (here, top, bottom).
% % We keep a separate counter for each FLOATTYPE, which we reset at each %
chapter-level command. letresetallfloatnos=empty %
defdofloat#1,#2,#3,#4finish{%</p>

<pre>\let\thiscaption=\empty
\let\thisshortcaption=\empty
%
% don&#39;t lose footnotes inside @float.
%
% BEWARE: when the floats start float, we have to issue warning whenever an
% insert appears inside a float which could possibly float. --kasal, 26may04
%
\startsavinginserts
%
% We can&#39;t be used inside a paragraph.
\par
%
\vtop\bgroup
  \def\floattype{#1}%
  \def\floatlabel{#2}%
  \def\floatloc{#3}% we do nothing with this yet.
  %
  \ifx\floattype\empty
    \let\safefloattype=\empty
  \else
    {%
      % the floattype might have accents or other special characters,
      % but we need to use it in a control sequence name.
      \indexnofonts
      \turnoffactive
      \xdef\safefloattype{\floattype}%
    }%
  \fi
  %
  % If label is given but no type, we handle that as the empty type.
  \ifx\floatlabel\empty \else
    % We want each FLOATTYPE to be numbered separately (Figure 1,
    % Table 1, Figure 2, ...).  (And if no label, no number.)
    %
    \expandafter\getfloatno\csname\safefloattype floatno\endcsname
    \global\advance\floatno by 1
    %
    {%
      % This magic value for \lastsection is output by \setref as the
      % XREFLABEL-title value.  \xrefX uses it to distinguish float
      % labels (which have a completely different output format) from
      % node and anchor labels.  And \xrdef uses it to construct the
      % lists of floats.
      %
      \edef\lastsection{\floatmagic=\safefloattype}%
      \setref{\floatlabel}{Yfloat}%
    }%
  \fi
  %
  % start with \parskip glue, I guess.
  \vskip\parskip
  %
  % Don&#39;t suppress indentation if a float happens to start a section.
  \restorefirstparagraphindent</pre>

<p>}</p>

<p>% we have these possibilities: % @float Foo,lbl &amp; @caption{Cap}: Foo
1.1: Cap % @float Foo,lbl &amp; no caption:    Foo 1.1 % @float Foo &amp;
@caption{Cap}:     Foo: Cap % @float Foo &amp; no caption:        Foo %
@float ,lbl &amp; Caption{Cap}:     1.1: Cap % @float ,lbl &amp; no
caption:       1.1 % @float &amp; @caption{Cap}:         Cap % @float &amp;
no caption: % defEfloat{%</p>

<pre>  \let\floatident = \empty
  %
  % In all cases, if we have a float type, it comes first.
  \ifx\floattype\empty \else \def\floatident{\floattype}\fi
  %
  % If we have an xref label, the number comes next.
  \ifx\floatlabel\empty \else
    \ifx\floattype\empty \else % if also had float type, need tie first.
      \appendtomacro\floatident{\tie}%
    \fi
    % the number.
    \appendtomacro\floatident{\chaplevelprefix\the\floatno}%
  \fi
  %
  % Start the printed caption with what we&#39;ve constructed in
  % \floatident, but keep it separate; we need \floatident again.
  \let\captionline = \floatident
  %
  \ifx\thiscaption\empty \else
    \ifx\floatident\empty \else
      \appendtomacro\captionline{: }% had ident, so need a colon between
    \fi
    %
    % caption text.
    \appendtomacro\captionline{\scanexp\thiscaption}%
  \fi
  %
  % If we have anything to print, print it, with space before.
  % Eventually this needs to become an \insert.
  \ifx\captionline\empty \else
    \vskip.5\parskip
    \captionline
    %
    % Space below caption.
    \vskip\parskip
  \fi
  %
  % If have an xref label, write the list of floats info.  Do this
  % after the caption, to avoid chance of it being a breakpoint.
  \ifx\floatlabel\empty \else
    % Write the text that goes in the lof to the aux file as
    % \floatlabel-lof.  Besides \floatident, we include the short
    % caption if specified, else the full caption if specified, else nothing.
    {%
      \atdummies
      %
      % since we read the caption text in the macro world, where ^^M
      % is turned into a normal character, we have to scan it back, so
      % we don&#39;t write the literal three characters &quot;^^M&quot; into the aux file.
      \scanexp{%
        \xdef\noexpand\gtemp{%
          \ifx\thisshortcaption\empty
            \thiscaption
          \else
            \thisshortcaption
          \fi
        }%
      }%
      \immediate\write\auxfile{@xrdef{\floatlabel-lof}{\floatident
        \ifx\gtemp\empty \else : \gtemp \fi}}%
    }%
  \fi
\egroup  % end of \vtop
%
% place the captured inserts
%
% BEWARE: when the floats start floating, we have to issue warning
% whenever an insert appears inside a float which could possibly
% float. --kasal, 26may04
%
\checkinserts</pre>

<p>}</p>

<p>% Append the tokens #2 to the definition of macro #1, not expanding either.
% defappendtomacro#1#2{%</p>

<pre>\expandafter\def\expandafter#1\expandafter{#1#2}%</pre>

<p>}</p>

<p>% @caption, @shortcaption % defcaption{docaptionthiscaption}
defshortcaption{docaptionthisshortcaption} defdocaption{checkenvfloat
bgroupscanargctxtdefcaption} defdefcaption#1#2{egroup def#1{#2}}</p>

<p>% The parameter is the control sequence identifying the counter we are %
going to use.  Create it if it doesn&#39;t exist and assign it to floatno.
defgetfloatno#1{%</p>

<pre>\ifx#1\relax
    % Haven&#39;t seen this figure type before.
    \csname newcount\endcsname #1%
    %
    % Remember to reset this floatno at the next chap.
    \expandafter\gdef\expandafter\resetallfloatnos
      \expandafter{\resetallfloatnos #1=0 }%
\fi
\let\floatno#1%</pre>

<p>}</p>

<p>% setref calls this to get the XREFLABEL-snt value.  We want an @xref % to
the FLOATLABEL to expand to “Figure 3.1”.  We call setref when we % first
read the @float command. % defYfloat{floattype@tie
chaplevelprefixthefloatno}%</p>

<p>% Magic string used for the XREFLABEL-title value, so xrefX can %
distinguish floats from other xref types. deffloatmagic{!!float!!}</p>

<p>% #1 is the control sequence we are passed; we expand into a conditional %
which is true if #1 represents a float ref.  That is, the magic %
lastsection value which we setref above. %
defiffloat#1{expandafterdoiffloat#1==finish} % % #1 is (maybe) the
floatmagic string.  If so, #2 will be the % (safe) float type for this
float.  We set iffloattype to #2. % defdoiffloat#1=#2=#3finish{%</p>

<pre>\def\temp{#1}%
\def\iffloattype{#2}%
\ifx\temp\floatmagic</pre>

<p>}</p>

<p>% @listoffloats FLOATTYPE - print a list of floats like a table of
contents. % parseargdeflistoffloats{%</p>

<pre>\def\floattype{#1}% floattype
{%
  % the floattype might have accents or other special characters,
  % but we need to use it in a control sequence name.
  \indexnofonts
  \turnoffactive
  \xdef\safefloattype{\floattype}%
}%
%
% \xrdef saves the floats as a \do-list in \floatlistSAFEFLOATTYPE.
\expandafter\ifx\csname floatlist\safefloattype\endcsname \relax
  \ifhavexrefs
    % if the user said @listoffloats foo but never @float foo.
    \message{\linenumber No `\safefloattype&#39; floats to list.}%
  \fi
\else
  \begingroup
    \leftskip=\tocindent  % indent these entries like a toc
    \let\do=\listoffloatsdo
    \csname floatlist\safefloattype\endcsname
  \endgroup
\fi</pre>

<p>}</p>

<p>% This is called on each entry in a list of floats.  We&#39;re passed the %
xref label, in the form LABEL-title, which is how we save it in the % aux
file.  We strip off the -title and look up XRLABEL-lof, which % has the
text we&#39;re supposed to typeset here. % % Figures without xref labels
will not be included in the list (since % they won&#39;t appear in the aux
file). % deflistoffloatsdo#1{listoffloatsdoentry#1finish}
deflistoffloatsdoentry#1-titlefinish{{%</p>

<pre>% Can&#39;t fully expand XR#1-lof because it can contain anything.  Just
% pass the control sequence.  On the other hand, XR#1-pg is just the
% page number, and we want to fully expand that so we can get a link
% in pdf output.
\toksA = \expandafter{\csname XR#1-lof\endcsname}%
%
% use the same \entry macro we use to generate the TOC and index.
\edef\writeentry{\noexpand\entry{\the\toksA}{\csname XR#1-pg\endcsname}}%
\writeentry</pre>

<p>}}</p>

<p>message{localization,}</p>

<p>% For single-language documents, @documentlanguage is usually given very %
early, just after @documentencoding.  Single argument is the language %
(de) or locale (de_DE) abbreviation. % {</p>

<pre>\catcode`\_ = \active
\globaldefs=1</pre>

<p>parseargdefdocumentlanguage{begingroup</p>

<pre>\let_=\normalunderscore  % normal _ character for filenames
\tex % read txi-??.tex file in plain TeX.
  % Read the file by the name they passed if it exists.
  \openin 1 txi-#1.tex
  \ifeof 1
    \documentlanguagetrywithoutunderscore{#1_\finish}%
  \else
    \globaldefs = 1  % everything in the txi-LL files needs to persist
    \input txi-#1.tex
  \fi
  \closein 1
\endgroup % end raw TeX</pre>

<p>endgroup} % % If they passed de_DE, and txi-de_DE.tex doesn&#39;t exist, %
try txi-de.tex. % gdefdocumentlanguagetrywithoutunderscore#1_#2finish{%</p>

<pre>\openin 1 txi-#1.tex
\ifeof 1
  \errhelp = \nolanghelp
  \errmessage{Cannot read language file txi-#1.tex}%
\else
  \globaldefs = 1  % everything in the txi-LL files needs to persist
  \input txi-#1.tex
\fi
\closein 1</pre>

<p>} }% end of special _ catcode % newhelpnolanghelp{The given language
definition file cannot be found or is empty.  Maybe you need to install it?
Putting it in the current directory should work if nowhere else does.}</p>

<p>% This macro is called from txi-??.tex files; the first argument is the %
language name to set (without the “lang@” prefix), the second and % third
args are {left,right}hyphenmin. % % The language names to pass are
determined when the format is built. % See the etex.log file created at
that time, e.g., % /usr/local/texlive/2008/texmf-var/web2c/pdftex/etex.log.
% % With TeX Live 2008, etex now includes hyphenation patterns for all %
available languages.  This means we can support hyphenation in % Texinfo,
at least to some extent.  (This still doesn&#39;t solve the % accented
characters problem.) % catcode`@=11 deftxisetlanguage#1#2#3{%</p>

<pre>% do not set the language if the name is undefined in the current TeX.
\expandafter\ifx\csname lang@#1\endcsname \relax
  \message{no patterns for #1}%
\else
  \global\language = \csname lang@#1\endcsname
\fi
% but there is no harm in adjusting the hyphenmin values regardless.
\global\lefthyphenmin = #2\relax
\global\righthyphenmin = #3\relax</pre>

<p>}</p>

<p>% Helpers for encodings. % Set the catcode of characters 128 through 255 to
the specified number. % defsetnonasciicharscatcode#1{%</p>

<pre>\count255=128
\loop\ifnum\count255&lt;256
   \global\catcode\count255=#1\relax
   \advance\count255 by 1
\repeat</pre>

<p>}</p>

<p>defsetnonasciicharscatcodenonglobal#1{%</p>

<pre>\count255=128
\loop\ifnum\count255&lt;256
   \catcode\count255=#1\relax
   \advance\count255 by 1
\repeat</pre>

<p>}</p>

<p>% @documentencoding sets the definition of non-ASCII characters % according
to the specified encoding. % parseargdefdocumentencoding{%</p>

<pre>% Encoding being declared for the document.
\def\declaredencoding{\csname #1.enc\endcsname}%
%
% Supported encodings: names converted to tokens in order to be able
% to compare them with \ifx.
\def\ascii{\csname US-ASCII.enc\endcsname}%
\def\latnine{\csname ISO-8859-15.enc\endcsname}%
\def\latone{\csname ISO-8859-1.enc\endcsname}%
\def\lattwo{\csname ISO-8859-2.enc\endcsname}%
\def\utfeight{\csname UTF-8.enc\endcsname}%
%
\ifx \declaredencoding \ascii
   \asciichardefs
%
\else \ifx \declaredencoding \lattwo
   \setnonasciicharscatcode\active
   \lattwochardefs
%
\else \ifx \declaredencoding \latone
   \setnonasciicharscatcode\active
   \latonechardefs
%
\else \ifx \declaredencoding \latnine
   \setnonasciicharscatcode\active
   \latninechardefs
%
\else \ifx \declaredencoding \utfeight
   \setnonasciicharscatcode\active
   \utfeightchardefs
%
\else
  \message{Unknown document encoding #1, ignoring.}%
%
\fi % utfeight
\fi % latnine
\fi % latone
\fi % lattwo
\fi % ascii</pre>

<p>}</p>

<p>% A message to be logged when using a character that isn&#39;t available %
the default font encoding (OT1). % defmissingcharmsg#1{message{Character
missing in OT1 encoding: #1.}}</p>

<p>% Take account of c (plain) vs. , (Texinfo) difference.
defcedilla#1{ifxcptexcc{#1}else,{#1}fi}</p>

<p>% First, make active non-ASCII characters in order for them to be %
correctly categorized when TeX reads the replacement text of % macros
containing the character definitions. setnonasciicharscatcodeactive % %
Latin1 (ISO-8859-1) character definitions. deflatonechardefs{%</p>

<pre>\gdef^^a0{\tie}
\gdef^^a1{\exclamdown}
\gdef^^a2{\missingcharmsg{CENT SIGN}}
\gdef^^a3{{\pounds}}
\gdef^^a4{\missingcharmsg{CURRENCY SIGN}}
\gdef^^a5{\missingcharmsg{YEN SIGN}}
\gdef^^a6{\missingcharmsg{BROKEN BAR}}
\gdef^^a7{\S}
\gdef^^a8{\&quot;{}}
\gdef^^a9{\copyright}
\gdef^^aa{\ordf}
\gdef^^ab{\guillemetleft}
\gdef^^ac{$\lnot$}
\gdef^^ad{\-}
\gdef^^ae{\registeredsymbol}
\gdef^^af{\={}}
%
\gdef^^b0{\textdegree}
\gdef^^b1{$\pm$}
\gdef^^b2{$^2$}
\gdef^^b3{$^3$}
\gdef^^b4{\&#39;{}}
\gdef^^b5{$\mu$}
\gdef^^b6{\P}
%
\gdef^^b7{$^.$}
\gdef^^b8{\cedilla\ }
\gdef^^b9{$^1$}
\gdef^^ba{\ordm}
%
\gdef^^bb{\guillemetright}
\gdef^^bc{$1\over4$}
\gdef^^bd{$1\over2$}
\gdef^^be{$3\over4$}
\gdef^^bf{\questiondown}
%
\gdef^^c0{\`A}
\gdef^^c1{\&#39;A}
\gdef^^c2{\^A}
\gdef^^c3{\~A}
\gdef^^c4{\&quot;A}
\gdef^^c5{\ringaccent A}
\gdef^^c6{\AE}
\gdef^^c7{\cedilla C}
\gdef^^c8{\`E}
\gdef^^c9{\&#39;E}
\gdef^^ca{\^E}
\gdef^^cb{\&quot;E}
\gdef^^cc{\`I}
\gdef^^cd{\&#39;I}
\gdef^^ce{\^I}
\gdef^^cf{\&quot;I}
%
\gdef^^d0{\DH}
\gdef^^d1{\~N}
\gdef^^d2{\`O}
\gdef^^d3{\&#39;O}
\gdef^^d4{\^O}
\gdef^^d5{\~O}
\gdef^^d6{\&quot;O}
\gdef^^d7{$\times$}
\gdef^^d8{\O}
\gdef^^d9{\`U}
\gdef^^da{\&#39;U}
\gdef^^db{\^U}
\gdef^^dc{\&quot;U}
\gdef^^dd{\&#39;Y}
\gdef^^de{\TH}
\gdef^^df{\ss}
%
\gdef^^e0{\`a}
\gdef^^e1{\&#39;a}
\gdef^^e2{\^a}
\gdef^^e3{\~a}
\gdef^^e4{\&quot;a}
\gdef^^e5{\ringaccent a}
\gdef^^e6{\ae}
\gdef^^e7{\cedilla c}
\gdef^^e8{\`e}
\gdef^^e9{\&#39;e}
\gdef^^ea{\^e}
\gdef^^eb{\&quot;e}
\gdef^^ec{\`{\dotless i}}
\gdef^^ed{\&#39;{\dotless i}}
\gdef^^ee{\^{\dotless i}}
\gdef^^ef{\&quot;{\dotless i}}
%
\gdef^^f0{\dh}
\gdef^^f1{\~n}
\gdef^^f2{\`o}
\gdef^^f3{\&#39;o}
\gdef^^f4{\^o}
\gdef^^f5{\~o}
\gdef^^f6{\&quot;o}
\gdef^^f7{$\div$}
\gdef^^f8{\o}
\gdef^^f9{\`u}
\gdef^^fa{\&#39;u}
\gdef^^fb{\^u}
\gdef^^fc{\&quot;u}
\gdef^^fd{\&#39;y}
\gdef^^fe{\th}
\gdef^^ff{\&quot;y}</pre>

<p>}</p>

<p>% Latin9 (ISO-8859-15) encoding character definitions. deflatninechardefs{%</p>

<pre>% Encoding is almost identical to Latin1.
\latonechardefs
%
\gdef^^a4{\euro}
\gdef^^a6{\v S}
\gdef^^a8{\v s}
\gdef^^b4{\v Z}
\gdef^^b8{\v z}
\gdef^^bc{\OE}
\gdef^^bd{\oe}
\gdef^^be{\&quot;Y}</pre>

<p>}</p>

<p>% Latin2 (ISO-8859-2) character definitions. deflattwochardefs{%</p>

<pre>\gdef^^a0{\tie}
\gdef^^a1{\ogonek{A}}
\gdef^^a2{\u{}}
\gdef^^a3{\L}
\gdef^^a4{\missingcharmsg{CURRENCY SIGN}}
\gdef^^a5{\v L}
\gdef^^a6{\&#39;S}
\gdef^^a7{\S}
\gdef^^a8{\&quot;{}}
\gdef^^a9{\v S}
\gdef^^aa{\cedilla S}
\gdef^^ab{\v T}
\gdef^^ac{\&#39;Z}
\gdef^^ad{\-}
\gdef^^ae{\v Z}
\gdef^^af{\dotaccent Z}
%
\gdef^^b0{\textdegree}
\gdef^^b1{\ogonek{a}}
\gdef^^b2{\ogonek{ }}
\gdef^^b3{\l}
\gdef^^b4{\&#39;{}}
\gdef^^b5{\v l}
\gdef^^b6{\&#39;s}
\gdef^^b7{\v{}}
\gdef^^b8{\cedilla\ }
\gdef^^b9{\v s}
\gdef^^ba{\cedilla s}
\gdef^^bb{\v t}
\gdef^^bc{\&#39;z}
\gdef^^bd{\H{}}
\gdef^^be{\v z}
\gdef^^bf{\dotaccent z}
%
\gdef^^c0{\&#39;R}
\gdef^^c1{\&#39;A}
\gdef^^c2{\^A}
\gdef^^c3{\u A}
\gdef^^c4{\&quot;A}
\gdef^^c5{\&#39;L}
\gdef^^c6{\&#39;C}
\gdef^^c7{\cedilla C}
\gdef^^c8{\v C}
\gdef^^c9{\&#39;E}
\gdef^^ca{\ogonek{E}}
\gdef^^cb{\&quot;E}
\gdef^^cc{\v E}
\gdef^^cd{\&#39;I}
\gdef^^ce{\^I}
\gdef^^cf{\v D}
%
\gdef^^d0{\DH}
\gdef^^d1{\&#39;N}
\gdef^^d2{\v N}
\gdef^^d3{\&#39;O}
\gdef^^d4{\^O}
\gdef^^d5{\H O}
\gdef^^d6{\&quot;O}
\gdef^^d7{$\times$}
\gdef^^d8{\v R}
\gdef^^d9{\ringaccent U}
\gdef^^da{\&#39;U}
\gdef^^db{\H U}
\gdef^^dc{\&quot;U}
\gdef^^dd{\&#39;Y}
\gdef^^de{\cedilla T}
\gdef^^df{\ss}
%
\gdef^^e0{\&#39;r}
\gdef^^e1{\&#39;a}
\gdef^^e2{\^a}
\gdef^^e3{\u a}
\gdef^^e4{\&quot;a}
\gdef^^e5{\&#39;l}
\gdef^^e6{\&#39;c}
\gdef^^e7{\cedilla c}
\gdef^^e8{\v c}
\gdef^^e9{\&#39;e}
\gdef^^ea{\ogonek{e}}
\gdef^^eb{\&quot;e}
\gdef^^ec{\v e}
\gdef^^ed{\&#39;{\dotless{i}}}
\gdef^^ee{\^{\dotless{i}}}
\gdef^^ef{\v d}
%
\gdef^^f0{\dh}
\gdef^^f1{\&#39;n}
\gdef^^f2{\v n}
\gdef^^f3{\&#39;o}
\gdef^^f4{\^o}
\gdef^^f5{\H o}
\gdef^^f6{\&quot;o}
\gdef^^f7{$\div$}
\gdef^^f8{\v r}
\gdef^^f9{\ringaccent u}
\gdef^^fa{\&#39;u}
\gdef^^fb{\H u}
\gdef^^fc{\&quot;u}
\gdef^^fd{\&#39;y}
\gdef^^fe{\cedilla t}
\gdef^^ff{\dotaccent{}}</pre>

<p>}</p>

<p>% UTF-8 character definitions. % % This code to support UTF-8 is based on
LaTeX&#39;s utf8.def, with some % changes for Texinfo conventions.  It is
included here under the GPL by % permission from Frank Mittelbach and the
LaTeX team. % newcountcountUTFx newcountcountUTFy newcountcountUTFz</p>

<p>gdefUTFviiiTwoOctets#1#2{expandafter</p>

<pre>\UTFviiiDefined\csname u8:#1\string #2\endcsname}</pre>

<p>% gdefUTFviiiThreeOctets#1#2#3{expandafter</p>

<pre>\UTFviiiDefined\csname u8:#1\string #2\string #3\endcsname}</pre>

<p>% gdefUTFviiiFourOctets#1#2#3#4{expandafter</p>

<pre>\UTFviiiDefined\csname u8:#1\string #2\string #3\string #4\endcsname}</pre>

<p>gdefUTFviiiDefined#1{%</p>

<pre>\ifx #1\relax
  \message{\linenumber Unicode char \string #1 not defined for Texinfo}%
\else
  \expandafter #1%
\fi</pre>

<p>}</p>

<p>begingroup</p>

<pre>\catcode`\~13
\catcode`\&quot;12

\def\UTFviiiLoop{%
  \global\catcode\countUTFx\active
  \uccode`\~\countUTFx
  \uppercase\expandafter{\UTFviiiTmp}%
  \advance\countUTFx by 1
  \ifnum\countUTFx &lt; \countUTFy
    \expandafter\UTFviiiLoop
  \fi}

\countUTFx = &quot;C2
\countUTFy = &quot;E0
\def\UTFviiiTmp{%
  \xdef~{\noexpand\UTFviiiTwoOctets\string~}}
\UTFviiiLoop

\countUTFx = &quot;E0
\countUTFy = &quot;F0
\def\UTFviiiTmp{%
  \xdef~{\noexpand\UTFviiiThreeOctets\string~}}
\UTFviiiLoop

\countUTFx = &quot;F0
\countUTFy = &quot;F4
\def\UTFviiiTmp{%
  \xdef~{\noexpand\UTFviiiFourOctets\string~}}
\UTFviiiLoop</pre>

<p>endgroup</p>

<p>begingroup</p>

<pre>\catcode`\&quot;=12
\catcode`\&lt;=12
\catcode`\.=12
\catcode`\,=12
\catcode`\;=12
\catcode`\!=12
\catcode`\~=13

\gdef\DeclareUnicodeCharacter#1#2{%
  \countUTFz = &quot;#1\relax
  %\wlog{\space\space defining Unicode char U+#1 (decimal \the\countUTFz)}%
  \begingroup
    \parseXMLCharref
    \def\UTFviiiTwoOctets##1##2{%
      \csname u8:##1\string ##2\endcsname}%
    \def\UTFviiiThreeOctets##1##2##3{%
      \csname u8:##1\string ##2\string ##3\endcsname}%
    \def\UTFviiiFourOctets##1##2##3##4{%
      \csname u8:##1\string ##2\string ##3\string ##4\endcsname}%
    \expandafter\expandafter\expandafter\expandafter
     \expandafter\expandafter\expandafter
     \gdef\UTFviiiTmp{#2}%
  \endgroup}

\gdef\parseXMLCharref{%
  \ifnum\countUTFz &lt; &quot;A0\relax
    \errhelp = \EMsimple
    \errmessage{Cannot define Unicode char value &lt; 00A0}%
  \else\ifnum\countUTFz &lt; &quot;800\relax
    \parseUTFviiiA,%
    \parseUTFviiiB C\UTFviiiTwoOctets.,%
  \else\ifnum\countUTFz &lt; &quot;10000\relax
    \parseUTFviiiA;%
    \parseUTFviiiA,%
    \parseUTFviiiB E\UTFviiiThreeOctets.{,;}%
  \else
    \parseUTFviiiA;%
    \parseUTFviiiA,%
    \parseUTFviiiA!%
    \parseUTFviiiB F\UTFviiiFourOctets.{!,;}%
  \fi\fi\fi
}

\gdef\parseUTFviiiA#1{%
  \countUTFx = \countUTFz
  \divide\countUTFz by 64
  \countUTFy = \countUTFz
  \multiply\countUTFz by 64
  \advance\countUTFx by -\countUTFz
  \advance\countUTFx by 128
  \uccode `#1\countUTFx
  \countUTFz = \countUTFy}

\gdef\parseUTFviiiB#1#2#3#4{%
  \advance\countUTFz by &quot;#10\relax
  \uccode `#3\countUTFz
  \uppercase{\gdef\UTFviiiTmp{#2#3#4}}}</pre>

<p>endgroup</p>

<p>defutfeightchardefs{%</p>

<pre>\DeclareUnicodeCharacter{00A0}{\tie}
\DeclareUnicodeCharacter{00A1}{\exclamdown}
\DeclareUnicodeCharacter{00A3}{\pounds}
\DeclareUnicodeCharacter{00A8}{\&quot;{ }}
\DeclareUnicodeCharacter{00A9}{\copyright}
\DeclareUnicodeCharacter{00AA}{\ordf}
\DeclareUnicodeCharacter{00AB}{\guillemetleft}
\DeclareUnicodeCharacter{00AD}{\-}
\DeclareUnicodeCharacter{00AE}{\registeredsymbol}
\DeclareUnicodeCharacter{00AF}{\={ }}

\DeclareUnicodeCharacter{00B0}{\ringaccent{ }}
\DeclareUnicodeCharacter{00B4}{\&#39;{ }}
\DeclareUnicodeCharacter{00B8}{\cedilla{ }}
\DeclareUnicodeCharacter{00BA}{\ordm}
\DeclareUnicodeCharacter{00BB}{\guillemetright}
\DeclareUnicodeCharacter{00BF}{\questiondown}

\DeclareUnicodeCharacter{00C0}{\`A}
\DeclareUnicodeCharacter{00C1}{\&#39;A}
\DeclareUnicodeCharacter{00C2}{\^A}
\DeclareUnicodeCharacter{00C3}{\~A}
\DeclareUnicodeCharacter{00C4}{\&quot;A}
\DeclareUnicodeCharacter{00C5}{\AA}
\DeclareUnicodeCharacter{00C6}{\AE}
\DeclareUnicodeCharacter{00C7}{\cedilla{C}}
\DeclareUnicodeCharacter{00C8}{\`E}
\DeclareUnicodeCharacter{00C9}{\&#39;E}
\DeclareUnicodeCharacter{00CA}{\^E}
\DeclareUnicodeCharacter{00CB}{\&quot;E}
\DeclareUnicodeCharacter{00CC}{\`I}
\DeclareUnicodeCharacter{00CD}{\&#39;I}
\DeclareUnicodeCharacter{00CE}{\^I}
\DeclareUnicodeCharacter{00CF}{\&quot;I}

\DeclareUnicodeCharacter{00D0}{\DH}
\DeclareUnicodeCharacter{00D1}{\~N}
\DeclareUnicodeCharacter{00D2}{\`O}
\DeclareUnicodeCharacter{00D3}{\&#39;O}
\DeclareUnicodeCharacter{00D4}{\^O}
\DeclareUnicodeCharacter{00D5}{\~O}
\DeclareUnicodeCharacter{00D6}{\&quot;O}
\DeclareUnicodeCharacter{00D8}{\O}
\DeclareUnicodeCharacter{00D9}{\`U}
\DeclareUnicodeCharacter{00DA}{\&#39;U}
\DeclareUnicodeCharacter{00DB}{\^U}
\DeclareUnicodeCharacter{00DC}{\&quot;U}
\DeclareUnicodeCharacter{00DD}{\&#39;Y}
\DeclareUnicodeCharacter{00DE}{\TH}
\DeclareUnicodeCharacter{00DF}{\ss}

\DeclareUnicodeCharacter{00E0}{\`a}
\DeclareUnicodeCharacter{00E1}{\&#39;a}
\DeclareUnicodeCharacter{00E2}{\^a}
\DeclareUnicodeCharacter{00E3}{\~a}
\DeclareUnicodeCharacter{00E4}{\&quot;a}
\DeclareUnicodeCharacter{00E5}{\aa}
\DeclareUnicodeCharacter{00E6}{\ae}
\DeclareUnicodeCharacter{00E7}{\cedilla{c}}
\DeclareUnicodeCharacter{00E8}{\`e}
\DeclareUnicodeCharacter{00E9}{\&#39;e}
\DeclareUnicodeCharacter{00EA}{\^e}
\DeclareUnicodeCharacter{00EB}{\&quot;e}
\DeclareUnicodeCharacter{00EC}{\`{\dotless{i}}}
\DeclareUnicodeCharacter{00ED}{\&#39;{\dotless{i}}}
\DeclareUnicodeCharacter{00EE}{\^{\dotless{i}}}
\DeclareUnicodeCharacter{00EF}{\&quot;{\dotless{i}}}

\DeclareUnicodeCharacter{00F0}{\dh}
\DeclareUnicodeCharacter{00F1}{\~n}
\DeclareUnicodeCharacter{00F2}{\`o}
\DeclareUnicodeCharacter{00F3}{\&#39;o}
\DeclareUnicodeCharacter{00F4}{\^o}
\DeclareUnicodeCharacter{00F5}{\~o}
\DeclareUnicodeCharacter{00F6}{\&quot;o}
\DeclareUnicodeCharacter{00F8}{\o}
\DeclareUnicodeCharacter{00F9}{\`u}
\DeclareUnicodeCharacter{00FA}{\&#39;u}
\DeclareUnicodeCharacter{00FB}{\^u}
\DeclareUnicodeCharacter{00FC}{\&quot;u}
\DeclareUnicodeCharacter{00FD}{\&#39;y}
\DeclareUnicodeCharacter{00FE}{\th}
\DeclareUnicodeCharacter{00FF}{\&quot;y}

\DeclareUnicodeCharacter{0100}{\=A}
\DeclareUnicodeCharacter{0101}{\=a}
\DeclareUnicodeCharacter{0102}{\u{A}}
\DeclareUnicodeCharacter{0103}{\u{a}}
\DeclareUnicodeCharacter{0104}{\ogonek{A}}
\DeclareUnicodeCharacter{0105}{\ogonek{a}}
\DeclareUnicodeCharacter{0106}{\&#39;C}
\DeclareUnicodeCharacter{0107}{\&#39;c}
\DeclareUnicodeCharacter{0108}{\^C}
\DeclareUnicodeCharacter{0109}{\^c}
\DeclareUnicodeCharacter{0118}{\ogonek{E}}
\DeclareUnicodeCharacter{0119}{\ogonek{e}}
\DeclareUnicodeCharacter{010A}{\dotaccent{C}}
\DeclareUnicodeCharacter{010B}{\dotaccent{c}}
\DeclareUnicodeCharacter{010C}{\v{C}}
\DeclareUnicodeCharacter{010D}{\v{c}}
\DeclareUnicodeCharacter{010E}{\v{D}}

\DeclareUnicodeCharacter{0112}{\=E}
\DeclareUnicodeCharacter{0113}{\=e}
\DeclareUnicodeCharacter{0114}{\u{E}}
\DeclareUnicodeCharacter{0115}{\u{e}}
\DeclareUnicodeCharacter{0116}{\dotaccent{E}}
\DeclareUnicodeCharacter{0117}{\dotaccent{e}}
\DeclareUnicodeCharacter{011A}{\v{E}}
\DeclareUnicodeCharacter{011B}{\v{e}}
\DeclareUnicodeCharacter{011C}{\^G}
\DeclareUnicodeCharacter{011D}{\^g}
\DeclareUnicodeCharacter{011E}{\u{G}}
\DeclareUnicodeCharacter{011F}{\u{g}}

\DeclareUnicodeCharacter{0120}{\dotaccent{G}}
\DeclareUnicodeCharacter{0121}{\dotaccent{g}}
\DeclareUnicodeCharacter{0124}{\^H}
\DeclareUnicodeCharacter{0125}{\^h}
\DeclareUnicodeCharacter{0128}{\~I}
\DeclareUnicodeCharacter{0129}{\~{\dotless{i}}}
\DeclareUnicodeCharacter{012A}{\=I}
\DeclareUnicodeCharacter{012B}{\={\dotless{i}}}
\DeclareUnicodeCharacter{012C}{\u{I}}
\DeclareUnicodeCharacter{012D}{\u{\dotless{i}}}

\DeclareUnicodeCharacter{0130}{\dotaccent{I}}
\DeclareUnicodeCharacter{0131}{\dotless{i}}
\DeclareUnicodeCharacter{0132}{IJ}
\DeclareUnicodeCharacter{0133}{ij}
\DeclareUnicodeCharacter{0134}{\^J}
\DeclareUnicodeCharacter{0135}{\^{\dotless{j}}}
\DeclareUnicodeCharacter{0139}{\&#39;L}
\DeclareUnicodeCharacter{013A}{\&#39;l}

\DeclareUnicodeCharacter{0141}{\L}
\DeclareUnicodeCharacter{0142}{\l}
\DeclareUnicodeCharacter{0143}{\&#39;N}
\DeclareUnicodeCharacter{0144}{\&#39;n}
\DeclareUnicodeCharacter{0147}{\v{N}}
\DeclareUnicodeCharacter{0148}{\v{n}}
\DeclareUnicodeCharacter{014C}{\=O}
\DeclareUnicodeCharacter{014D}{\=o}
\DeclareUnicodeCharacter{014E}{\u{O}}
\DeclareUnicodeCharacter{014F}{\u{o}}

\DeclareUnicodeCharacter{0150}{\H{O}}
\DeclareUnicodeCharacter{0151}{\H{o}}
\DeclareUnicodeCharacter{0152}{\OE}
\DeclareUnicodeCharacter{0153}{\oe}
\DeclareUnicodeCharacter{0154}{\&#39;R}
\DeclareUnicodeCharacter{0155}{\&#39;r}
\DeclareUnicodeCharacter{0158}{\v{R}}
\DeclareUnicodeCharacter{0159}{\v{r}}
\DeclareUnicodeCharacter{015A}{\&#39;S}
\DeclareUnicodeCharacter{015B}{\&#39;s}
\DeclareUnicodeCharacter{015C}{\^S}
\DeclareUnicodeCharacter{015D}{\^s}
\DeclareUnicodeCharacter{015E}{\cedilla{S}}
\DeclareUnicodeCharacter{015F}{\cedilla{s}}

\DeclareUnicodeCharacter{0160}{\v{S}}
\DeclareUnicodeCharacter{0161}{\v{s}}
\DeclareUnicodeCharacter{0162}{\cedilla{t}}
\DeclareUnicodeCharacter{0163}{\cedilla{T}}
\DeclareUnicodeCharacter{0164}{\v{T}}

\DeclareUnicodeCharacter{0168}{\~U}
\DeclareUnicodeCharacter{0169}{\~u}
\DeclareUnicodeCharacter{016A}{\=U}
\DeclareUnicodeCharacter{016B}{\=u}
\DeclareUnicodeCharacter{016C}{\u{U}}
\DeclareUnicodeCharacter{016D}{\u{u}}
\DeclareUnicodeCharacter{016E}{\ringaccent{U}}
\DeclareUnicodeCharacter{016F}{\ringaccent{u}}

\DeclareUnicodeCharacter{0170}{\H{U}}
\DeclareUnicodeCharacter{0171}{\H{u}}
\DeclareUnicodeCharacter{0174}{\^W}
\DeclareUnicodeCharacter{0175}{\^w}
\DeclareUnicodeCharacter{0176}{\^Y}
\DeclareUnicodeCharacter{0177}{\^y}
\DeclareUnicodeCharacter{0178}{\&quot;Y}
\DeclareUnicodeCharacter{0179}{\&#39;Z}
\DeclareUnicodeCharacter{017A}{\&#39;z}
\DeclareUnicodeCharacter{017B}{\dotaccent{Z}}
\DeclareUnicodeCharacter{017C}{\dotaccent{z}}
\DeclareUnicodeCharacter{017D}{\v{Z}}
\DeclareUnicodeCharacter{017E}{\v{z}}

\DeclareUnicodeCharacter{01C4}{D\v{Z}}
\DeclareUnicodeCharacter{01C5}{D\v{z}}
\DeclareUnicodeCharacter{01C6}{d\v{z}}
\DeclareUnicodeCharacter{01C7}{LJ}
\DeclareUnicodeCharacter{01C8}{Lj}
\DeclareUnicodeCharacter{01C9}{lj}
\DeclareUnicodeCharacter{01CA}{NJ}
\DeclareUnicodeCharacter{01CB}{Nj}
\DeclareUnicodeCharacter{01CC}{nj}
\DeclareUnicodeCharacter{01CD}{\v{A}}
\DeclareUnicodeCharacter{01CE}{\v{a}}
\DeclareUnicodeCharacter{01CF}{\v{I}}

\DeclareUnicodeCharacter{01D0}{\v{\dotless{i}}}
\DeclareUnicodeCharacter{01D1}{\v{O}}
\DeclareUnicodeCharacter{01D2}{\v{o}}
\DeclareUnicodeCharacter{01D3}{\v{U}}
\DeclareUnicodeCharacter{01D4}{\v{u}}

\DeclareUnicodeCharacter{01E2}{\={\AE}}
\DeclareUnicodeCharacter{01E3}{\={\ae}}
\DeclareUnicodeCharacter{01E6}{\v{G}}
\DeclareUnicodeCharacter{01E7}{\v{g}}
\DeclareUnicodeCharacter{01E8}{\v{K}}
\DeclareUnicodeCharacter{01E9}{\v{k}}

\DeclareUnicodeCharacter{01F0}{\v{\dotless{j}}}
\DeclareUnicodeCharacter{01F1}{DZ}
\DeclareUnicodeCharacter{01F2}{Dz}
\DeclareUnicodeCharacter{01F3}{dz}
\DeclareUnicodeCharacter{01F4}{\&#39;G}
\DeclareUnicodeCharacter{01F5}{\&#39;g}
\DeclareUnicodeCharacter{01F8}{\`N}
\DeclareUnicodeCharacter{01F9}{\`n}
\DeclareUnicodeCharacter{01FC}{\&#39;{\AE}}
\DeclareUnicodeCharacter{01FD}{\&#39;{\ae}}
\DeclareUnicodeCharacter{01FE}{\&#39;{\O}}
\DeclareUnicodeCharacter{01FF}{\&#39;{\o}}

\DeclareUnicodeCharacter{021E}{\v{H}}
\DeclareUnicodeCharacter{021F}{\v{h}}

\DeclareUnicodeCharacter{0226}{\dotaccent{A}}
\DeclareUnicodeCharacter{0227}{\dotaccent{a}}
\DeclareUnicodeCharacter{0228}{\cedilla{E}}
\DeclareUnicodeCharacter{0229}{\cedilla{e}}
\DeclareUnicodeCharacter{022E}{\dotaccent{O}}
\DeclareUnicodeCharacter{022F}{\dotaccent{o}}

\DeclareUnicodeCharacter{0232}{\=Y}
\DeclareUnicodeCharacter{0233}{\=y}
\DeclareUnicodeCharacter{0237}{\dotless{j}}

\DeclareUnicodeCharacter{02DB}{\ogonek{ }}

\DeclareUnicodeCharacter{1E02}{\dotaccent{B}}
\DeclareUnicodeCharacter{1E03}{\dotaccent{b}}
\DeclareUnicodeCharacter{1E04}{\udotaccent{B}}
\DeclareUnicodeCharacter{1E05}{\udotaccent{b}}
\DeclareUnicodeCharacter{1E06}{\ubaraccent{B}}
\DeclareUnicodeCharacter{1E07}{\ubaraccent{b}}
\DeclareUnicodeCharacter{1E0A}{\dotaccent{D}}
\DeclareUnicodeCharacter{1E0B}{\dotaccent{d}}
\DeclareUnicodeCharacter{1E0C}{\udotaccent{D}}
\DeclareUnicodeCharacter{1E0D}{\udotaccent{d}}
\DeclareUnicodeCharacter{1E0E}{\ubaraccent{D}}
\DeclareUnicodeCharacter{1E0F}{\ubaraccent{d}}

\DeclareUnicodeCharacter{1E1E}{\dotaccent{F}}
\DeclareUnicodeCharacter{1E1F}{\dotaccent{f}}

\DeclareUnicodeCharacter{1E20}{\=G}
\DeclareUnicodeCharacter{1E21}{\=g}
\DeclareUnicodeCharacter{1E22}{\dotaccent{H}}
\DeclareUnicodeCharacter{1E23}{\dotaccent{h}}
\DeclareUnicodeCharacter{1E24}{\udotaccent{H}}
\DeclareUnicodeCharacter{1E25}{\udotaccent{h}}
\DeclareUnicodeCharacter{1E26}{\&quot;H}
\DeclareUnicodeCharacter{1E27}{\&quot;h}

\DeclareUnicodeCharacter{1E30}{\&#39;K}
\DeclareUnicodeCharacter{1E31}{\&#39;k}
\DeclareUnicodeCharacter{1E32}{\udotaccent{K}}
\DeclareUnicodeCharacter{1E33}{\udotaccent{k}}
\DeclareUnicodeCharacter{1E34}{\ubaraccent{K}}
\DeclareUnicodeCharacter{1E35}{\ubaraccent{k}}
\DeclareUnicodeCharacter{1E36}{\udotaccent{L}}
\DeclareUnicodeCharacter{1E37}{\udotaccent{l}}
\DeclareUnicodeCharacter{1E3A}{\ubaraccent{L}}
\DeclareUnicodeCharacter{1E3B}{\ubaraccent{l}}
\DeclareUnicodeCharacter{1E3E}{\&#39;M}
\DeclareUnicodeCharacter{1E3F}{\&#39;m}

\DeclareUnicodeCharacter{1E40}{\dotaccent{M}}
\DeclareUnicodeCharacter{1E41}{\dotaccent{m}}
\DeclareUnicodeCharacter{1E42}{\udotaccent{M}}
\DeclareUnicodeCharacter{1E43}{\udotaccent{m}}
\DeclareUnicodeCharacter{1E44}{\dotaccent{N}}
\DeclareUnicodeCharacter{1E45}{\dotaccent{n}}
\DeclareUnicodeCharacter{1E46}{\udotaccent{N}}
\DeclareUnicodeCharacter{1E47}{\udotaccent{n}}
\DeclareUnicodeCharacter{1E48}{\ubaraccent{N}}
\DeclareUnicodeCharacter{1E49}{\ubaraccent{n}}

\DeclareUnicodeCharacter{1E54}{\&#39;P}
\DeclareUnicodeCharacter{1E55}{\&#39;p}
\DeclareUnicodeCharacter{1E56}{\dotaccent{P}}
\DeclareUnicodeCharacter{1E57}{\dotaccent{p}}
\DeclareUnicodeCharacter{1E58}{\dotaccent{R}}
\DeclareUnicodeCharacter{1E59}{\dotaccent{r}}
\DeclareUnicodeCharacter{1E5A}{\udotaccent{R}}
\DeclareUnicodeCharacter{1E5B}{\udotaccent{r}}
\DeclareUnicodeCharacter{1E5E}{\ubaraccent{R}}
\DeclareUnicodeCharacter{1E5F}{\ubaraccent{r}}

\DeclareUnicodeCharacter{1E60}{\dotaccent{S}}
\DeclareUnicodeCharacter{1E61}{\dotaccent{s}}
\DeclareUnicodeCharacter{1E62}{\udotaccent{S}}
\DeclareUnicodeCharacter{1E63}{\udotaccent{s}}
\DeclareUnicodeCharacter{1E6A}{\dotaccent{T}}
\DeclareUnicodeCharacter{1E6B}{\dotaccent{t}}
\DeclareUnicodeCharacter{1E6C}{\udotaccent{T}}
\DeclareUnicodeCharacter{1E6D}{\udotaccent{t}}
\DeclareUnicodeCharacter{1E6E}{\ubaraccent{T}}
\DeclareUnicodeCharacter{1E6F}{\ubaraccent{t}}

\DeclareUnicodeCharacter{1E7C}{\~V}
\DeclareUnicodeCharacter{1E7D}{\~v}
\DeclareUnicodeCharacter{1E7E}{\udotaccent{V}}
\DeclareUnicodeCharacter{1E7F}{\udotaccent{v}}

\DeclareUnicodeCharacter{1E80}{\`W}
\DeclareUnicodeCharacter{1E81}{\`w}
\DeclareUnicodeCharacter{1E82}{\&#39;W}
\DeclareUnicodeCharacter{1E83}{\&#39;w}
\DeclareUnicodeCharacter{1E84}{\&quot;W}
\DeclareUnicodeCharacter{1E85}{\&quot;w}
\DeclareUnicodeCharacter{1E86}{\dotaccent{W}}
\DeclareUnicodeCharacter{1E87}{\dotaccent{w}}
\DeclareUnicodeCharacter{1E88}{\udotaccent{W}}
\DeclareUnicodeCharacter{1E89}{\udotaccent{w}}
\DeclareUnicodeCharacter{1E8A}{\dotaccent{X}}
\DeclareUnicodeCharacter{1E8B}{\dotaccent{x}}
\DeclareUnicodeCharacter{1E8C}{\&quot;X}
\DeclareUnicodeCharacter{1E8D}{\&quot;x}
\DeclareUnicodeCharacter{1E8E}{\dotaccent{Y}}
\DeclareUnicodeCharacter{1E8F}{\dotaccent{y}}

\DeclareUnicodeCharacter{1E90}{\^Z}
\DeclareUnicodeCharacter{1E91}{\^z}
\DeclareUnicodeCharacter{1E92}{\udotaccent{Z}}
\DeclareUnicodeCharacter{1E93}{\udotaccent{z}}
\DeclareUnicodeCharacter{1E94}{\ubaraccent{Z}}
\DeclareUnicodeCharacter{1E95}{\ubaraccent{z}}
\DeclareUnicodeCharacter{1E96}{\ubaraccent{h}}
\DeclareUnicodeCharacter{1E97}{\&quot;t}
\DeclareUnicodeCharacter{1E98}{\ringaccent{w}}
\DeclareUnicodeCharacter{1E99}{\ringaccent{y}}

\DeclareUnicodeCharacter{1EA0}{\udotaccent{A}}
\DeclareUnicodeCharacter{1EA1}{\udotaccent{a}}

\DeclareUnicodeCharacter{1EB8}{\udotaccent{E}}
\DeclareUnicodeCharacter{1EB9}{\udotaccent{e}}
\DeclareUnicodeCharacter{1EBC}{\~E}
\DeclareUnicodeCharacter{1EBD}{\~e}

\DeclareUnicodeCharacter{1ECA}{\udotaccent{I}}
\DeclareUnicodeCharacter{1ECB}{\udotaccent{i}}
\DeclareUnicodeCharacter{1ECC}{\udotaccent{O}}
\DeclareUnicodeCharacter{1ECD}{\udotaccent{o}}

\DeclareUnicodeCharacter{1EE4}{\udotaccent{U}}
\DeclareUnicodeCharacter{1EE5}{\udotaccent{u}}

\DeclareUnicodeCharacter{1EF2}{\`Y}
\DeclareUnicodeCharacter{1EF3}{\`y}
\DeclareUnicodeCharacter{1EF4}{\udotaccent{Y}}

\DeclareUnicodeCharacter{1EF8}{\~Y}
\DeclareUnicodeCharacter{1EF9}{\~y}

\DeclareUnicodeCharacter{2013}{--}
\DeclareUnicodeCharacter{2014}{---}
\DeclareUnicodeCharacter{2018}{\quoteleft}
\DeclareUnicodeCharacter{2019}{\quoteright}
\DeclareUnicodeCharacter{201A}{\quotesinglbase}
\DeclareUnicodeCharacter{201C}{\quotedblleft}
\DeclareUnicodeCharacter{201D}{\quotedblright}
\DeclareUnicodeCharacter{201E}{\quotedblbase}
\DeclareUnicodeCharacter{2022}{\bullet}
\DeclareUnicodeCharacter{2026}{\dots}
\DeclareUnicodeCharacter{2039}{\guilsinglleft}
\DeclareUnicodeCharacter{203A}{\guilsinglright}
\DeclareUnicodeCharacter{20AC}{\euro}

\DeclareUnicodeCharacter{2192}{\expansion}
\DeclareUnicodeCharacter{21D2}{\result}

\DeclareUnicodeCharacter{2212}{\minus}
\DeclareUnicodeCharacter{2217}{\point}
\DeclareUnicodeCharacter{2261}{\equiv}</pre>

<p>}% end of utfeightchardefs</p>

<p>% US-ASCII character definitions. defasciichardefs{% nothing need be done</p>

<pre>\relax</pre>

<p>}</p>

<p>% Make non-ASCII characters printable again for compatibility with %
existing Texinfo documents that may use them, even without declaring a %
document encoding. % setnonasciicharscatcode other</p>

<p>message{formatting,}</p>

<p>newdimendefaultparindent defaultparindent = 15pt</p>

<p>chapheadingskip = 15pt plus 4pt minus 2pt secheadingskip = 12pt plus 3pt
minus 2pt subsecheadingskip = 9pt plus 2pt minus 2pt</p>

<p>% Prevent underfull vbox error messages. vbadness = 10000</p>

<p>% Don&#39;t be very finicky about underfull hboxes, either. hbadness = 6666</p>

<p>% Following George Bush, get rid of widows and orphans. widowpenalty=10000
clubpenalty=10000</p>

<p>% Use TeX 3.0&#39;s emergencystretch to help line breaking, but if
we&#39;re % using an old version of TeX, don&#39;t do anything.  We want
the amount of % stretch added to depend on the line length, hence the
dependence on % hsize.  We call this whenever the paper size is set. %
defsetemergencystretch{%</p>

<pre>\ifx\emergencystretch\thisisundefined
  % Allow us to assign to \emergencystretch anyway.
  \def\emergencystretch{\dimen0}%
\else
  \emergencystretch = .15\hsize
\fi</pre>

<p>}</p>

<p>% Parameters in order: 1) textheight; 2) textwidth; % 3) voffset; 4)
hoffset; 5) binding offset; 6) topskip; % 7) physical page height; 8)
physical page width. % % We also call setleading{textleading}, so the
caller should define % textleading.  The caller should also set parskip. %
definternalpagesizes#1#2#3#4#5#6#7#8{%</p>

<pre>\voffset = #3\relax
\topskip = #6\relax
\splittopskip = \topskip
%
\vsize = #1\relax
\advance\vsize by \topskip
\outervsize = \vsize
\advance\outervsize by 2\topandbottommargin
\pageheight = \vsize
%
\hsize = #2\relax
\outerhsize = \hsize
\advance\outerhsize by 0.5in
\pagewidth = \hsize
%
\normaloffset = #4\relax
\bindingoffset = #5\relax
%
\ifpdf
  \pdfpageheight #7\relax
  \pdfpagewidth #8\relax
  % if we don&#39;t reset these, they will remain at &quot;1 true in&quot; of
  % whatever layout pdftex was dumped with.
  \pdfhorigin = 1 true in
  \pdfvorigin = 1 true in
\fi
%
\setleading{\textleading}
%
\parindent = \defaultparindent
\setemergencystretch</pre>

<p>}</p>

<p>% @letterpaper (the default). defletterpaper{{globaldefs = 1</p>

<pre>\parskip = 3pt plus 2pt minus 1pt
\textleading = 13.2pt
%
% If page is nothing but text, make it come out even.
\internalpagesizes{607.2pt}{6in}% that&#39;s 46 lines
                  {\voffset}{.25in}%
                  {\bindingoffset}{36pt}%
                  {11in}{8.5in}%</pre>

<p>}}</p>

<p>% Use @smallbook to reset parameters for 7x9.25 trim size.
defsmallbook{{globaldefs = 1</p>

<pre>\parskip = 2pt plus 1pt
\textleading = 12pt
%
\internalpagesizes{7.5in}{5in}%
                  {-.2in}{0in}%
                  {\bindingoffset}{16pt}%
                  {9.25in}{7in}%
%
\lispnarrowing = 0.3in
\tolerance = 700
\hfuzz = 1pt
\contentsrightmargin = 0pt
\defbodyindent = .5cm</pre>

<p>}}</p>

<p>% Use @smallerbook to reset parameters for 6x9 trim size. % (Just testing,
parameters still in flux.) defsmallerbook{{globaldefs = 1</p>

<pre>\parskip = 1.5pt plus 1pt
\textleading = 12pt
%
\internalpagesizes{7.4in}{4.8in}%
                  {-.2in}{-.4in}%
                  {0pt}{14pt}%
                  {9in}{6in}%
%
\lispnarrowing = 0.25in
\tolerance = 700
\hfuzz = 1pt
\contentsrightmargin = 0pt
\defbodyindent = .4cm</pre>

<p>}}</p>

<p>% Use @afourpaper to print on European A4 paper. defafourpaper{{globaldefs
= 1</p>

<pre>\parskip = 3pt plus 2pt minus 1pt
\textleading = 13.2pt
%
% Double-side printing via postscript on Laserjet 4050
% prints double-sided nicely when \bindingoffset=10mm and \hoffset=-6mm.
% To change the settings for a different printer or situation, adjust
% \normaloffset until the front-side and back-side texts align.  Then
% do the same for \bindingoffset.  You can set these for testing in
% your texinfo source file like this:
% @tex
% \global\normaloffset = -6mm
% \global\bindingoffset = 10mm
% @end tex
\internalpagesizes{673.2pt}{160mm}% that&#39;s 51 lines
                  {\voffset}{\hoffset}%
                  {\bindingoffset}{44pt}%
                  {297mm}{210mm}%
%
\tolerance = 700
\hfuzz = 1pt
\contentsrightmargin = 0pt
\defbodyindent = 5mm</pre>

<p>}}</p>

<p>% Use @afivepaper to print on European A5 paper. % From
romildo@urano.iceb.ufop.br, 2 July 2000. % He also recommends making
@example and @lisp be small. defafivepaper{{globaldefs = 1</p>

<pre>\parskip = 2pt plus 1pt minus 0.1pt
\textleading = 12.5pt
%
\internalpagesizes{160mm}{120mm}%
                  {\voffset}{\hoffset}%
                  {\bindingoffset}{8pt}%
                  {210mm}{148mm}%
%
\lispnarrowing = 0.2in
\tolerance = 800
\hfuzz = 1.2pt
\contentsrightmargin = 0pt
\defbodyindent = 2mm
\tableindent = 12mm</pre>

<p>}}</p>

<p>% A specific text layout, 24x15cm overall, intended for A4 paper.
defafourlatex{{globaldefs = 1</p>

<pre>\afourpaper
\internalpagesizes{237mm}{150mm}%
                  {\voffset}{4.6mm}%
                  {\bindingoffset}{7mm}%
                  {297mm}{210mm}%
%
% Must explicitly reset to 0 because we call \afourpaper.
\globaldefs = 0</pre>

<p>}}</p>

<p>% Use @afourwide to print on A4 paper in landscape format.
defafourwide{{globaldefs = 1</p>

<pre>\afourpaper
\internalpagesizes{241mm}{165mm}%
                  {\voffset}{-2.95mm}%
                  {\bindingoffset}{7mm}%
                  {297mm}{210mm}%
\globaldefs = 0</pre>

<p>}}</p>

<p>% @pagesizes <a href=",TEXTWIDTH">TEXTHEIGHT</a> % Perhaps we should allow
setting the margins, topskip, parskip, % and/or leading, also. Or perhaps
we should compute them somehow. % parseargdefpagesizes{pagesizesyyy
#1,,finish} defpagesizesyyy#1,#2,#3finish{{%</p>

<pre>\setbox0 = \hbox{\ignorespaces #2}\ifdim\wd0 &gt; 0pt \hsize=#2\relax \fi
\globaldefs = 1
%
\parskip = 3pt plus 2pt minus 1pt
\setleading{\textleading}%
%
\dimen0 = #1\relax
\advance\dimen0 by \voffset
%
\dimen2 = \hsize
\advance\dimen2 by \normaloffset
%
\internalpagesizes{#1}{\hsize}%
                  {\voffset}{\normaloffset}%
                  {\bindingoffset}{44pt}%
                  {\dimen0}{\dimen2}%</pre>

<p>}}</p>

<p>% Set default to letter. % letterpaper</p>

<p>message{and turning on texinfo input format.}</p>

<p>def^^L{par} % remove outer, so ^L can appear in an @comment</p>

<p>% DEL is a comment character, in case @c does not suffice. catcode`^^? = 14</p>

<p>% Define macros to output various characters with catcode for normal text.
catcode`&quot;=other defnormaldoublequote{“} catcode`$=other
defnormaldollar{$}%$ font-lock fix catcode`+=other defnormalplus{+}
catcode`&lt;=other defnormalless{&lt;} catcode`&gt;=other
defnormalgreater{&gt;} catcode`^=other defnormalcaret{^} catcode`_=other
defnormalunderscore{_} catcode`|=other defnormalverticalbar{|}
catcode`~=other defnormaltilde{~}</p>

<p>% This macro is used to make a character print one way in tt % (where it
can probably be output as-is), and another way in other fonts, % where
something hairier probably needs to be done. % % #1 is what to print if we
are indeed using tt; #2 is what to print % otherwise.  Since all the
Computer Modern typewriter fonts have zero % interword stretch (and
shrink), and it is reasonable to expect all % typewriter fonts to have
this, we can check that font parameter. % defifusingtt#1#2{ifdim
fontdimen3font=0pt #1else #2fi}</p>

<p>% Same as above, but check for italic font.  Actually this also catches %
non-italic slanted fonts since it is impossible to distinguish them from %
italic fonts.  But since this is only used by $ and it uses sl anyway %
this is not a problem. defifusingit#1#2{ifdim fontdimen1font&gt;0pt #1else
#2fi}</p>

<p>% Turn off all special characters except @ % (and those which the user can
use as if they were ordinary). % Most of these we simply print from the tt
font, but for some, we can % use math or other variants that look better in
normal text.</p>

<p>catcode`&quot;=active defactivedoublequote{{ttchar34}}
let“=activedoublequote catcode`~=active def~{{ttchar126}} chardefhat=`^
catcode`^=active def^{{tt hat}}</p>

<p>catcode`_=active def_{ifusingttnormalunderscore_} letrealunder=_ %
Subroutine for the previous macro. def_{leavevmode kern.07em vbox{hrule
width.3em height.1ex}kern .07em }</p>

<p>catcode`|=active def|{{ttchar124}} chardef less=`&lt; catcode`&lt;=active
def&lt;{{tt less}} chardef gtr=`&gt; catcode`&gt;=active def&gt;{{tt gtr}}
catcode`+=active def+{{tt char 43}} catcode`$=active
def${ifusingit{{sl$}}normaldollar}%$ font-lock fix</p>

<p>% If a .fmt file is being used, characters that might appear in a file %
name cannot be active until we have parsed the command line. % So turn them
off again, and have everyjob (or @setfilename) turn them on. %
otherifyactive is called near the end of this file.
defotherifyactive{catcode`+=other catcode`_=other}</p>

<p>% Used sometimes to turn off (effectively) the active characters even after
% parsing them. defturnoffactive{%</p>

<pre>\normalturnoffactive
\otherbackslash</pre>

<p>}</p>

<p>catcode`@=0</p>

<p>% backslashcurfont outputs one backslash character in current font, % as in
char`\. globalchardefbackslashcurfont=`\
globalletrawbackslashxx=backslashcurfont  % let existing .??s files work</p>

<p>% realbackslash is an actual character `&#39; with catcode other, and %
doublebackslash is two of them (for the pdf outlines). {catcode`\=other
@gdef@realbackslash{} @gdef@doublebackslash{\}}</p>

<p>% In texinfo, backslash is an active character; it prints the backslash %
in fixed width font. catcode`\=active  % @ for escape char from now on.</p>

<p>% The story here is that in math mode, the char of backslashcurfont % ends
up printing the roman \ from the math symbol font (because char % in math
mode uses the mathcode, and plain.tex sets % mathcode`\=“026E).  It seems
better for @backslashchar{} to always % print a typewriter backslash, hence
we use an explicit mathchar, % which is the decimal equivalent of ”715c
(class 7, e.g., use fam; % ignored family value; char position “5C).  We
can&#39;t use ” for the % usual hex value because it has already been made
active. @def@normalbackslash{{@tt @ifmmode @mathchar29020 @else
@backslashcurfont @fi}} @let@backslashchar = @normalbackslash %
@backslashchar{} is for user documents.</p>

<p>% On startup, @fixbackslash assigns: %  @let \ = @normalbackslash %
rawbackslash defines an active \ to do backslashcurfont. % otherbackslash
defines an active \ to be a literal `&#39; character with % catcode other. 
We switch back and forth between these.
@gdef@rawbackslash{@let=@backslashcurfont}
@gdef@otherbackslash{@let=@realbackslash}</p>

<p>% Same as @turnoffactive except outputs \ as {ttchar`\} instead of % the
literal character `&#39;.  Also revert - to its normal character, in % case
the active - from code has slipped in. % {@catcode`- = @active</p>

<pre>@gdef@normalturnoffactive{%
  @let-=@normaldash
  @let&quot;=@normaldoublequote
  @let$=@normaldollar %$ font-lock fix
  @let+=@normalplus
  @let&lt;=@normalless
  @let&gt;=@normalgreater
  @let\=@normalbackslash
  @let^=@normalcaret
  @let_=@normalunderscore
  @let|=@normalverticalbar
  @let~=@normaltilde
  @markupsetuplqdefault
  @markupsetuprqdefault
  @unsepspaces
}</pre>

<p>}</p>

<p>% Make _ and + other characters, temporarily. % This is canceled by
@fixbackslash. @otherifyactive</p>

<p>% If a .fmt file is being used, we don&#39;t want the `input texinfo&#39;
to show up. % That is what eatinput is for; after that, the `&#39; should
revert to printing % a backslash. % @gdef@eatinput input
texinfo{@fixbackslash} @global@let\ = @eatinput</p>

<p>% On the other hand, perhaps the file did not have a `input texinfo&#39;.
Then % the first `&#39; in the file would cause an error. This macro tries
to fix % that, assuming it is called before the first `&#39; could
plausibly occur. % Also turn back on active characters that might appear in
the input % file name, in case not using a pre-dumped format. %
@gdef@fixbackslash{%</p>

<pre>@ifx\@eatinput @let\ = @normalbackslash @fi
@catcode`+=@active
@catcode`@_=@active</pre>

<p>}</p>

<p>% Say @foo, not foo, in error messages. @escapechar = `@@</p>

<p>% These (along with &amp; and #) are made active for url-breaking, so need
% active definitions as the normal characters. @def@normaldot{.}
@def@normalquest{?} @def@normalslash{/}</p>

<p>% These look ok in all fonts, so just make them not special. % @hashchar{}
gets its own user-level command, because of line. @catcode`@&amp; = @other
@def@normalamp{&amp;} @catcode`@# = @other @def@normalhash{#} @catcode`@% =
@other @def@normalpercent{%}</p>

<p>@let @hashchar = @normalhash</p>

<p>@c Finally, make ` and &#39; active, so that txicodequoteundirected and @c
txicodequotebacktick work right in, e.g., @w{@code{`foo&#39;}}.  If we @c
don&#39;t make ` and &#39; active, @code will not get them as active chars.
@c Do this last of all since we use ` in the previous @catcode assignments.
@catcode`@&#39;=@active @catcode`@`=@active @markupsetuplqdefault
@markupsetuprqdefault</p>

<p>@c Local variables: @c eval: (add-hook &#39;write-file-hooks
&#39;time-stamp) @c page-delimiter: “^\\message” @c time-stamp-start:
“def\\texinfoversion{” @c time-stamp-format: “%:y-%02m-%02d.%02H” @c
time-stamp-end: “}” @c End:</p>

<p>@c vim:sw=2:</p>

<p>@ignore</p>

<pre>arch-tag: e1b36e32-c96e-4135-a41a-0b2efa2ea115</pre>

<p>@end ignore</p>
</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

