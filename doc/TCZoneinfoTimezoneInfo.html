<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>class TCZoneinfoTimezoneInfo - RDoc Documentation</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/jquery.js"></script>
<script src="./js/darkfish.js"></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">



<body id="top" role="document" class="class">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  

  <div id="class-metadata">
    
    <div id="parent-class-section" class="nav-section">
  <h3>Parent</h3>

  
  <p class="link"><a href="Minitest/Test.html">Minitest::Test</a>
  
</div>

    
    
    <!-- Method Quickref -->
<div id="method-list-section" class="nav-section">
  <h3>Methods</h3>

  <ul class="link-list" role="directory">
    
    <li ><a href="#method-i-assert_period">#assert_period</a>
    
    <li ><a href="#method-i-convert_times_to_i">#convert_times_to_i</a>
    
    <li ><a href="#method-i-pack_int64_network_order">#pack_int64_network_order</a>
    
    <li ><a href="#method-i-pack_int64_signed_network_order">#pack_int64_signed_network_order</a>
    
    <li ><a href="#method-i-select_with_32bit_values">#select_with_32bit_values</a>
    
    <li ><a href="#method-i-test_load">#test_load</a>
    
    <li ><a href="#method-i-test_load_32bit_range">#test_load_32bit_range</a>
    
    <li ><a href="#method-i-test_load_64bit">#test_load_64bit</a>
    
    <li ><a href="#method-i-test_load_64bit_range">#test_load_64bit_range</a>
    
    <li ><a href="#method-i-test_load_apia_international_dateline_change">#test_load_apia_international_dateline_change</a>
    
    <li ><a href="#method-i-test_load_before_epoch">#test_load_before_epoch</a>
    
    <li ><a href="#method-i-test_load_binmode">#test_load_binmode</a>
    
    <li ><a href="#method-i-test_load_dst_first">#test_load_dst_first</a>
    
    <li ><a href="#method-i-test_load_encoding">#test_load_encoding</a>
    
    <li ><a href="#method-i-test_load_in_safe_mode">#test_load_in_safe_mode</a>
    
    <li ><a href="#method-i-test_load_invalid_format">#test_load_invalid_format</a>
    
    <li ><a href="#method-i-test_load_invalid_magic">#test_load_invalid_magic</a>
    
    <li ><a href="#method-i-test_load_invalid_offset_index">#test_load_invalid_offset_index</a>
    
    <li ><a href="#method-i-test_load_invalid_section2_magic">#test_load_invalid_section2_magic</a>
    
    <li ><a href="#method-i-test_load_mismatched_section2_magic">#test_load_mismatched_section2_magic</a>
    
    <li ><a href="#method-i-test_load_missing_abbrev_null_termination">#test_load_missing_abbrev_null_termination</a>
    
    <li ><a href="#method-i-test_load_negative_utc_offset">#test_load_negative_utc_offset</a>
    
    <li ><a href="#method-i-test_load_no_offsets">#test_load_no_offsets</a>
    
    <li ><a href="#method-i-test_load_no_transitions">#test_load_no_transitions</a>
    
    <li ><a href="#method-i-test_load_offset_both_adjacent_non_dst_equal_utc_total_offset">#test_load_offset_both_adjacent_non_dst_equal_utc_total_offset</a>
    
    <li ><a href="#method-i-test_load_offset_does_not_use_equal_utc_total_offset_equal_after">#test_load_offset_does_not_use_equal_utc_total_offset_equal_after</a>
    
    <li ><a href="#method-i-test_load_offset_does_not_use_equal_utc_total_offset_equal_before">#test_load_offset_does_not_use_equal_utc_total_offset_equal_before</a>
    
    <li ><a href="#method-i-test_load_offset_split_for_different_utc_offset">#test_load_offset_split_for_different_utc_offset</a>
    
    <li ><a href="#method-i-test_load_offset_utc_offset_preserved_from_next">#test_load_offset_utc_offset_preserved_from_next</a>
    
    <li ><a href="#method-i-test_load_offset_utc_offset_preserved_from_previous">#test_load_offset_utc_offset_preserved_from_previous</a>
    
    <li ><a href="#method-i-test_load_offset_utc_offset_taken_from_minimum_difference_minimum_after">#test_load_offset_utc_offset_taken_from_minimum_difference_minimum_after</a>
    
    <li ><a href="#method-i-test_load_offset_utc_offset_taken_from_minimum_difference_minimum_before">#test_load_offset_utc_offset_taken_from_minimum_difference_minimum_before</a>
    
    <li ><a href="#method-i-test_load_on_epoch">#test_load_on_epoch</a>
    
    <li ><a href="#method-i-test_load_out_of_range_abbrev_offsets">#test_load_out_of_range_abbrev_offsets</a>
    
    <li ><a href="#method-i-test_load_starts_only_dst_transition_with_lmt">#test_load_starts_only_dst_transition_with_lmt</a>
    
    <li ><a href="#method-i-test_load_starts_only_dst_transition_without_lmt">#test_load_starts_only_dst_transition_without_lmt</a>
    
    <li ><a href="#method-i-test_load_starts_two_hour_std_offset">#test_load_starts_two_hour_std_offset</a>
    
    <li ><a href="#method-i-test_load_std_offset_changes">#test_load_std_offset_changes</a>
    
    <li ><a href="#method-i-test_load_std_offset_changes_jump_to_double_dst">#test_load_std_offset_changes_jump_to_double_dst</a>
    
    <li ><a href="#method-i-test_load_std_offset_changes_negative">#test_load_std_offset_changes_negative</a>
    
    <li ><a href="#method-i-test_load_supported_64bit_range">#test_load_supported_64bit_range</a>
    
    <li ><a href="#method-i-test_load_switch_to_dst_and_change_utc_offset">#test_load_switch_to_dst_and_change_utc_offset</a>
    
    <li ><a href="#method-i-test_load_with_leap_seconds">#test_load_with_leap_seconds</a>
    
    <li ><a href="#method-i-test_read_offset_negative_std_offset_dst">#test_read_offset_negative_std_offset_dst</a>
    
    <li ><a href="#method-i-test_read_offset_negative_std_offset_dst_initial_dst">#test_read_offset_negative_std_offset_dst_initial_dst</a>
    
    <li ><a href="#method-i-test_read_offset_prefer_base_offset_moves_from_dst_not_hour">#test_read_offset_prefer_base_offset_moves_from_dst_not_hour</a>
    
    <li ><a href="#method-i-test_read_offset_prefer_base_offset_moves_to_dst_not_hour">#test_read_offset_prefer_base_offset_moves_to_dst_not_hour</a>
    
    <li ><a href="#method-i-tzif_test">#tzif_test</a>
    
    <li ><a href="#method-i-write_tzif">#write_tzif</a>
    
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-labelledby="class-TCZoneinfoTimezoneInfo">
  <h1 id="class-TCZoneinfoTimezoneInfo" class="class">
    class TCZoneinfoTimezoneInfo
  </h1>

  <section class="description">
    
  </section>

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    
    <section class="constants-list">
      <header>
        <h3>Constants</h3>
      </header>
      <dl>
      
        <dt id="SUPPORTS_64BIT">SUPPORTS_64BIT
        
        <dd>
        
      
        <dt id="SUPPORTS_NEGATIVE">SUPPORTS_NEGATIVE
        
        <dd>
        
      
      </dl>
    </section>
    

    

    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section">
       <header>
         <h3>Public Instance Methods</h3>
       </header>

    
      <div id="method-i-assert_period" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">assert_period</span><span
            class="method-args">(abbreviation, utc_offset, std_offset, dst, start_at, end_at, info)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="assert_period-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 25</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">assert_period</span>(<span class="ruby-identifier">abbreviation</span>, <span class="ruby-identifier">utc_offset</span>, <span class="ruby-identifier">std_offset</span>, <span class="ruby-identifier">dst</span>, <span class="ruby-identifier">start_at</span>, <span class="ruby-identifier">end_at</span>, <span class="ruby-identifier">info</span>)    
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">start_at</span>
    <span class="ruby-identifier">period</span> = <span class="ruby-identifier">info</span>.<span class="ruby-identifier">period_for_utc</span>(<span class="ruby-identifier">start_at</span>)
  <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">end_at</span>
    <span class="ruby-identifier">period</span> = <span class="ruby-identifier">info</span>.<span class="ruby-identifier">period_for_utc</span>(<span class="ruby-constant">TimeOrDateTime</span>.<span class="ruby-identifier">wrap</span>(<span class="ruby-identifier">end_at</span>).<span class="ruby-identifier">add_with_convert</span>(<span class="ruby-value">-1</span>).<span class="ruby-identifier">to_orig</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-comment"># no transitions, pick the epoch</span>
    <span class="ruby-identifier">period</span> = <span class="ruby-identifier">info</span>.<span class="ruby-identifier">period_for_utc</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>))
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">abbreviation</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">abbreviation</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">utc_offset</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_offset</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">std_offset</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">std_offset</span>)
  <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">dst</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">dst?</span>)
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">start_at</span>
    <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_start_time</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">start_at</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_start_time</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_start_time</span>)
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">end_at</span>
    <span class="ruby-identifier">refute_nil</span>(<span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_end_time</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-identifier">end_at</span>, <span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_end_time</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">assert_nil</span>(<span class="ruby-identifier">period</span>.<span class="ruby-identifier">utc_end_time</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-convert_times_to_i" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">convert_times_to_i</span><span
            class="method-args">(items, key = :at)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="convert_times_to_i-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 55</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">convert_times_to_i</span>(<span class="ruby-identifier">items</span>, <span class="ruby-identifier">key</span> = <span class="ruby-value">:at</span>)
  <span class="ruby-identifier">items</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">item</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Time</span>)
      <span class="ruby-identifier">item</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-identifier">item</span>[<span class="ruby-identifier">key</span>].<span class="ruby-identifier">utc</span>.<span class="ruby-identifier">to_i</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pack_int64_network_order" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pack_int64_network_order</span><span
            class="method-args">(values)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pack_int64_network_order-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 70</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pack_int64_network_order</span>(<span class="ruby-identifier">values</span>)
  <span class="ruby-identifier">values</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> [<span class="ruby-identifier">value</span> <span class="ruby-operator">&gt;&gt;</span> <span class="ruby-value">32</span>, <span class="ruby-identifier">value</span> <span class="ruby-operator">&amp;</span> <span class="ruby-value">0xFFFFFFFF</span>]}.<span class="ruby-identifier">flatten</span>.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;NN&#39;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">values</span>.<span class="ruby-identifier">length</span>)
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-pack_int64_signed_network_order" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">pack_int64_signed_network_order</span><span
            class="method-args">(values)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="pack_int64_signed_network_order-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 74</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">pack_int64_signed_network_order</span>(<span class="ruby-identifier">values</span>)
  <span class="ruby-comment"># Convert to the equivalent 64-bit unsigned integer with the same bit representation</span>
  <span class="ruby-identifier">pack_int64_network_order</span>(<span class="ruby-identifier">values</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">&lt;</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">+</span> <span class="ruby-value">0x10000000000000000</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">value</span>})
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-select_with_32bit_values" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">select_with_32bit_values</span><span
            class="method-args">(items, key = :at)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="select_with_32bit_values-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 63</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">select_with_32bit_values</span>(<span class="ruby-identifier">items</span>, <span class="ruby-identifier">key</span> = <span class="ruby-value">:at</span>)
  <span class="ruby-identifier">items</span>.<span class="ruby-identifier">select</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">i</span> = <span class="ruby-identifier">item</span>[<span class="ruby-identifier">key</span>]
    <span class="ruby-identifier">i</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">-2147483648</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">i</span> <span class="ruby-operator">&lt;=</span> <span class="ruby-value">2147483647</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 206</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>,    <span class="ruby-value">0</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>),                    <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_32bit_range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_32bit_range</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_32bit_range-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 581</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_32bit_range</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span>,                <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>,             <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/ThirtyTwoRange&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/ThirtyTwoRange&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-constant">SUPPORTS_NEGATIVE</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>,                    <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">-2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span>).<span class="ruby-identifier">utc</span>,    <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">-2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span>).<span class="ruby-identifier">utc</span>,    <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>),  <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">utc</span>, <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">utc</span>, <span class="ruby-keyword">nil</span>,                    <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>),   <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>),  <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>),  <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">utc</span>, <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-value">2</span><span class="ruby-operator">**</span><span class="ruby-value">31</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">utc</span>, <span class="ruby-keyword">nil</span>,                    <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_64bit" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_64bit</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_64bit-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 473</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_64bit</span>
  <span class="ruby-comment"># Some platforms support 64-bit Times, others only 32-bit. The TZif version</span>
  <span class="ruby-comment"># 2 and later format contains both 32-bit and 64-bit times.</span>
  
  <span class="ruby-comment"># Where 64-bit is supported and a TZif 2 or later file is provided, the </span>
  <span class="ruby-comment"># 64-bit times should be used, otherwise the 32-bit information should be </span>
  <span class="ruby-comment"># used.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span>            <span class="ruby-value">-3786739200</span>, <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, <span class="ruby-comment"># Time.utc(1850,  1,  2)</span>
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span>             <span class="ruby-value">2240524800</span>, <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}] <span class="ruby-comment"># Time.utc(2040, 12, 31)</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/SixtyFour&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/SixtyFour&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-constant">SUPPORTS_64BIT</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1850</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1850</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2040</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>,    <span class="ruby-value">0</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2040</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>),                    <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2003</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>),                    <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_64bit_range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_64bit_range</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_64bit_range-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 511</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_64bit_range</span>
  <span class="ruby-comment"># The full range of 64 bit timestamps is not currently supported because of</span>
  <span class="ruby-comment"># the way transitions are indexed. Transitions outside the supported range</span>
  <span class="ruby-comment"># will be ignored.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-2</span><span class="ruby-operator">**</span><span class="ruby-value">63</span>,                <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span><span class="ruby-operator">**</span><span class="ruby-value">63</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>,             <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/SixtyFourRange&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/SixtyFourRange&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-constant">SUPPORTS_64BIT</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
      <span class="ruby-comment"># When the full range is supported, the following periods will be defined:</span>
      <span class="ruby-comment">#assert_period(:LMT,  3542, 0, false, nil,                    Time.at(-2**63).utc,    info)</span>
      <span class="ruby-comment">#assert_period(:XST,  3600, 0, false, Time.at(-2**63).utc,    Time.utc(2014, 5, 27),  info)</span>
      <span class="ruby-comment">#assert_period(:XNST, 7200, 0, false, Time.utc(2014, 5, 27),  Time.at(2**63 - 1).utc, info)</span>
      <span class="ruby-comment">#assert_period(:LMT,  3542, 0, false, Time.at(2**63 - 1).utc, nil,                    info)</span>

      <span class="ruby-comment"># Without full range support, the following periods will be defined:</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>,                   <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-keyword">nil</span>,                   <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>,                   <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-keyword">nil</span>,                   <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_apia_international_dateline_change" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_apia_international_dateline_change</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_apia_international_dateline_change-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 782</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_apia_international_dateline_change</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-comment"># Pacific/Apia moved across the International Date Line whilst observing</span>
  <span class="ruby-comment"># daylight savings time.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">45184</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-39600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;-11&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-36000</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;-10&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">50400</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;+14&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">46800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;+13&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>,  <span class="ruby-value">4</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">24</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">10</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2012</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">31</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Test/Pacific/Apia&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Test/Pacific/Apia&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(  <span class="ruby-value">:LMT</span>,  <span class="ruby-value">45184</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                              <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>,  <span class="ruby-value">4</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:&#39;-11&#39;</span>, <span class="ruby-value">-39600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>,  <span class="ruby-value">4</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">24</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:&#39;-10&#39;</span>, <span class="ruby-value">-39600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">24</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">10</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:&#39;+14&#39;</span>,  <span class="ruby-value">46800</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>, <span class="ruby-value">12</span>, <span class="ruby-value">30</span>, <span class="ruby-value">10</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2012</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">31</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:&#39;+13&#39;</span>,  <span class="ruby-value">46800</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2012</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">31</span>, <span class="ruby-value">14</span>, <span class="ruby-value">0</span>, <span class="ruby-value">0</span>),                              <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_before_epoch" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_before_epoch</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_before_epoch-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 406</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_before_epoch</span>
  <span class="ruby-comment"># Some platforms don&#39;t support negative timestamps for times before the</span>
  <span class="ruby-comment"># epoch. Check that they are returned when supported and skipped when not.</span>

  <span class="ruby-comment"># Note the last transition before the epoch (and within the 32-bit range) is</span>
  <span class="ruby-comment"># moved to the epoch on platforms that do not support negative timestamps.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span>             <span class="ruby-value">-694224000</span>, <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, <span class="ruby-comment"># Time.utc(1948,  1,  2)</span>
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span>              <span class="ruby-value">-21945600</span>, <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}, <span class="ruby-comment"># Time.utc(1969,  4, 22)</span>
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/Negative&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/Negative&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-keyword">if</span> <span class="ruby-constant">SUPPORTS_NEGATIVE</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1948</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1948</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1969</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1969</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>,    <span class="ruby-value">0</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>),                    <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_binmode" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_binmode</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_binmode-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1213</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_binmode</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>}]
    
  <span class="ruby-comment"># Transition time that includes CRLF (4EFF0D0A).</span>
  <span class="ruby-comment"># Test that this doesn&#39;t get corrupted by translating CRLF to LF.</span>
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">13</span>, <span class="ruby-value">24</span>, <span class="ruby-value">26</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                                <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">13</span>, <span class="ruby-value">24</span>, <span class="ruby-value">26</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2011</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>, <span class="ruby-value">13</span>, <span class="ruby-value">24</span>, <span class="ruby-value">26</span>),                                <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_dst_first" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_dst_first</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_dst_first-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 256</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_dst_first</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1979</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1980</span>, <span class="ruby-value">10</span>, <span class="ruby-value">21</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/Two&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/Two&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1979</span>, <span class="ruby-value">1</span>, <span class="ruby-value">2</span>), <span class="ruby-identifier">info</span>)      
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_encoding" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_encoding</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_encoding-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1193</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_encoding</span>
  <span class="ruby-comment"># tzfile.5 doesn&#39;t specify an encoding, but the source data is in ASCII.</span>
  <span class="ruby-comment"># ZoneinfoTimezoneInfo will load as UTF-8 (a superset of ASCII).</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST©&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,     <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:&quot;XST©&quot;</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>),                    <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_in_safe_mode" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_in_safe_mode</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_in_safe_mode-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1177</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_in_safe_mode</span>
  <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12094</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LT&#39;</span>}]
      
  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, []) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-comment"># untaint only required for Ruby 1.9.2</span>
    <span class="ruby-identifier">path</span>.<span class="ruby-identifier">untaint</span>
    
    <span class="ruby-identifier">safe_test</span> <span class="ruby-keyword">do</span>        
      <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/three&#39;</span>, <span class="ruby-identifier">path</span>)
      <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/three&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
      
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LT</span>, <span class="ruby-value">-12094</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_invalid_format" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_invalid_format</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_invalid_format-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 365</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_invalid_format</span>
  <span class="ruby-constant">Tempfile</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;tzinfo-test-zone&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&#39;Invalid&#39;</span>)
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">flush</span>
    
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone3&#39;</span>, <span class="ruby-identifier">file</span>.<span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_invalid_magic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_invalid_magic</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_invalid_magic-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 321</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_invalid_magic</span>
  [<span class="ruby-string">&#39;TZif4&#39;</span>, <span class="ruby-string">&#39;tzif2&#39;</span>, <span class="ruby-string">&#39;12345&#39;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">magic</span><span class="ruby-operator">|</span>    
    <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12094</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LT&#39;</span>}]
        
    <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, [], [], <span class="ruby-value">:magic</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">magic</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>        
      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone2&#39;</span>, <span class="ruby-identifier">path</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_invalid_offset_index" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_invalid_offset_index</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_invalid_offset_index-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 299</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_invalid_offset_index</span>
  <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>}]
  <span class="ruby-identifier">transitions</span> = [{<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]
      
  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_invalid_section2_magic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_invalid_section2_magic</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_invalid_section2_magic-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 337</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_invalid_section2_magic</span>
  [<span class="ruby-string">&#39;TZif4&#39;</span>, <span class="ruby-string">&#39;tzif2&#39;</span>, <span class="ruby-string">&#39;12345&#39;</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">section2_magic</span><span class="ruby-operator">|</span>    
    <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12094</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LT&#39;</span>}]
        
    <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, [], [], <span class="ruby-value">:min_format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-value">:section2_magic</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">section2_magic</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>        
      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone4&#39;</span>, <span class="ruby-identifier">path</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_mismatched_section2_magic" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_mismatched_section2_magic</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_mismatched_section2_magic-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 349</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_mismatched_section2_magic</span>
  <span class="ruby-identifier">minus_one</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-identifier">f</span> <span class="ruby-operator">==</span> <span class="ruby-value">2</span> <span class="ruby-operator">?</span> <span class="ruby-string">&quot;TZif\0&quot;</span> <span class="ruby-operator">:</span> <span class="ruby-node">&quot;TZif#{f - 1}&quot;</span> }
  <span class="ruby-identifier">plus_one</span> = <span class="ruby-constant">Proc</span>.<span class="ruby-identifier">new</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">f</span><span class="ruby-operator">|</span> <span class="ruby-node">&quot;TZif#{f + 1}&quot;</span> }
  
  [<span class="ruby-identifier">minus_one</span>, <span class="ruby-identifier">plus_one</span>].<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">section2_magic</span><span class="ruby-operator">|</span>    
    <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12094</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LT&#39;</span>}]
        
    <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, [], [], <span class="ruby-value">:min_format</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>, <span class="ruby-value">:section2_magic</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">section2_magic</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>        
      <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
        <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone5&#39;</span>, <span class="ruby-identifier">path</span>)
      <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_missing_abbrev_null_termination" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_missing_abbrev_null_termination</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_missing_abbrev_null_termination-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 376</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_missing_abbrev_null_termination</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]
          
  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>, [], <span class="ruby-value">:abbrev_separator</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;^&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_negative_utc_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_negative_utc_offset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_negative_utc_offset-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 231</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_negative_utc_offset</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12492</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12000</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-8400</span>,  <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-8400</span>,  <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">7</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1972</span>, <span class="ruby-value">10</span>, <span class="ruby-value">12</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1973</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">29</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1992</span>,  <span class="ruby-value">4</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">4</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/One&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">-12492</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                              <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">7</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">-12000</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1971</span>,  <span class="ruby-value">7</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1972</span>, <span class="ruby-value">10</span>, <span class="ruby-value">12</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>, <span class="ruby-value">-12000</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1972</span>, <span class="ruby-value">10</span>, <span class="ruby-value">12</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1973</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">29</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">-12000</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1973</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">29</span>, <span class="ruby-value">3</span>,  <span class="ruby-value">0</span>, <span class="ruby-value">0</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1992</span>,  <span class="ruby-value">4</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">4</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">-8400</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1992</span>,  <span class="ruby-value">4</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">4</span>, <span class="ruby-value">30</span>, <span class="ruby-value">0</span>),                              <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_no_offsets" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_no_offsets</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_no_offsets-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 288</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_no_offsets</span>
  <span class="ruby-identifier">offsets</span> = []
  <span class="ruby-identifier">transitions</span> = [{<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_no_transitions" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_no_transitions</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_no_transitions-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 277</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_no_transitions</span>
  <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-12094</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LT&#39;</span>}]
      
  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, []) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/three&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/three&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)
    
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LT</span>, <span class="ruby-value">-12094</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_both_adjacent_non_dst_equal_utc_total_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_both_adjacent_non_dst_equal_utc_total_offset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_both_adjacent_non_dst_equal_utc_total_offset-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 981</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_both_adjacent_non_dst_equal_utc_total_offset</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7142</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-comment"># XDT will just assume an std_offset of +1 hour and calculate the utc_offset</span>
  <span class="ruby-comment"># from utc_total_offset - std_offset.</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/AdjacentEqual&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/AdjacentEqual&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">7142</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_does_not_use_equal_utc_total_offset_equal_after" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_does_not_use_equal_utc_total_offset_equal_after</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_does_not_use_equal_utc_total_offset_equal_after-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 923</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_does_not_use_equal_utc_total_offset_equal_after</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]

  <span class="ruby-comment"># XDT will be based on the utc_offset of XST1 even though XST2 has an</span>
  <span class="ruby-comment"># equivalent (or greater) utc_total_offset.</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/UtcOffsetEqual&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/UtcOffsetEqual&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_does_not_use_equal_utc_total_offset_equal_before" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_does_not_use_equal_utc_total_offset_equal_before</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_does_not_use_equal_utc_total_offset_equal_before-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 952</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_does_not_use_equal_utc_total_offset_equal_before</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-comment"># XDT will be based on the utc_offset of XST1 even though XST2 has an</span>
  <span class="ruby-comment"># equivalent (or greater) utc_total_offset.</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/UtcOffsetEqual&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/UtcOffsetEqual&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_split_for_different_utc_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_split_for_different_utc_offset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_split_for_different_utc_offset-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 814</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_split_for_different_utc_offset</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">7</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">8</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">10</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">11</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]

  <span class="ruby-comment"># XDT will be split and defined according to its surrounding standard time</span>
  <span class="ruby-comment"># offsets.</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/SplitUtcOffset&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/SplitUtcOffset&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">7</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">7</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">8</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">8</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">9</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">10</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">10</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">11</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">11</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)

    <span class="ruby-value">1</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-value">6</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">assert_same</span>(<span class="ruby-identifier">info</span>.<span class="ruby-identifier">period_for_utc</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-identifier">i</span>, <span class="ruby-value">1</span>)).<span class="ruby-identifier">offset</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">period_for_utc</span>(<span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-identifier">i</span> <span class="ruby-operator">+</span> <span class="ruby-value">6</span>, <span class="ruby-value">1</span>)).<span class="ruby-identifier">offset</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_utc_offset_preserved_from_next" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_utc_offset_preserved_from_next</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_utc_offset_preserved_from_next-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1009</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_utc_offset_preserved_from_next</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT2&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]

  <span class="ruby-comment"># Both XDT1 and XDT2 should both use the closest utc_offset (7200) (and not</span>
  <span class="ruby-comment"># an equivalent utc_offset of 3600 and std_offset of 7200).</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/UtcOffsetPreserved&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/UtcOffsetPreserved&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT1</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT2</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_utc_offset_preserved_from_previous" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_utc_offset_preserved_from_previous</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_utc_offset_preserved_from_previous-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1041</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_utc_offset_preserved_from_previous</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT2&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">4</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-comment"># Both XDT1 and XDT2 should both use the closest utc_offset (7200) (and not</span>
  <span class="ruby-comment"># an equivalent utc_offset of 3600 and std_offset of 7200).</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/UtcOffsetPreserved&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/UtcOffsetPreserved&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT1</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT2</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_utc_offset_taken_from_minimum_difference_minimum_after" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_utc_offset_taken_from_minimum_difference_minimum_after</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_utc_offset_taken_from_minimum_difference_minimum_after-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 865</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_utc_offset_taken_from_minimum_difference_minimum_after</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]

  <span class="ruby-comment"># XDT should use the closest utc_offset (7200) (and not an equivalent</span>
  <span class="ruby-comment"># utc_offset of 3600 and std_offset of 7200).</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/MinimumUtcOffset&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/MinimumUtcOffset&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_offset_utc_offset_taken_from_minimum_difference_minimum_before" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_offset_utc_offset_taken_from_minimum_difference_minimum_before</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_offset_utc_offset_taken_from_minimum_difference_minimum_before-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 894</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_offset_utc_offset_taken_from_minimum_difference_minimum_before</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST1&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST2&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-comment"># XDT should use the closest utc_offset (7200) (and not an equivalent</span>
  <span class="ruby-comment"># utc_offset of 3600 and std_offset of 7200).</span>

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/MinimumUtcOffset&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/MinimumUtcOffset&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                   <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST2</span>, <span class="ruby-value">7200</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>( <span class="ruby-value">:XDT</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST1</span>, <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                   <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_on_epoch" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_on_epoch</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_on_epoch-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 443</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_on_epoch</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span>             <span class="ruby-value">-694224000</span>, <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}, <span class="ruby-comment"># Time.utc(1948,  1,  2)</span>
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span>              <span class="ruby-value">-21945600</span>, <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}, <span class="ruby-comment"># Time.utc(1969,  4, 22)</span>
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/Negative&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/Negative&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-constant">SUPPORTS_NEGATIVE</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1948</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1948</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">2</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1969</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1969</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">22</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                    <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1970</span>,  <span class="ruby-value">1</span>,  <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>,    <span class="ruby-value">0</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">12</span>, <span class="ruby-value">31</span>),                    <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_out_of_range_abbrev_offsets" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_out_of_range_abbrev_offsets</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_out_of_range_abbrev_offsets-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 391</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_out_of_range_abbrev_offsets</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]
          
  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>, [], <span class="ruby-value">:abbrev_offset_base</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">8</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_starts_only_dst_transition_with_lmt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_starts_only_dst_transition_with_lmt</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_starts_only_dst_transition_with_lmt-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 720</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_starts_only_dst_transition_with_lmt</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [{<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/OnlyDST&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/OnlyDST&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>, <span class="ruby-value">3542</span>, <span class="ruby-value">3658</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_starts_only_dst_transition_without_lmt" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_starts_only_dst_transition_without_lmt</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_starts_only_dst_transition_without_lmt-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 739</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_starts_only_dst_transition_without_lmt</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [{<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/OnlyDST&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/OnlyDST&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>, <span class="ruby-keyword">true</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>, <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_starts_two_hour_std_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_starts_two_hour_std_offset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_starts_two_hour_std_offset-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 694</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_starts_two_hour_std_offset</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDDT&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_std_offset_changes" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_std_offset_changes</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_std_offset_changes-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 609</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_std_offset_changes</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDDT&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_std_offset_changes_jump_to_double_dst" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_std_offset_changes_jump_to_double_dst</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_std_offset_changes_jump_to_double_dst-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 637</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_std_offset_changes_jump_to_double_dst</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},      
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDDT&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDDT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_std_offset_changes_negative" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_std_offset_changes_negative</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_std_offset_changes_negative-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 662</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_std_offset_changes_negative</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-10821</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-10800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">-7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>  <span class="ruby-value">-3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDDT&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">-10821</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">-10800</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,  <span class="ruby-value">-10800</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDDT</span>, <span class="ruby-value">-10800</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">-10800</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDDT</span>, <span class="ruby-value">-10800</span>, <span class="ruby-value">7200</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">-10800</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">6</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_supported_64bit_range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_supported_64bit_range</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_supported_64bit_range-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 547</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_supported_64bit_range</span>
  <span class="ruby-comment"># The full range of 64 bit timestamps is not currently supported because of</span>
  <span class="ruby-comment"># the way transitions are indexed. Transitions outside the supported range</span>
  <span class="ruby-comment"># will be ignored.</span>

  <span class="ruby-identifier">min_timestamp</span> = <span class="ruby-value">-8520336000</span> <span class="ruby-comment"># Time.utc(1700, 1, 1).to_i</span>
  <span class="ruby-identifier">max_timestamp</span> = <span class="ruby-value">16725225600</span> <span class="ruby-comment"># Time.utc(2500, 1, 1).to_i</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">7200</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XNST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">min_timestamp</span>,         <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">max_timestamp</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>,     <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/SupportedSixtyFourRange&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/SupportedSixtyFourRange&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-keyword">if</span> <span class="ruby-constant">SUPPORTS_64BIT</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>,                            <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">min_timestamp</span>).<span class="ruby-identifier">utc</span>,     <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,  <span class="ruby-value">3600</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">min_timestamp</span>).<span class="ruby-identifier">utc</span>,     <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>),          <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>),          <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">max_timestamp</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">utc</span>, <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">at</span>(<span class="ruby-identifier">max_timestamp</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>).<span class="ruby-identifier">utc</span>, <span class="ruby-keyword">nil</span>,                            <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-keyword">nil</span>,                   <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-identifier">info</span>)
      <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XNST</span>, <span class="ruby-value">7200</span>, <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2014</span>, <span class="ruby-value">5</span>, <span class="ruby-value">27</span>), <span class="ruby-keyword">nil</span>,                   <span class="ruby-identifier">info</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_switch_to_dst_and_change_utc_offset" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_switch_to_dst_and_change_utc_offset</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_switch_to_dst_and_change_utc_offset-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 756</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_switch_to_dst_and_change_utc_offset</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-comment"># Switch from non-DST to DST at the same time as moving the UTC offset</span>
  <span class="ruby-comment"># back an hour (i.e. wall clock time doesn&#39;t change).</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3542</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;YST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>}]
    
  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>     
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/DoubleDaylight&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>,  <span class="ruby-value">3542</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:YST</span>,  <span class="ruby-value">3600</span>,    <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,     <span class="ruby-value">0</span>, <span class="ruby-value">3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_load_with_leap_seconds" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_load_with_leap_seconds</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_load_with_leap_seconds-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 310</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_load_with_leap_seconds</span>
  <span class="ruby-identifier">offsets</span> = [{<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>}]
  <span class="ruby-identifier">leaps</span> = [{<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">1972</span>,<span class="ruby-value">6</span>,<span class="ruby-value">30</span>,<span class="ruby-value">23</span>,<span class="ruby-value">59</span>,<span class="ruby-value">60</span>), <span class="ruby-value">:seconds</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]
      
  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, [], <span class="ruby-identifier">leaps</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">assert_raises</span>(<span class="ruby-constant">InvalidZoneinfoFile</span>) <span class="ruby-keyword">do</span>
      <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_read_offset_negative_std_offset_dst" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_read_offset_negative_std_offset_dst</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_read_offset_negative_std_offset_dst-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1073</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_read_offset_negative_std_offset_dst</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-100</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XWT&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/NegativeStdOffsetDst&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/NegativeStdOffsetDst&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">-100</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">3600</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XWT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">-3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">3600</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XWT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">-3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">3600</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_read_offset_negative_std_offset_dst_initial_dst" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_read_offset_negative_std_offset_dst_initial_dst</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_read_offset_negative_std_offset_dst_initial_dst-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1102</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_read_offset_negative_std_offset_dst_initial_dst</span>
  <span class="ruby-comment"># The zoneinfo files don&#39;t include the offset from standard time, so this</span>
  <span class="ruby-comment"># has to be derived by looking at changes in the total UTC offset.</span>

  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-100</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XWT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3600</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/NegativeStdOffsetDstInitialDst&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/NegativeStdOffsetDstInitialDst&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">-100</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XWT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">-3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">3600</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XWT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">-3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">3600</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">4</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XWT</span>, <span class="ruby-value">3600</span>, <span class="ruby-value">-3600</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">5</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_read_offset_prefer_base_offset_moves_from_dst_not_hour" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_read_offset_prefer_base_offset_moves_from_dst_not_hour</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_read_offset_prefer_base_offset_moves_from_dst_not_hour-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1154</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_read_offset_prefer_base_offset_moves_from_dst_not_hour</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-100</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/BaseOffsetMovesFromDstNotHour&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/BaseOffsetMovesFromDstNotHour&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">-100</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">1800</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,    <span class="ruby-value">0</span>,  <span class="ruby-value">1800</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,    <span class="ruby-value">0</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-test_read_offset_prefer_base_offset_moves_to_dst_not_hour" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">test_read_offset_prefer_base_offset_moves_to_dst_not_hour</span><span
            class="method-args">()</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="test_read_offset_prefer_base_offset_moves_to_dst_not_hour-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 1131</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">test_read_offset_prefer_base_offset_moves_to_dst_not_hour</span>
  <span class="ruby-identifier">offsets</span> = [
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">-100</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;LMT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span>    <span class="ruby-value">0</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">true</span>,  <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XDT&#39;</span>},
    {<span class="ruby-value">:gmtoff</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1800</span>, <span class="ruby-value">:isdst</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword">false</span>, <span class="ruby-value">:abbrev</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-string">&#39;XST&#39;</span>}]

  <span class="ruby-identifier">transitions</span> = [
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">1</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">2</span>},
    {<span class="ruby-value">:at</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>,  <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-value">:offset_index</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value">3</span>}]

  <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">info</span> = <span class="ruby-constant">ZoneinfoTimezoneInfo</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&#39;Zone/BaseOffsetMovesToDstNotHour&#39;</span>, <span class="ruby-identifier">path</span>)
    <span class="ruby-identifier">assert_equal</span>(<span class="ruby-string">&#39;Zone/BaseOffsetMovesToDstNotHour&#39;</span>, <span class="ruby-identifier">info</span>.<span class="ruby-identifier">identifier</span>)

    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:LMT</span>, <span class="ruby-value">-100</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>,                  <span class="ruby-keyword">nil</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>,    <span class="ruby-value">0</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">1</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XDT</span>,    <span class="ruby-value">0</span>,  <span class="ruby-value">1800</span>,  <span class="ruby-keyword">true</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">2</span>, <span class="ruby-value">1</span>), <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>), <span class="ruby-identifier">info</span>)
    <span class="ruby-identifier">assert_period</span>(<span class="ruby-value">:XST</span>, <span class="ruby-value">1800</span>,     <span class="ruby-value">0</span>, <span class="ruby-keyword">false</span>, <span class="ruby-constant">Time</span>.<span class="ruby-identifier">utc</span>(<span class="ruby-value">2000</span>, <span class="ruby-value">3</span>, <span class="ruby-value">1</span>),                  <span class="ruby-keyword">nil</span>, <span class="ruby-identifier">info</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-tzif_test" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">tzif_test</span><span
            class="method-args">(offsets, transitions, leaps = [], options = {}, &block)</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="tzif_test-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 198</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">tzif_test</span>(<span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>, <span class="ruby-identifier">leaps</span> = [], <span class="ruby-identifier">options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-identifier">min_format</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:min_format</span>] <span class="ruby-operator">||</span> <span class="ruby-value">1</span>
  
  <span class="ruby-identifier">min_format</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-value">3</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">format</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">write_tzif</span>(<span class="ruby-identifier">format</span>, <span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>, <span class="ruby-identifier">leaps</span>, <span class="ruby-identifier">options</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
      <div id="method-i-write_tzif" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">write_tzif</span><span
            class="method-args">(format, offsets, transitions, leaps = [], options = {}) { |path, format| ... }</span>
          
          <span class="method-click-advice">click to toggle source</span>
          
        </div>
        

        <div class="method-description">
          
          
          
          

          
          <div class="method-source-code" id="write_tzif-source">
            <pre><span class="ruby-comment"># File vendor/bundle/ruby/2.4.0/gems/tzinfo-1.2.5/test/tc_zoneinfo_timezone_info.rb, line 79</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">write_tzif</span>(<span class="ruby-identifier">format</span>, <span class="ruby-identifier">offsets</span>, <span class="ruby-identifier">transitions</span>, <span class="ruby-identifier">leaps</span> = [], <span class="ruby-identifier">options</span> = {})
  
  <span class="ruby-comment"># Options for testing malformed zoneinfo files.</span>
  <span class="ruby-identifier">magic</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:magic</span>]
  <span class="ruby-identifier">section2_magic</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:section2_magic</span>]
  <span class="ruby-identifier">abbrev_separator</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:abbrev_separator</span>] <span class="ruby-operator">||</span> <span class="ruby-string">&quot;\0&quot;</span>
  <span class="ruby-identifier">abbrev_offset_base</span> = <span class="ruby-identifier">options</span>[<span class="ruby-value">:abbrev_offset_base</span>] <span class="ruby-operator">||</span> <span class="ruby-value">0</span>
    
  <span class="ruby-keyword">unless</span> <span class="ruby-identifier">magic</span>
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">==</span> <span class="ruby-value">1</span>
      <span class="ruby-identifier">magic</span> = <span class="ruby-string">&quot;TZif\0&quot;</span>
    <span class="ruby-keyword">elsif</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">magic</span> = <span class="ruby-node">&quot;TZif#{format}&quot;</span>
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-string">&#39;Invalid format specified&#39;</span>
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">section2_magic</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">Proc</span>)
    <span class="ruby-identifier">section2_magic</span> = <span class="ruby-identifier">section2_magic</span>.<span class="ruby-identifier">call</span>(<span class="ruby-identifier">format</span>)
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">section2_magic</span> = <span class="ruby-identifier">magic</span> <span class="ruby-keyword">unless</span> <span class="ruby-identifier">section2_magic</span>
  <span class="ruby-keyword">end</span>
  
  <span class="ruby-identifier">convert_times_to_i</span>(<span class="ruby-identifier">transitions</span>)
  <span class="ruby-identifier">convert_times_to_i</span>(<span class="ruby-identifier">leaps</span>)    
  
  <span class="ruby-identifier">abbrevs</span> = <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">o</span><span class="ruby-operator">|</span> <span class="ruby-identifier">o</span>[<span class="ruby-value">:abbrev</span>]}.<span class="ruby-identifier">uniq</span>
  
  <span class="ruby-keyword">if</span> <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>
    <span class="ruby-identifier">abbrevs</span> = <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">encode</span>(<span class="ruby-string">&#39;UTF-8&#39;</span>)} <span class="ruby-keyword">if</span> <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:encode</span>)    
  
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">first</span>.<span class="ruby-identifier">respond_to?</span>(<span class="ruby-value">:bytesize</span>)
      <span class="ruby-identifier">abbrevs_length</span> = <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">bytesize</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">abbrev_separator</span>.<span class="ruby-identifier">bytesize</span>}
    <span class="ruby-keyword">else</span>
      <span class="ruby-identifier">abbrevs_length</span> = <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">inject</span>(<span class="ruby-value">0</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">sum</span>, <span class="ruby-identifier">a</span><span class="ruby-operator">|</span> <span class="ruby-identifier">sum</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">a</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">abbrev_separator</span>.<span class="ruby-identifier">length</span>}
    <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">else</span>
    <span class="ruby-identifier">abbrevs_length</span> = <span class="ruby-value">0</span>
  <span class="ruby-keyword">end</span>

  <span class="ruby-identifier">b32_transitions</span> = <span class="ruby-identifier">select_with_32bit_values</span>(<span class="ruby-identifier">transitions</span>)    
  <span class="ruby-identifier">b32_leaps</span> = <span class="ruby-identifier">select_with_32bit_values</span>(<span class="ruby-identifier">leaps</span>)

  <span class="ruby-constant">Tempfile</span>.<span class="ruby-identifier">open</span>(<span class="ruby-string">&#39;tzinfo-test-zone&#39;</span>) <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">file</span><span class="ruby-operator">|</span>
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">binmode</span>
    
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(
      [<span class="ruby-identifier">magic</span>, <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">leaps</span>.<span class="ruby-identifier">length</span>, 
       <span class="ruby-identifier">b32_transitions</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">abbrevs_length</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;a5 x15 NNNNNN&#39;</span>))
      
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">b32_transitions</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">b32_transitions</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>[<span class="ruby-value">:at</span>]}.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;N&#39;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">b32_transitions</span>.<span class="ruby-identifier">length</span>))
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">b32_transitions</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>[<span class="ruby-value">:offset_index</span>]}.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;C&#39;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">b32_transitions</span>.<span class="ruby-identifier">length</span>))
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">offset</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">index</span> = <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">offset</span>[<span class="ruby-value">:abbrev</span>])
      <span class="ruby-identifier">abbrev_offset</span> = <span class="ruby-identifier">abbrev_offset_base</span>
      <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">index</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">abbrev_offset</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">abbrevs</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>}
    
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>([<span class="ruby-identifier">offset</span>[<span class="ruby-value">:gmtoff</span>], <span class="ruby-identifier">offset</span>[<span class="ruby-value">:isdst</span>] <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">abbrev_offset</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;NCC&#39;</span>))
    <span class="ruby-keyword">end</span>
        
    <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">a</span>)
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">abbrev_separator</span>)
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-identifier">b32_leaps</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">leap</span><span class="ruby-operator">|</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>([<span class="ruby-identifier">leap</span>[<span class="ruby-value">:at</span>], <span class="ruby-identifier">leap</span>[<span class="ruby-value">:seconds</span>]].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;NN&#39;</span>))
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-keyword">unless</span> <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">empty?</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;\0&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>)
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-keyword">if</span> <span class="ruby-identifier">format</span> <span class="ruby-operator">&gt;=</span> <span class="ruby-value">2</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(
        [<span class="ruby-identifier">section2_magic</span>, <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">leaps</span>.<span class="ruby-identifier">length</span>, 
         <span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">abbrevs_length</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;a5 x15 NNNNNN&#39;</span>))
  
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">pack_int64_signed_network_order</span>(<span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>[<span class="ruby-value">:at</span>]}))
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">collect</span> {<span class="ruby-operator">|</span><span class="ruby-identifier">t</span><span class="ruby-operator">|</span> <span class="ruby-identifier">t</span>[<span class="ruby-value">:offset_index</span>]}.<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;C&#39;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">transitions</span>.<span class="ruby-identifier">length</span>))
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">offset</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">index</span> = <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">offset</span>[<span class="ruby-value">:abbrev</span>])
        <span class="ruby-identifier">abbrev_offset</span> = <span class="ruby-identifier">abbrev_offset_base</span>
        <span class="ruby-value">0</span>.<span class="ruby-identifier">upto</span>(<span class="ruby-identifier">index</span> <span class="ruby-operator">-</span> <span class="ruby-value">1</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">i</span><span class="ruby-operator">|</span> <span class="ruby-identifier">abbrev_offset</span> <span class="ruby-operator">+=</span> <span class="ruby-identifier">abbrevs</span>[<span class="ruby-identifier">i</span>].<span class="ruby-identifier">length</span> <span class="ruby-operator">+</span> <span class="ruby-value">1</span>}
      
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>([<span class="ruby-identifier">offset</span>[<span class="ruby-value">:gmtoff</span>], <span class="ruby-identifier">offset</span>[<span class="ruby-value">:isdst</span>] <span class="ruby-operator">?</span> <span class="ruby-value">1</span> <span class="ruby-operator">:</span> <span class="ruby-value">0</span>, <span class="ruby-identifier">abbrev_offset</span>].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;NCC&#39;</span>))
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-identifier">abbrevs</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">a</span><span class="ruby-operator">|</span>
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">a</span>)
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">abbrev_separator</span>)
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-identifier">leaps</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">leap</span><span class="ruby-operator">|</span>          
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-identifier">pack_int64_signed_network_order</span>([<span class="ruby-identifier">leap</span>[<span class="ruby-value">:at</span>]]))
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>([<span class="ruby-identifier">leap</span>[<span class="ruby-value">:seconds</span>]].<span class="ruby-identifier">pack</span>(<span class="ruby-string">&#39;N&#39;</span>))
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-keyword">unless</span> <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">empty?</span>
        <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;\0&quot;</span> <span class="ruby-operator">*</span> <span class="ruby-identifier">offsets</span>.<span class="ruby-identifier">length</span> <span class="ruby-operator">*</span> <span class="ruby-value">2</span>)
      <span class="ruby-keyword">end</span>
      
      <span class="ruby-comment"># Empty POSIX timezone string</span>
      <span class="ruby-identifier">file</span>.<span class="ruby-identifier">write</span>(<span class="ruby-string">&quot;\n\n&quot;</span>)
    <span class="ruby-keyword">end</span>
    
    <span class="ruby-identifier">file</span>.<span class="ruby-identifier">flush</span>
    
    <span class="ruby-keyword">yield</span> <span class="ruby-identifier">file</span>.<span class="ruby-identifier">path</span>, <span class="ruby-identifier">format</span>
  <span class="ruby-keyword">end</span>
<span class="ruby-keyword">end</span></pre>
          </div>
          
        </div>

        

        
      </div>

    
    </section>
  
  </section>
</main>


<footer id="validator-badges" role="contentinfo">
  <p><a href="http://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://rdoc.github.io/rdoc">RDoc</a> 5.0.0.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

