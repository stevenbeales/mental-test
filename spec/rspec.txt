
App
[32m  should be a kind of Sinatra::Wrapper[0m

Ralyxa::Skill
[32m  should be a kind of Ralyxa::Skill[0m

Launch Intent
[32m  accepts alexa launch request object[0m

ApplicationRecord
  is an abstract class
[32m    should raise NotImplementedError[0m

Arm
[32m  is an instance of Arm[0m
[32m  is valid with valid attributes[0m
  #respond_to?
    #name
[32m      should be truthy[0m
    #number
[32m      should be truthy[0m
    #schedule
[32m      should be truthy[0m
    #study
[32m      should be truthy[0m
    #study_events
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is set to "arm1" if missing[0m
  #schedule
[32m    is required[0m
    missing schedule
[32m      study is nil[0m
    #arms
[32m      should not be nil[0m
[32m      should be > 0[0m
  #study
[32m    equals test study[0m
  #number
[32m    is required and positive[0m
[32m    must be positive[0m
    must be < 10001
[32m      should eq 1[0m
[32m      must equal 10000[0m
    must be > 0
[32m      should eq 1[0m
    must be an integer
[32m      should eq 1[0m
  #study_events
[32m    should eq 1[0m
  .create!
    no name or schedule
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name and title
[32m      should not raise Exception[0m
    unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
    #destroy!
[32m      also removes study_events[0m
    #to_s
[32m      prints study schedule name number[0m
    #created_at today
[32m      is created less than 5 minutes ago[0m

AssessmentInstrument
[32m  is an instance of AssessmentInstrument[0m
[32m  is valid with valid attributes[0m
  #respond_to?
    #assessment
[32m      should be truthy[0m
    #instrument
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #instrument
[32m    is required[0m
[32m    should eq 1[0m
  #assessment
[32m    is required[0m
[32m    should eq 1[0m
  .create!
    no instrument or assessment
[32m      should raise ActiveRecord::RecordInvalid[0m
    no instrument
[32m      should raise ActiveRecord::RecordInvalid[0m
    no assessment
[32m      should raise ActiveRecord::RecordInvalid[0m
    with assessment and instrument
[32m      should not raise Exception[0m
    unique instrument and assessment
[32m      should raise ActiveRecord::RecordInvalid[0m
  #to_s
[32m    should eq "Test User Depression Survey 1 Cesd-r"[0m
  #destroy!
[32m    should be truthy[0m
[32m    should be truthy[0m
  #created_at today
[32m    should be < 300[0m

Assessment
[32m  is an instance of Assessment[0m
[32m  is valid with valid attributes[0m
  #respond_to?
    #visit
[32m      should be truthy[0m
    #survey
[32m      should be truthy[0m
    #user
[32m      should be truthy[0m
    #order_number
[32m      should be truthy[0m
    #assessment_instruments
[32m      should be truthy[0m
    #instruments
[32m      should be truthy[0m
    #responses
[32m      should be truthy[0m
    #scores
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #visit
[32m    is required[0m
  #order_number
[32m    is required[0m
  #assessment_instruments
[32m    should eq 0[0m
  #instruments
[32m    should be nil[0m
  .create!
    with no visit
[32m      should raise ActiveRecord::RecordInvalid[0m
    with visit
[32m      should not raise Exception[0m
    with default order_number
[32m      should be > 0[0m
  #user
[32m    should eq 1[0m
  #survey
[32m    should eq 1[0m
  #responses
[32m    should eq 2[0m
  #to_s
[32m    should eq "Test User Depression Survey 1"[0m
  #created_at today
[32m    should be < 300[0m
  #destroy!
[32m    should be truthy[0m

Choice
[32m  is an instance of Choice[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #response_scale
[32m    is required[0m
  #value
[32m    is required[0m
  #description
[32m    should eq 1[0m
  .create!
[32m    with response scale, value and description[0m
    without response scale or descriptionue
[32m      should raise ActiveRecord::RecordInvalid[0m
    without response scale
[32m      should raise ActiveRecord::RecordInvalid[0m
  #to_s
[32m    should eq "Test Response Scale val text"[0m
  #destroy!
[32m    should eq "0"[0m
  #created_at today
[32m    should be < 300[0m

Folder
[32m  is an instance of Folder[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  .create!
    without a name
[32m      should raise ActiveRecord::RecordInvalid[0m
    with 1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    with 2+ character name
[32m      should not raise Exception[0m
    with unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
  #destroy!
    with projects
[32m      should not be nil[0m
  #to_s
[32m    should eq "Test Folder"[0m
  #created_at today
[32m    should be < 300[0m

HipaaIdentifier
[32m  is an instance of HipaaIdentifier[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should not be truthy[0m
  #name
[32m    is required[0m
  .create!
    without a name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    3+ character name and title
[32m      should not raise Exception[0m
    has unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
    #to_s
[32m      should eq "Test Hipaa Identifier"[0m

Instrument
[32m  is an instance of Instrument[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  test instrument #items
[32m    is not empty[0m
[32m    has 20 items[0m
  #items
    has no items
[32m      should eq 0[0m
  .list_tests
[32m    should return a list of instrument names[0m
  #save!
[32m    without a name[0m
[32m    with 1 character name[0m
[32m    with duplicate name[0m
  #to_s
[32m    should eq "Cesd-r"[0m
  #version
[32m    should eq "1.0"[0m
  #tags
[32m    should eq ["Anxiety", "Schizophrenia"][0m
  #with_any_tags
    present
[32m      should eq "Cesd-r"[0m
    absent
[32m      should be nil[0m
  #instructions
[32m    should include "felt or behaved"[0m
  #created_at today
[32m    should be < 300[0m

Item
[32m  is an instance of Item[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  test item #choices
[32m    has 5 choices[0m
  test item #find_choice_by_value
[32m    has choice eq 0[0m
  #to_s
[32m    should eq "Time"[0m
  #find_by_name
[32m    should eq "Appetite1"[0m
  #instrument
[32m    should eq #<Instrument id: 1, name: "Cesd-r", version_number: "1.0", content: {"pages"=>[{"name"=>"page1", "tit...3"}, {"text"=>"Nearly every day for 2 weeks", "value"=>"4"}], "colCount"=>5, "isRequired"=>true}]}]>[0m
  #created_at today
[32m    should be < 300[0m

JournalEntry
[32m  is an instance of JournalEntry[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #entry_date
[32m    is required[0m
  #entry
[32m    is required[0m
[32m    is valid if blank[0m
  #journal
[32m    is required[0m
  .create!
    without date or journal
[32m      should raise ActiveRecord::RecordInvalid[0m
    without journal
[32m      should raise ActiveRecord::RecordInvalid[0m
    without date
[32m      should not raise Exception[0m
    with journal and date
[32m      should not raise Exception[0m
    unique entry date
[32m      {:timecop=>:freeze}[0m
    #to_s
[32m      should eq "2018-03-26 01:33:37 UTC "[0m
    #created_at today
[32m      should be < 300[0m

Journal
[32m  is an instance of Journal[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #list_entries
    defaults to last 4
[32m      should eq "2018-03-26 01:33:37 UTC  2012-12-12 00:00:00 UTC "[0m
  #read_entry
[32m    should be > 0[0m
  #name
[32m    is required[0m
  #participant
[32m    is required[0m
  .create!
    without name or study
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name and title
[32m      should not raise Exception[0m
    unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
    #to_s
[32m      should eq "Test Journal"[0m
    #create_entry_for_today
[32m      should be > 0[0m
    #created_at today
[32m      should be < 300[0m

Participant
[32m  is an instance of Participant[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #email
[32m    is required[0m
  #journal
[32m    is required[0m
  .create!
[32m    does not create a participant without an email[0m
  #to_s
[32m    should eq "test_participant@test.com"[0m
  #created_at today
[32m    should be < 300[0m

Project
[32m  is an instance of Project[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  #title
[32m    is required[0m
  #status
    valid
[32m      should eq 0[0m
[32m      should eq 0[0m
[32m      should eq 0[0m
[32m      should eq 0[0m
    invalid
[32m      should raise ArgumentError[0m
  .create!
    without name or title
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name and title
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name and title
[32m      should not raise Exception[0m
    unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
  active projects
[32m    should not include "Archived "[0m
  #to_s
[32m    should eq "Project Test"[0m
  #created_at today
[32m    should be < 300[0m
  #destroy!
    does not remove folder
[32m      example at ./spec/models/project_spec.rb:130[0m

ResponseScale
[32m  is an instance of ResponseScale[0m
[32m  is valid with valid attributes[0m
  #name
[32m    is required[0m
  .create!
    without a name
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name
[32m      should not raise Exception[0m
    has unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #destroy!
    destroys choices
[32m      should be nil[0m
  #to_s
[32m    should eq "Test Response Scale"[0m
  #created_at today
[32m    should be < 300[0m

Response
[32m  is an instance of Response[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #assessment
[32m    is required[0m
  #value
[32m    is required[0m
  .create!
    without assessment
[32m      should raise ActiveRecord::RecordInvalid[0m
    without value
[32m      should raise ActiveRecord::RecordInvalid[0m
    with value and assessment
[32m      should not raise Exception[0m
  #to_s
[32m    should eq "Test User Depression Survey 1 something"[0m
  #destroy!
    choice
[32m      should not be nil[0m
    assessment
[32m      should not be nil[0m
  #created_at today
[32m    should be < 300[0m

Schedule
[32m  is an instance of Schedule[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  #study
[32m    should eq 1[0m
  .create!
    without name or study
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name and title
[32m      should not raise Exception[0m
    unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
    #to_s
[32m      should eq "Test Schedule"[0m
    #created_at today
[32m      should be < 300[0m

Score
[32m  is an instance of Score[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #score
[32m    is required[0m
    must be an integer
[32m      should eq 1[0m
  #name
[32m    is required[0m
  .create!
    without assessment or name
[32m      should raise ActiveRecord::RecordInvalid[0m
    without assessment
[32m      should raise ActiveRecord::RecordInvalid[0m
    without name
[32m      should raise ActiveRecord::RecordInvalid[0m
    assessment and name
[32m      should not raise Exception[0m
    duplicate assessment and name
[32m      example at ./spec/models/score_spec.rb:88[0m
[32m      example at ./spec/models/score_spec.rb:92[0m
  #to_s
[32m    prints assessment name: score[0m
  #destroy!
    preserves assessment
[32m      should not be nil[0m
  destroys multiple scores
[32m    should eq "0"[0m
[32m    should eq "3"[0m
  #created_at today
[32m    should be < 300[0m

StudyEventInstrument
[32m  is an instance of StudyEventInstrument[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #instrument
[32m    is required[0m
  #study_event
[32m    is required[0m
  .create!
    with no instrument or StudyEvent
[32m      should raise ActiveRecord::RecordInvalid[0m
    with no instrument
[32m      should raise ActiveRecord::RecordInvalid[0m
    with no StudyEvent
[32m      should raise ActiveRecord::RecordInvalid[0m
    with StudyEvent and instrument
[32m      should not raise Exception[0m
    unique instrument and study event
[32m      should raise ActiveRecord::RecordInvalid[0m
  #to_s
[32m    should eq "Test Study Test Study Test Schedule Test Arm 1 Test Study Event Cesd-r"[0m
  #destroy!
[32m    should be truthy[0m
[32m    should be truthy[0m
  #created_at today
[32m    should be < 300[0m

StudyEvent
[32m  is an instance of StudyEvent[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  .create!
    without name or arm
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name and title
[32m      should not raise Exception[0m
    has unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
    #to_s
[32m      should eq "Test Study Test Study Test Schedule Test Arm 1 Test Study Event"[0m
    #created_at today
[32m      should be < 300[0m

StudyParticipant
[32m  is an instance of StudyParticipant[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #study
[32m    is required[0m
  #participant
[32m    should eq 1[0m
  .create!
    no participant or study
[32m      should raise ActiveRecord::RecordInvalid[0m
    no participant
[32m      should raise ActiveRecord::RecordInvalid[0m
    no study
[32m      should raise ActiveRecord::RecordInvalid[0m
    study and participant
[32m      should not raise Exception[0m
    unique study and participant
[32m      should raise ActiveRecord::RecordInvalid[0m
  #to_s
[32m    should eq "test_participant@test.com Test Study"[0m
  #destroy!
[32m    should be truthy[0m
[32m    should be truthy[0m
  #created_at today
[32m    should be < 300[0m

Study
[32m  is an instance of Study[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  .create!
    without a name
[32m      should raise ActiveRecord::RecordInvalid[0m
    1 character name
[32m      should raise ActiveRecord::RecordInvalid[0m
    2+ character name and title
[32m      should not raise Exception[0m
    has unique name
[32m      should raise ActiveRecord::RecordInvalid[0m
    #to_s
[32m      should eq "Test Study"[0m
    #created_at today
[32m      should be < 300[0m
    #destroy
[32m      should be nil[0m

SurveyParticipant
[32m  is an instance of SurveyParticipant[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #survey
[32m    is required[0m
  #participant
[32m    should eq 1[0m
  .create!
    no participant or survey
[32m      should raise ActiveRecord::RecordInvalid[0m
    no participant
[32m      should raise ActiveRecord::RecordInvalid[0m
    no survey
[32m      should raise ActiveRecord::RecordInvalid[0m
    survey and participant
[32m      should not raise Exception[0m
    unique survey and participant
[32m      should raise ActiveRecord::RecordInvalid[0m
  #to_s
[32m    should eq "test_participant@test.com Depression Survey"[0m
  #destroy!
[32m    should be truthy[0m
[32m    should be truthy[0m
  #created_at today
[32m    should be < 300[0m

Survey
[32m  is an instance of Survey[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #name
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #name
[32m    is required[0m
  .create!
[32m    without name[0m
[32m    1 character name[0m
[32m    2+ character name[0m
[32m    with duplicate name[0m
  .list_tests
[32m    should include "Test Survey Test"[0m
  .list_active_tests
[32m    should include "Test Survey Test Test Survey active"[0m
  #to_s
[32m    should eq "Welcome!1"[0m
  #destroy!
[32m    destroys assessments[0m
  #created_at today
[32m    should be < 300[0m

User
[32m  is an instance of a User[0m
[32m  is valid with valid attributes[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
[32m    should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #username
[32m    is required[0m
  #locale
[32m    should eq "en-US"[0m
[32m    should eq "en-GB"[0m
  .authenticate
[32m    creates a user if one does not exist[0m
[32m    retrieves a user if name and access token exists[0m
[32m    does not create a user without a username[0m
[32m    does not create a user with a name shorter than 5 characters[0m
  Saving to a database
[32m    starts out unpersisted[0m
[32m    can be persisted[0m
[32m    has unique name[0m
[32m    is a participant[0m
  #to_s
[32m    prints username[0m
  #created_at today
[32m    is created less than 5 minutes ago[0m

Visit
[32m  is an instance of Visit[0m
[32m  is valid with valid attributes[0m
  #respond_to?
    #user
[32m      should be truthy[0m
    #survey
[32m      should be truthy[0m
    #assessments
[32m      should be truthy[0m
    #number
[32m      should be truthy[0m
    #created_at
[32m      should be truthy[0m
    #updated_at
[32m      should be truthy[0m
    #not_an_attibute
[32m      should not be truthy[0m
  #number
[32m    is required and positive[0m
[32m    must be positive[0m
    must be < 10001
[32m      should eq 1[0m
[32m      should eq 0[0m
    must be > 0
[32m      should eq 1[0m
    must be an integer
[32m      should eq 1[0m
  #user
[32m    is required[0m
  #survey
[32m    is required[0m
  .create!
    no survey and user
[32m      should raise ActiveRecord::RecordInvalid[0m
    no user
[32m      should raise ActiveRecord::RecordInvalid[0m
    no survey
[32m      should raise ActiveRecord::RecordInvalid[0m
    with user and survey
[32m      should not raise Exception[0m
  #to_s
[32m    should eq "bernie Depression Survey 1"[0m
  #eq
    user, survey and name
[32m      should eq 6[0m
  #destroy!
[32m    assessment[0m
[32m    assessments[0m
  #assessments
[32m    should change `subject.assessments.size` by 2[0m
  #created_at today
[32m    is created less than 5 minutes ago[0m

AlexaService
[32m  should be a kind of AlexaService[0m
  .help_response
[32m    should eq "    Alexa can only process a few seconds of speech at a time, so after each sentence, \n    pause for a breath while your sentence is saved, then continue speaking when you hear the prompt.\n"[0m
  .launch_response
[32m    should eq "    What would you like to do? Say tests to list tests. Say start Depression to start a Depression test. \n    Say help for more help.\n"[0m
  .start_over_response
[32m    should eq "    'What would you like to do?'\n"[0m
  .goodbye_response
[32m    should eq "Goodbye."[0m
  .testname_slot
[32m    should eq "testname"[0m
  .list_tests
[32m    should include "Cesd-r Instrument 2"[0m
[32m    should include "2"[0m
  .start_test
[32m    should eq "    Cannot find instrument blah. Please try again.\n"[0m
[31m    example at ./spec/services/alexa_service_spec.rb:63 (FAILED - 1)[0m
  #read_all
[32m    should eq "2018-03-26 01:33:35 UTC "[0m
[32m    should not be nil[0m

InstrumentLoaderCsv
[32m  is an instance of InstrumentLoaderCsv[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should not be truthy[0m

InstrumentLoaderJson
[32m  is an instance of InstrumentLoaderJson[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should not be truthy[0m

InstrumentLoader
[32m  is an instance of InstrumentLoader[0m
  #respond_to?
[32m    should be truthy[0m
[32m    should not be truthy[0m
  #load existing instrument
    overwrite false
[32m      should raise RuntimeError[0m
    #load overwrite true
[32m      should eq "Cesd-r"[0m
  missing instrument
[32m    should raise RuntimeError[0m

Failures:

  1) AlexaService.start_test 
     [31mFailure/Error:[0m
     [31m  expect AlexaService.start_test(testname: \[0m
     [31m    AppConstants::DEFAULT_INSTRUMENT).to eq(ins.instructions)[0m
     [31m[0m
     [31mArgumentError:[0m
     [31m  bad value for range[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/activesupport-5.1.5/lib/active_support/core_ext/string/access.rb:62:in `to'[0m
     [36m# ./spec/services/alexa_service_spec.rb:65:in `block (3 levels) in <top (required)>'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:254:in `instance_exec'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:254:in `block in run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:500:in `block in with_around_and_singleton_context_hooks'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:457:in `block in with_around_example_hooks'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:466:in `block in run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:604:in `run_around_example_hooks_for'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/hooks.rb:466:in `run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:457:in `with_around_example_hooks'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:500:in `with_around_and_singleton_context_hooks'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example.rb:251:in `run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:628:in `block in run_examples'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:624:in `map'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:624:in `run_examples'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:590:in `run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:591:in `block in run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:591:in `map'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/example_group.rb:591:in `run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:118:in `block (3 levels) in run_specs'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:118:in `map'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:118:in `block (2 levels) in run_specs'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/configuration.rb:1926:in `with_suite_hooks'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:113:in `block in run_specs'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/reporter.rb:79:in `report'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:112:in `run_specs'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:87:in `run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:71:in `run'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/lib/rspec/core/runner.rb:45:in `invoke'[0m
     [36m# ./vendor/bundle/ruby/2.4.0/gems/rspec-core-3.7.1/exe/rspec:4:in `<main>'[0m

Finished in 8.16 seconds (files took 4.1 seconds to load)
[31m508 examples, 1 failure[0m

Failed examples:

[31mrspec ./spec/services/alexa_service_spec.rb:63[0m [36m# AlexaService.start_test [0m

